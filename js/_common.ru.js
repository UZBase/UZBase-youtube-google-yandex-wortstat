(function () { this._ycssjs || (this._ycssjs = function (a, b) { return !(a in _ycssjs || _ycssjs[a]++) }) })(); if (_ycssjs("WUiaSsaT+9iRkKc+5+6Ggo+wFDU")) { (function (e) { var b = (function () { _ }).toString().indexOf("_") > -1, a = e.browser.msie, c = a ? ["toString", "valueOf"] : null, f = function () { }; function d(h, g, i) { var l = false; if (a) { var j = []; e.each(c, function () { i.hasOwnProperty(this) && (l = true) && j.push({ name: this, val: i[this] }) }); if (l) { e.each(i, function (m) { j.push({ name: m, val: this }) }); i = j } } e.each(i, function (n, o) { if (l) { n = o.name; o = o.val } if (e.isFunction(o) && (!b || o.toString().indexOf(".__base") > -1)) { var m = h[n] || function () { }; g[n] = function () { var q = this.__base; this.__base = m; var p = o.apply(this, arguments); this.__base = q; return p } } else { g[n] = o } }) } e.inherit = function () { var m = arguments, o = e.isFunction(m[0]), h = o ? m[0] : f, n = m[o ? 1 : 0] || {}, j = m[o ? 2 : 1], p = n.__constructor || (o && h.prototype.__constructor) ? function () { return this.__constructor.apply(this, arguments) } : function () { }; if (!o) { p.prototype = n; p.prototype.__self = p.prototype.constructor = p; return e.extend(p, j) } e.extend(p, h); var i = function () { }, l = i.prototype = h.prototype, g = p.prototype = new i(); g.__self = g.constructor = p; d(l, g, n); j && d(h, p, j); return p }; e.inheritSelf = function (j, h, i) { var g = j.prototype; d(g, g, h); i && d(j, j, i); return j } })(jQuery); (function (c) { var a = 0, d = "__" + (+new Date), b = function () { return "uniq" + ++a }; c.identify = function (g, f) { if (!g) { return b() } var e = "uniqueID" in g ? "uniqueID" : d; return f || e in g ? g[e] : g[e] = b() } })(jQuery); (function (a) { a.isEmptyObject || (a.isEmptyObject = function (c) { for (var b in c) { return false } return true }) })(jQuery); (function (a) { a.extend({ debounce: function (c, d, e, b) { if (arguments.length == 3 && typeof e != "boolean") { b = e; e = false } var f; return function () { var g = arguments; b = b || this; e && !f && c.apply(b, g); clearTimeout(f); f = setTimeout(function () { e || c.apply(b, g); f = null }, d) } }, throttle: function (e, f, b) { var g, d, c; return function () { d = arguments; c = true; b = b || this; g || (function () { if (c) { e.apply(b, d); c = false; g = setTimeout(arguments.callee, f) } else { g = null } })() } } }) })(jQuery); (function (d) { var a = "__" + (+new Date) + "storage", c = function (f, e) { return d.identify(f) + (e ? d.identify(e) : "") }, b = { buildEventName: function (f) { return f }, on: function (p, j, q, t, n) { if (typeof p == "string") { if (d.isFunction(j)) { t = q; q = j; j = undefined } var f = c(q, t), m = this[a] || (this[a] = {}), g = p.split(" "), h = 0, r; while (p = g[h++]) { p = this.buildEventName(p); r = m[p] || (m[p] = { ids: {}, list: {} }); if (!(f in r.ids)) { var o = r.list, s = { fn: q, data: j, ctx: t, special: n }; if (o.last) { o.last.next = s; s.prev = o.last } else { o.first = s } r.ids[f] = o.last = s } } } else { var l = this; d.each(p, function (u, i) { l.on(u, i, j, n) }) } return this }, onFirst: function (i, h, g, f) { return this.on(i, h, g, f, { one: true }) }, un: function (q, r, u) { if (typeof q == "string" || typeof q == "undefined") { var o = this[a]; if (o) { if (q) { var h = q.split(" "), l = 0, s; while (q = h[l++]) { q = this.buildEventName(q); if (s = o[q]) { if (r) { var g = c(r, u), f = s.ids; if (g in f) { var p = s.list, t = f[g], j = t.prev, m = t.next; if (j) { j.next = m } else { if (t === p.first) { p.first = m } } if (m) { m.prev = j } else { if (t === p.last) { p.last = j } } delete f[g] } } else { delete this[a][q] } } } } else { delete this[a] } } } else { var n = this; d.each(q, function (v, i) { n.un(v, i, u) }) } return this }, trigger: function (j, h) { var m = this, l = m[a], i; typeof j === "string" ? j = d.Event(m.buildEventName(i = j)) : j.type = m.buildEventName(i = j.type); j.target || (j.target = m); if (l && (l = l[j.type])) { var g = l.list.first, f; while (g) { j.data = g.data; f = g.fn.call(g.ctx || m, j, h); if (typeof f !== "undefined") { j.result = f; if (f === false) { j.preventDefault(); j.stopPropagation() } } g.special && g.special.one && m.un(i, g.fn, g.ctx); g = g.next } } return this } }; d.observable = d.inherit(b, b) })(jQuery); (function (f, h) { var e = [], g = {}, a = {}; function d(l, j, i) { return (l ? "__elem_" + l : "") + "__mod" + (j ? "_" + j : "") + (i ? "_" + i : "") } function c(j, i, l) { f.isFunction(j) ? (i[d(l, "*", "*")] = j) : f.each(j, function (n, m) { f.isFunction(m) ? (i[d(l, n, "*")] = m) : f.each(m, function (o, p) { i[d(l, n, o)] = p }) }) } function b(j, i) { return i ? Array.isArray(i) ? function (n) { var m = 0, l = i.length; while (m < l) { if (n.hasMod(j, i[m++])) { return true } } return false } : function (l) { return l.hasMod(j, i) } : function (l) { return l.hasMod(j) } } this.BEM = f.inherit(f.observable, { __constructor: function (j, l, i) { var m = this; m._modCache = j || {}; m._processingMods = {}; m._params = l; m.params = null; i !== false ? m._init() : m.afterCurrentEvent(function () { m._init() }) }, _init: function () { if (!this._initing && !this.hasMod("js", "inited")) { this._initing = true; if (!this.params) { this.params = f.extend(this.getDefaultParams(), this._params); delete this._params } this.setMod("js", "inited"); delete this._initing; this.hasMod("js", "inited") && this.trigger("init") } return this }, changeThis: function (j, i) { return j.bind(i || this) }, afterCurrentEvent: function (j, i) { this.__self.afterCurrentEvent(this.changeThis(j, i)) }, trigger: function (j, i) { this.__base(j = this.buildEvent(j), i).__self.trigger(j, i); return this }, buildEvent: function (i) { typeof i == "string" && (i = f.Event(i)); i.block = this; return i }, hasMod: function (m, n, j) { var i = arguments.length, o = false; if (i == 1) { j = ""; n = m; m = h; o = true } else { if (i == 2) { if (typeof m == "string") { j = n; n = m; m = h } else { j = ""; o = true } } } var l = this.getMod(m, n) === j; return o ? !l : l }, getMod: function (l, m) { var i = typeof l; if (i === "string" || i === "undefined") { m = l || m; var j = this._modCache; return m in j ? j[m] : j[m] = this._extractModVal(m) } return this._getElemMod(m, l) }, _getElemMod: function (l, i, j) { return this._extractModVal(l, i, j) }, getMods: function (m) { var j = m && typeof m != "string", n = this, i = [].slice.call(arguments, j ? 1 : 0), l = n._extractMods(i, j ? m : h); if (!j) { i.length ? i.forEach(function (o) { n._modCache[o] = l[o] }) : n._modCache = l } return l }, setMod: function (l, q, r) { if (typeof r == "undefined") { r = q; q = l; l = h } var m = this; if (!l || l[0]) { var n = (l && l[0] ? f.identify(l[0]) : "") + "_" + q; if (this._processingMods[n]) { return m } var j, o = l ? m._getElemMod(q, l, j = m.__self._extractElemNameFrom(l)) : m.getMod(q); if (o === r) { return m } this._processingMods[n] = true; var i = true, p = [q, r, o]; l && p.unshift(l);[["*", "*"], [q, "*"], [q, r]].forEach(function (s) { i = m._callModFn(j, s[0], s[1], p) !== false && i }); !l && i && (m._modCache[q] = r); i && m._afterSetMod(q, r, o, l, j); delete this._processingMods[n] } return m }, _afterSetMod: function (m, i, n, j, l) { }, toggleMod: function (l, m, j, o, n) { if (typeof l == "string") { n = o; o = j; j = m; m = l; l = h } if (typeof o == "undefined") { o = "" } else { if (typeof o == "boolean") { n = o; o = "" } } var i = this.getMod(l, m); (i == j || i == o) && this.setMod(l, m, typeof n === "boolean" ? (n ? j : o) : this.hasMod(l, m, j) ? o : j); return this }, delMod: function (i, j) { if (!j) { j = i; i = h } return this.setMod(i, j, "") }, _callModFn: function (m, l, i, j) { var n = d(m, l, i); return this[n] ? this[n].apply(this, j) : h }, _extractModVal: function (j, i) { return "" }, _extractMods: function (i, j) { return {} }, channel: function (j, i) { return this.__self.channel(j, i) }, getDefaultParams: function () { return {} }, del: function (j) { var i = [].slice.call(arguments); typeof j == "string" && i.unshift(this); this.__self.del.apply(this.__self, i); return this }, destruct: function () { } }, { _name: "i-bem", blocks: g, decl: function (j, l, o) { if (typeof j == "string") { j = { block: j } } else { if (j.name) { j.block = j.name } } if (j.baseBlock && !g[j.baseBlock]) { throw ('baseBlock "' + j.baseBlock + '" for "' + j.block + '" is undefined') } l || (l = {}); if (l.onSetMod) { c(l.onSetMod, l); delete l.onSetMod } if (l.onElemSetMod) { f.each(l.onElemSetMod, function (r, q) { c(q, l, r) }); delete l.onElemSetMod } var n = g[j.baseBlock || j.block] || this; if (j.modName) { var i = b(j.modName, j.modVal); f.each(l, function (q, r) { f.isFunction(r) && (l[q] = function () { var t; if (i(this)) { t = r } else { var s = n.prototype[q]; s && s !== l[q] && (t = this.__base) } return t ? t.apply(this, arguments) : h }) }) } if (o && typeof o.live === "boolean") { var m = o.live; o.live = function () { return m } } var p; j.block == n._name ? (p = f.inheritSelf(n, l, o))._processLive(true) : (p = g[j.block] = f.inherit(n, l, o))._name = j.block; return p }, _processLive: function (i) { return false }, create: function (j, i) { typeof j == "string" && (j = { block: j }); return new g[j.block](j.mods, i) }, getName: function () { return this._name }, _extractElemNameFrom: function (i) { }, afterCurrentEvent: function (j, i) { e.push({ fn: j, ctx: i }) == 1 && setTimeout(this._runAfterCurrentEventFns, 0) }, _runAfterCurrentEventFns: function () { var j = e.length; if (j) { var i, l = e.splice(0, j); while (i = l.shift()) { i.fn.call(i.ctx || this) } } }, changeThis: function (j, i) { return j.bind(i || this) }, del: function (n) { var m = typeof n == "string", l = m ? 0 : 1, j = arguments.length; m && (n = this); while (l < j) { delete n[arguments[l++]] } return this }, channel: function (j, i) { if (typeof j == "boolean") { i = j; j = h } j || (j = "default"); if (i) { if (a[j]) { a[j].un(); delete a[j] } return } return a[j] || (a[j] = new f.observable()) } }) })(jQuery); (function () { Object.keys || (Object.keys = function (c) { var b = []; for (var a in c) { c.hasOwnProperty(a) && b.push(a) } return b }) })(); (function () { var a = Array.prototype, d = Object.prototype.toString, b = { indexOf: function (h, g) { g = +(g || 0); var f = this, e = f.length; if (e > 0 && g < e) { g = g < 0 ? Math.ceil(g) : Math.floor(g); g < -e && (g = 0); g < 0 && (g = g + e); while (g < e) { if (g in f && f[g] === h) { return g } ++g } } return -1 }, forEach: function (j, f) { var h = -1, g = this, e = g.length; while (++h < e) { h in g && (f ? j.call(f, g[h], h, g) : j(g[h], h, g)) } }, map: function (l, f) { var j = -1, h = this, e = h.length, g = new Array(e); while (++j < e) { j in h && (g[j] = f ? l.call(f, h[j], j, h) : l(h[j], j, h)) } return g }, filter: function (l, f) { var j = -1, h = this, e = h.length, g = []; while (++j < e) { j in h && (f ? l.call(f, h[j], j, h) : l(h[j], j, h)) && g.push(h[j]) } return g }, reduce: function (l, j) { var h = -1, g = this, e = g.length, f; if (arguments.length < 2) { while (++h < e) { if (h in g) { f = g[h]; break } } } else { f = j } while (++h < e) { h in g && (f = l(f, g[h], h, g)) } return f }, some: function (j, f) { var h = -1, g = this, e = g.length; while (++h < e) { if (h in g && (f ? j.call(f, g[h], h, g) : j(g[h], h, g))) { return true } } return false }, every: function (j, f) { var h = -1, g = this, e = g.length; while (++h < e) { if (h in g && !(f ? j.call(f, g[h], h, g) : j(g[h], h, g))) { return false } } return true } }; for (var c in b) { a[c] || (a[c] = b[c]) } Array.isArray || (Array.isArray = function (e) { return d.call(e) === "[object Array]" }) })(); (function () { var a = Array.prototype.slice; Function.prototype.bind || (Function.prototype.bind = function (b) { var d = this, c = a.call(arguments, 1); return function () { return d.apply(b, c.concat(a.call(arguments))) } }) })(); (function (i, b, a) { var g = "_", c = "__", d = "[a-zA-Z0-9-]+"; function e(m, j, l) { l.push(g, m, g, j) } function f(m, n, j, l) { l.push(m); j && e(n, j, l) } function h(o, m, n, j, l) { f(o, a, a, l); l.push(c, m); j && e(n, j, l) } i.INTERNAL = { NAME_PATTERN: d, MOD_DELIM: g, ELEM_DELIM: c, buildModPostfix: function (n, j, l) { var m = l || []; e(n, j, m); return l ? m : m.join("") }, buildClass: function (q, o, p, j, l) { var n = typeof p; if (n == "string") { if (typeof j != "string") { l = j; j = p; p = o; o = a } } else { if (n != "undefined") { l = p; p = a } else { if (o && typeof o != "string") { l = o; o = a } } } if (!(o || p || l)) { return q } var m = l || []; o ? h(q, o, p, j, m) : f(q, p, j, m); return l ? m : m.join("") }, buildClasses: function (o, n, m, j) { if (n && typeof n != "string") { j = m; m = n; n = a } var l = j || []; n ? h(o, n, a, a, l) : f(o, a, a, l); m && b.each(m, function (q, p) { if (p) { l.push(" "); n ? h(o, n, q, p, l) : f(o, q, p, l) } }); return j ? l : l.join("") } } })(BEM, jQuery); jQuery.cookie = function (b, j, n) { if (typeof j != "undefined") { n = n || {}; if (j === null) { j = ""; n.expires = -1 } var e = ""; if (n.expires && (typeof n.expires == "number" || n.expires.toUTCString)) { var f; if (typeof n.expires == "number") { f = new Date(); f.setTime(f.getTime() + (n.expires * 24 * 60 * 60 * 1000)) } else { f = n.expires } e = "; expires=" + f.toUTCString() } var m = n.path ? "; path=" + (n.path) : ""; var g = n.domain ? "; domain=" + (n.domain) : ""; var a = n.secure ? "; secure" : ""; document.cookie = [b, "=", encodeURIComponent(j), e, m, g, a].join("") } else { var d = null; if (document.cookie && document.cookie != "") { var l = document.cookie.split(";"); for (var h = 0; h < l.length; h++) { var c = jQuery.trim(l[h]); if (c.substring(0, b.length + 1) == (b + "=")) { d = decodeURIComponent(c.substring(b.length + 1)); break } } } return d } }; (function (a) { var d = { "%D0": "%D0%A0", "%C0": "%D0%90", "%C1": "%D0%91", "%C2": "%D0%92", "%C3": "%D0%93", "%C4": "%D0%94", "%C5": "%D0%95", "%A8": "%D0%81", "%C6": "%D0%96", "%C7": "%D0%97", "%C8": "%D0%98", "%C9": "%D0%99", "%CA": "%D0%9A", "%CB": "%D0%9B", "%CC": "%D0%9C", "%CD": "%D0%9D", "%CE": "%D0%9E", "%CF": "%D0%9F", "%D1": "%D0%A1", "%D2": "%D0%A2", "%D3": "%D0%A3", "%D4": "%D0%A4", "%D5": "%D0%A5", "%D6": "%D0%A6", "%D7": "%D0%A7", "%D8": "%D0%A8", "%D9": "%D0%A9", "%DA": "%D0%AA", "%DB": "%D0%AB", "%DC": "%D0%AC", "%DD": "%D0%AD", "%DE": "%D0%AE", "%DF": "%D0%AF", "%E0": "%D0%B0", "%E1": "%D0%B1", "%E2": "%D0%B2", "%E3": "%D0%B3", "%E4": "%D0%B4", "%E5": "%D0%B5", "%B8": "%D1%91", "%E6": "%D0%B6", "%E7": "%D0%B7", "%E8": "%D0%B8", "%E9": "%D0%B9", "%EA": "%D0%BA", "%EB": "%D0%BB", "%EC": "%D0%BC", "%ED": "%D0%BD", "%EE": "%D0%BE", "%EF": "%D0%BF", "%F0": "%D1%80", "%F1": "%D1%81", "%F2": "%D1%82", "%F3": "%D1%83", "%F4": "%D1%84", "%F5": "%D1%85", "%F6": "%D1%86", "%F7": "%D1%87", "%F8": "%D1%88", "%F9": "%D1%89", "%FA": "%D1%8A", "%FB": "%D1%8B", "%FC": "%D1%8C", "%FD": "%D1%8D", "%FE": "%D1%8E", "%FF": "%D1%8F" }; function c(e) { e = e.replace(/%.{2}/g, function (f) { return d[f] }); return e } function b(g, i) { var f = ""; try { f = g(i) } catch (h) { f = g(c(i)) } return f } a.extend({ decodeURI: function (e) { return b(decodeURI, e) }, decodeURIComponent: function (e) { return b(decodeURIComponent, e) } }) })(jQuery); (function (p, g, e) { var l = p.INTERNAL, j = l.ELEM_DELIM, m = { area: 1, base: 1, br: 1, col: 1, command: 1, embed: 1, hr: 1, img: 1, input: 1, keygen: 1, link: 1, meta: 1, param: 1, source: 1, wbr: 1 }, f = l.buildClass, n = l.buildClasses, o = {}; function i(q, r, s) { (q[r] || (q[r] = [])).unshift(s) } function d(q, r) { return r.modName ? function (s) { (s._curBlock.mods || {})[r.modName] === r.modVal && q(s) } : q } function c(r, q) { var t = g.isArray(q), s; g.isArray(r) ? t ? s = r.concat(q) : (s = r).push(q) : t ? (s = q).unshift(r) : s = [r, q]; return s } var b = { '"': "&quot;", "&": "&amp;", "<": "&lt;", ">": "&gt;" }, a = /["&<>]/g; function h(q) { return q.replace(a, function (r) { return b[r] }) } p.HTML = { decl: function (s, r) { typeof s == "string" && (s = { block: s }); s.name && (s.block = s.name); var q = o[s.block] || (o[s.block] = {}); r.onBlock && i(q, "_block", d(r.onBlock, s)); if (r.onElem) { g.isFunction(r.onElem) ? i(q, "_elem", d(r.onElem, s)) : g.each(r.onElem, function (u, t) { i(q, "_elem" + (u === "*" ? "" : j + u), d(t, s)) }) } }, build: function (r) { var q = new this.Ctx(r); q._buildAll(); return q._flush() }, Ctx: g.inherit({ __constructor: function (q) { this._buffer = []; this._params = q; this._tParams = null; this._tParamsChanges = null; this._curBlock = e }, pos: function () { return this._params._pos }, isFirst: function () { return this._params._pos === 1 }, isLast: function () { var q = this._params; return q._pos === q._siblingsCount }, params: function (q) { var r = this; if (typeof q == "undefined") { return r._params } r._params = q; return r }, param: function (q, t, r, v) { var u = this, s = u._params; if (typeof t == "undefined") { return s[q] } if (r || !(q in s)) { s[q] = t } else { if (v) { s[q] = g.extend(t, s[q]) } } return u }, attrs: function (r, q) { return this.param("attrs", r, q, true) }, attr: function (r, t, s) { var u = this; if (typeof t == "undefined") { return (u._params.attrs || {})[r] } var q = u._params.attrs; q ? (s || !(r in q)) && (q[r] = t) : (u._params.attrs = {})[r] = t; return u }, tag: function (r, q) { return this.param("tag", r, q) }, cls: function (r, q) { return this.param("cls", r, q) }, mods: function (r, q) { return this.param("mods", r, q, true) }, mod: function (q, t, s) { var u = this; if (typeof t == "undefined") { return (u._params.mods || {})[q] } var r = u._params.mods; r ? (s || !(q in r)) && (r[q] = t) : (u._params.mods = {})[q] = t; return u }, mix: function (s, q) { var t = this, r = t._params; if (typeof s == "undefined") { return r.mix } if (q || !("mix" in r)) { r.mix = s } else { r.mix = r.mix.concat(s) } return t }, js: function (q) { return this.param("js", q) }, content: function (r, q) { return this.param("content", r, q) }, wrapContent: function (q) { var s = this, r = s._params; q.content = r.content; r.content = q; return s }, beforeContent: function (q) { var s = this, r = s._params; r.content = c(q, r.content); return s }, afterContent: function (q) { var s = this, r = s._params; r.content = c(r.content, q); return s }, wrap: function (q) { var s = this, r = s._params; q.block || (q._curBlock = s._curBlock); q.content = r._wrapper ? r._wrapper : r; r._wrapper = q; return s }, tParam: function (q, t) { var u = this, s = u._tParams || (u._tParams = {}); if (typeof t == "undefined") { return s[q] } var r = u._tParamsChanges || (u._tParamsChanges = {}); q in r || (r[q] = s[q]); s[q] = t; return u }, generateId: function () { return g.identify() }, stop: function () { this._params._isStopped = true }, _buildAll: function () { var x = this, r = x._buffer, w = x._params, u = typeof w; if (u == "string" || u == "number") { r.push(w) } else { if (g.isArray(w)) { var t = 0, q = w.length, s, v; while (t < q) { x._params = s = w[t++]; v = typeof s; if (v == "string" || v == "number") { r.push(s) } else { if (s) { s._pos = t; s._siblingsCount = q; x._buildByDecl() } } } } else { if (w) { x._params._pos = x._params._siblingsCount = 1; x._buildByDecl() } } } }, _build: function () { var x = this, s = x._buffer, v = x._params, q = v.tag || "div", u, t = v.block || v.elem, w = t && (v.block || x._curBlock.block), r = false; if (v.js) { (u = {})[f(w, v.elem)] = v.js === true ? {} : v.js; r = !v.elem } s.push("<", q); if (t || v.cls) { s.push(' class="'); if (t) { n(w, v.elem, v.mods, s); v.mix && g.each(v.mix, function (y, z) { if (z) { s.push(" "); n(z.block, z.elem, z.mods, s); if (z.js) { (u || (u = {}))[f(z.block, z.elem)] = z.js === true ? {} : z.js; r || (r = !z.elem) } } }) } v.cls && s.push(t ? " " : "", v.cls); r && s.push(" i-bem"); s.push('"') } u && s.push(' onclick="return ', h(JSON.stringify(u)), '"'); v.attrs && g.each(v.attrs, function (y, z) { typeof z != "undefined" && z !== null && z !== false && s.push(" ", y, '="', z.toString().replace(/"/g, "&quot;"), '"') }); if (m[q]) { s.push("/>") } else { s.push(">"); if (typeof v.content != "undefined") { x._params = v.content; x._buildAll() } s.push("</", q, ">") } }, _flush: function () { var q = this._buffer.join(""); delete this._buffer; return q }, _buildByDecl: function () { var t = this, w = t._curBlock, q = t._params; q._curBlock && (t._curBlock = q._curBlock); q.block && (t._curBlock = q); if (!q._wrapper) { if (q.block || q.elem) { var v = o[t._curBlock.block]; if (v) { var x; if (q.elem) { x = v["_elem" + j + q.elem]; v._elem && (x = (x ? x.concat(v._elem) : v._elem)) } else { x = v._block } if (x) { var r = 0, u; while (u = x[r++]) { u(t); if (q._isStopped) { break } } } } } if (q._wrapper) { q._curBlock = t._curBlock; t._params = q._wrapper; return t._buildAll() } } var y = t._tParamsChanges; t._tParamsChanges = null; t._build(); t._curBlock = w; if (y) { var s = t._tParams; g.each(y, function (z, A) { typeof A == "undefined" ? delete s[z] : s[z] = A }) } } }) } })(BEM, jQuery); (function (c) { if (window.JSON) { return } var b = Object.prototype.toString, e = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g, a = { "\b": "\\b", "\t": "\\t", "\n": "\\n", "\f": "\\f", "\r": "\\r", '"': '\\"', "\\": "\\\\" }, d; window.JSON = { stringify: d = function (m) { if (m === null) { return "null" } if (typeof m === "undefined") { return c } switch (b.call(m)) { case "[object String]": e.lastIndex = 0; return '"' + (e.test(m) ? m.replace(e, function (i) { var n = a[i]; return typeof n === "string" ? n : "\\u" + ("0000" + i.charCodeAt(0).toString(16)).slice(-4) }) : m) + '"'; case "[object Number]": case "[object Boolean]": return "" + m; case "[object Array]": var l = "[", j = 0, f = m.length, h; while (j < f) { h = d(m[j]); l += (j++ ? "," : "") + (typeof h === "undefined" ? "null" : h) } return l + "]"; case "[object Object]": if (b.call(m.toJSON) === "[object Function]") { return d(m.toJSON()) } var l = "{", j = 0, h; for (var g in m) { if (m.hasOwnProperty(g)) { h = d(m[g]); typeof h !== "undefined" && (l += (j++ ? "," : "") + '"' + g + '":' + h) } } return l + "}"; default: return c } } } })(); (function (i, e, h) { var d = e(window), z = e(document), o = {}, x = {}, B = {}, f = {}, r = {}, w = i.blocks, b = i.INTERNAL, l = b.NAME_PATTERN, q = b.MOD_DELIM, j = b.ELEM_DELIM, A = b.buildModPostfix, u = b.buildClass; function s(E, C) { var D = E[0]; e.each(t(D), function (F, H) { c(H, D, F, C); var G = x[H.uniqId]; if (G) { if (G.domElem.index(D) < 0) { G.domElem = G.domElem.add(E); e.extend(G._params, H) } } else { a(F, E, H) } }) } function a(K, G, F, D, L) { if (typeof F == "boolean") { L = D; D = F; F = h } var H = G[0]; F = c(F || t(H)[K], H, K); var J = F.uniqId; if (x[J]) { return x[J]._init() } o[J] = o[J] ? o[J].add(G) : G; var C = H.parentNode; if (!C || C.nodeType === 11) { e.unique(o[J]) } var I = w[K] || v.decl(K, {}, { live: true }); if (!(I._liveInitable = !!I._processLive()) || D || F.live === false) { var E = new I(o[J], F, !!D); delete o[J]; L && L.apply(E, Array.prototype.slice.call(arguments, 4)); return E } } function c(H, E, D, C) { (H || (H = {})).uniqId || (H.uniqId = (H.id ? D + "-id-" + H.id : e.identify()) + (C || e.identify())); var G = e.identify(E), F = B[G] || (B[G] = {}); F[D] || (F[D] = H); return H } function y(D, C, F) { var E = D.find(C); return F ? E : E.add(D.filter(C)) } function t(C) { var D = e.identify(C); return B[D] || (B[D] = g(C)) } function g(E) { var D = E.onclick || E.ondblclick; if (!D && E.tagName.toLowerCase() == "body") { var F = e(E), C = F.attr("onclick") || F.attr("ondblclick"); C && (D = Function(C)) } return D ? D() : {} } function n(C) { delete B[e.identify(C)] } function m(D, C) { D.domElem.length === 1 ? D.destruct(true) : D.domElem = D.domElem.not(C) } function p() { return z[0][e.support.boxModel ? "documentElement" : "body"] } e.fn.bem = function (C, D) { return a(C, this, D, true) }; var v = i.DOM = i.decl("i-bem__dom", { __constructor: function (D, E, C) { var F = this; F.domElem = D; F._eventNameCache = {}; F._elemCache = {}; x[F._uniqId = E.uniqId || e.identify(F)] = F; F._needSpecialUnbind = false; F.__base(null, E, C) }, findBlocksInside: function (C, D) { return this._findBlocks("find", C, D) }, findBlockInside: function (C, D) { return this._findBlocks("find", C, D, true) }, findBlocksOutside: function (C, D) { return this._findBlocks("parents", C, D) }, findBlockOutside: function (C, D) { return this._findBlocks("closest", C, D)[0] || null }, findBlocksOn: function (C, D) { return this._findBlocks("", C, D) }, findBlockOn: function (C, D) { return this._findBlocks("", C, D, true) }, _findBlocks: function (M, C, E, F) { if (!E) { E = C; C = h } var H = C ? (typeof C == "string" ? this.findElem(C) : C) : this.domElem, G = typeof E == "string", L = G ? E : (E.block || E.blockName), D = "." + (G ? u(L) : u(L, E.modName, E.modVal)) + (F ? ":first" : ""), I = H.filter(D); M && (I = I.add(H[M](D))); if (F) { return I[0] ? a(L, I.eq(0), true) : null } var K = [], J = {}; e.each(I, function (N, O) { var P = a(L, e(O), true); if (!J[P._uniqId]) { J[P._uniqId] = true; K.push(P) } }); return K }, bindToDomElem: function (D, E, C) { var F = this; C ? D.bind(F._buildEventName(E), function (G) { (G.data || (G.data = {})).domElem = e(this); return C.apply(F, arguments) }) : e.each(E, function (H, G) { F.bindToDomElem(D, H, G) }); return F }, bindToDoc: function (D, C) { this._needSpecialUnbind = true; return this.bindToDomElem(z, D, C) }, bindToWin: function (D, C) { this._needSpecialUnbind = true; return this.bindToDomElem(d, D, C) }, bindTo: function (E, D, C) { if (!D || e.isFunction(D)) { C = D; D = E; E = this.domElem } else { if (typeof E == "string") { E = this.elem(E) } } return this.bindToDomElem(E, D, C) }, unbindFromDomElem: function (C, D) { C.unbind(this._buildEventName(D)); return this }, unbindFromDoc: function (C) { return this.unbindFromDomElem(z, C) }, unbindFromWin: function (C) { return this.unbindFromDomElem(d, C) }, unbindFrom: function (D, C) { if (!C) { C = D; D = this.domElem } else { if (typeof D == "string") { D = this.elem(D) } } return this.unbindFromDomElem(D, C) }, _buildEventName: function (C) { var D = this; return C.indexOf(" ") > 1 ? C.split(" ").map(function (E) { return D._buildOneEventName(E) }).join(" ") : D._buildOneEventName(C) }, _buildOneEventName: function (E) { var G = this, C = G._eventNameCache; if (E in C) { return C[E] } var F = "." + G._uniqId; if (E.indexOf(".") < 0) { return C[E] = E + F } var D = ".bem_" + G.__self._name; return C[E] = E.split(".").map(function (I, H) { return H == 0 ? I + D : D + "_" + I }).join("") + F }, trigger: function (D, C) { this.__base(D = this.buildEvent(D), C).domElem && this._ctxTrigger(D, C); return this }, _ctxTrigger: function (D, C) { var G = this, F = f[G.__self._buildCtxEventName(D.type)], E = {}; F && G.domElem.each(function () { var I = this, H = F.counter; while (I && H) { var K = e.identify(I, true); if (K) { if (E[K]) { break } var J = F.ctxs[K]; if (J) { e.each(J, function (M, L) { L.fn.call(L.ctx || G, D, C) }); H-- } E[K] = true } I = I.parentNode } }) }, setMod: function (D, E, C) { if (D && typeof C != "undefined" && D.length > 1) { var F = this; D.each(function () { var G = e(this); G.__bemElemName = D.__bemElemName; F.setMod(G, E, C) }); return F } return this.__base(D, E, C) }, _extractModVal: function (G, D, F) { var C = (D || this.domElem)[0], E; C && (E = C.className.match(this.__self._buildModValRE(G, F || D))); return E ? E[2] : "" }, _extractMods: function (C, G) { var F = {}, D = !C.length, E = 0; ((G || this.domElem)[0].className.match(this.__self._buildModValRE("(" + (D ? l : C.join("|")) + ")", G, "g")) || []).forEach(function (H) { var J = (H = H.trim()).lastIndexOf(q), I = H.substr(0, J - 1).lastIndexOf(q); F[H.substr(I + 1, J - I - 1)] = H.substr(J + 1); ++E }); E < C.length && C.forEach(function (H) { H in F || (F[H] = "") }); return F }, _afterSetMod: function (H, K, J, D, C) { var F = this.__self, G = F._buildModClassPrefix(H, C), I = F._buildModValRE(H, C), E = K === ""; (D || this.domElem).each(function () { var L = this.className; L.indexOf(G) > -1 ? this.className = L.replace(I, (E ? "" : "$1" + G + K)) : E || e(this).addClass(G + K) }); C && this.dropElemCache(C, H, J).dropElemCache(C, H, K) }, findElem: function (F, H, G, E) { if (arguments.length % 2) { E = G; G = H; H = F; F = this.domElem } else { if (typeof F == "string") { F = this.findElem(F) } } var D = this.__self, C = "." + H.split(" ").map(function (I) { return u(D._name, I, G, E) }).join(",."); return y(F, C) }, _elem: function (D, G, C) { var F = D + A(G, C), E; if (!(E = this._elemCache[F])) { E = this._elemCache[F] = this.findElem(D, G, C); E.__bemElemName = D } return E }, elem: function (F, E, C) { if (E && typeof E != "string") { E.__bemElemName = F; return E } if (F.indexOf(" ") < 0) { return this._elem(F, E, C) } var D = e([]), G = this; F.split(" ").forEach(function (H) { D = D.add(G._elem(H, E, C)) }); return D }, dropElemCache: function (F, E, C) { if (F) { var G = this, D = A(E, C); F.indexOf(" ") < 0 ? delete G._elemCache[F + D] : F.split(" ").forEach(function (H) { delete G._elemCache[H + D] }) } else { this._elemCache = {} } return this }, elemParams: function (C) { var D; if (typeof C == "string") { D = C; C = this.elem(C) } else { D = this.__self._extractElemNameFrom(C) } return g(C[0])[u(this.__self.getName(), D)] || {} }, elemify: function (C, D) { (C = e(C)).__bemElemName = D; return C }, containsDomElem: function (D) { var C = false; this.domElem.each(function () { return !(C = D.parents().andSelf().index(this) > -1) }); return C }, buildSelector: function (D, E, C) { return this.__self.buildSelector(D, E, C) }, destruct: function (D) { var E = this, C = E.__self; E._isDestructing = true; E._needSpecialUnbind && C.doc.add(C.win).unbind("." + E._uniqId); E.dropElemCache().domElem.each(function (F, G) { var H = t(G); e.each(H, function (I, J) { var K = x[J.uniqId]; if (K) { if (!K._isDestructing) { m(K, G); delete H[I] } } else { delete o[J.uniqId] } }); e.isEmptyObject(H) && n(G) }); D || E.domElem.remove(); delete x[E.un()._uniqId]; delete E.domElem; delete E._elemCache; E.__base() } }, { doc: z, win: d, _processLive: function (D) { var F = this, E = F._liveInitable; if ("live" in F) { var C = typeof E == "undefined"; if (C ^ D) { E = F.live() !== false; F.live = function () { } } } return E }, init: function (D, F, E) { if (!D || e.isFunction(D)) { E = F; F = D; D = this.doc } var C = e.identify(); y(D, ".i-bem").each(function () { s(e(this), C) }); F && this.afterCurrentEvent(function () { F.call(E || this, D) }); this._runAfterCurrentEventFns(); return D }, destruct: function (D, C, E) { if (typeof D != "boolean") { E = C; C = D; D = h } y(C, ".i-bem", E).each(function (F, G) { var H = t(this); e.each(H, function (I, J) { if (J.uniqId) { var K = x[J.uniqId]; if (K) { m(K, G); delete H[I] } else { delete o[J.uniqId] } } }); e.isEmptyObject(H) && n(this) }); D || (E ? C.empty() : C.remove()) }, update: function (C, D, F, E) { this.destruct(C, true); this.init(C.html(D), F, E) }, append: function (C, D) { this.init(e(D).appendTo(C)) }, prepend: function (C, D) { this.init(e(D).prependTo(C)) }, before: function (C, D) { this.init(e(D).insertBefore(C)) }, after: function (C, D) { this.init(e(D).insertAfter(C)) }, _buildCtxEventName: function (C) { return this._name + ":" + C }, _liveClassBind: function (D, E, I, C) { var H = this; if (E.indexOf(" ") > -1) { E.split(" ").forEach(function (J) { H._liveClassBind(D, J, I, C) }) } else { var G = r[E], F = e.identify(I); if (!G) { G = r[E] = {}; H.doc.bind(E, H.changeThis(H._liveClassTrigger, H)) } G = G[D] || (G[D] = { uniqIds: {}, fns: [] }); if (!(F in G.uniqIds)) { G.fns.push({ uniqId: F, fn: H._buildLiveEventFn(I, C) }); G.uniqIds[F] = G.fns.length - 1 } } return this }, _liveClassUnbind: function (E, F, I) { var H = r[F]; if (H) { if (I) { if (H = H[E]) { var G = e.identify(I); if (G in H.uniqIds) { var D = H.uniqIds[G], C = H.fns.length - 1; H.fns.splice(D, 1); while (D < C) { H.uniqIds[H.fns[D++].uniqId] = D - 1 } delete H.uniqIds[G] } } } else { delete H[E] } } return this }, _liveClassTrigger: function (I) { var H = r[I.type]; if (H) { var E = I.target, C = []; for (var J in H) { H.hasOwnProperty(J) && C.push(J) } do { var D = " " + E.className + " ", G = 0; while (J = C[G++]) { if (D.indexOf(" " + J + " ") > -1) { var F = 0, L = H[J].fns, K, M = false; while (K = L[F++]) { if (K.fn.call(e(E), I) === false) { M = true } } M && I.preventDefault(); if (M || I.isPropagationStopped()) { return } C.splice(--G, 1) } } } while (C.length && (E = E.parentNode)) } }, _buildLiveEventFn: function (E, C) { var D = this; return function (G) { var F = [D._name, ((G.data || (G.data = {})).domElem = e(this)).closest(D.buildSelector()), true], H = a.apply(null, C ? F.concat([E, G]) : F); if (H && !C && E) { return E.apply(H, arguments) } } }, liveInitOnEvent: function (D, C, E) { return this.liveBindTo(D, C, E, true) }, liveBindTo: function (G, D, F, C) { if (!D || e.isFunction(D)) { F = D; D = G; G = h } if (!G || typeof G == "string") { G = { elem: G } } G.elemName && (G.elem = G.elemName); var E = this; if (G.elem && G.elem.indexOf(" ") > 1) { G.elem.split(" ").forEach(function (H) { E._liveClassBind(u(E._name, H, G.modName, G.modVal), D, F, C) }); return E } return E._liveClassBind(u(E._name, G.elem, G.modName, G.modVal), D, F, C) }, liveUnbindFrom: function (D, C, F) { var E = this; if (D.indexOf(" ") > 1) { D.split(" ").forEach(function (G) { E._liveClassUnbind(u(E._name, G), C, F) }); return E } return E._liveClassUnbind(u(E._name, D), C, F) }, _liveInitOnBlockEvent: function (E, D, G, F) { var C = this._name; w[D].on(E, function (I) { var H = arguments, J = I.block[F](C); G && J.forEach(function (K) { G.apply(K, H) }) }); return this }, liveInitOnBlockEvent: function (D, C, E) { return this._liveInitOnBlockEvent(D, C, E, "findBlocksOn") }, liveInitOnBlockInsideEvent: function (D, C, E) { return this._liveInitOnBlockEvent(D, C, E, "findBlocksOutside") }, liveInitOnBlockInit: function (C, D) { return this.liveInitOnBlockEvent("init", C, D) }, liveInitOnBlockInsideInit: function (C, D) { return this.liveInitOnBlockInsideEvent("init", C, D) }, on: function (C, G, F, E, D) { return C.jquery ? this._liveCtxBind(C, G, F, E, D) : this.__base(C, G, F, E) }, un: function (C, F, E, D) { return C.jquery ? this._liveCtxUnbind(C, F, E, D) : this.__base(C, F, E) }, liveCtxBind: function (C, G, F, E, D) { return this._liveCtxBind(C, G, F, E, D) }, _liveCtxBind: function (C, H, G, F, E) { var J = this; if (typeof H == "string") { if (e.isFunction(G)) { E = F; F = G; G = h } if (H.indexOf(" ") > -1) { H.split(" ").forEach(function (K) { J._liveCtxBind(C, K, G, F, E) }) } else { var D = J._buildCtxEventName(H), I = f[D] || (f[D] = { counter: 0, ctxs: {} }); C.each(function () { var L = e.identify(this), K = I.ctxs[L]; if (!K) { K = I.ctxs[L] = {}; ++I.counter } K[e.identify(F) + (E ? e.identify(E) : "")] = { fn: F, data: G, ctx: E } }) } } else { e.each(H, function (L, K) { J._liveCtxBind(C, L, K, G) }) } return J }, liveCtxUnbind: function (C, F, E, D) { return this._liveCtxUnbind(C, F, E, D) }, _liveCtxUnbind: function (C, F, E, D) { var H = this, G = f[F = H._buildCtxEventName(F)]; if (G) { C.each(function () { var J = e.identify(this, true), I; if (J && (I = G.ctxs[J])) { E && delete I[e.identify(E) + (D ? e.identify(D) : "")]; if (!E || e.isEmptyObject(I)) { G.counter--; delete G.ctxs[J] } } }); G.counter || delete f[F] } return H }, _extractElemNameFrom: function (C) { if (C.__bemElemName) { return C.__bemElemName } var D = C[0].className.match(this._buildElemNameRE()); return D ? D[1] : h }, extractParams: g, _buildModClassPrefix: function (D, C) { return u(this._name) + (C ? j + (typeof C === "string" ? C : this._extractElemNameFrom(C)) : "") + q + D + q }, _buildModValRE: function (D, C, E) { return new RegExp("(\\s|^)" + this._buildModClassPrefix(D, C) + "(" + l + ")(?=\\s|$)", E) }, _buildElemNameRE: function () { return new RegExp(this._name + j + "(" + l + ")(?:\\s|$)") }, buildSelector: function (D, E, C) { return "." + u(this._name, D, E, C) }, getBlockByUniqId: function (C) { return x[C] }, getWindowSize: function () { return { width: d.width(), height: d.height() } } }) })(BEM, jQuery); (function () { String.prototype.trim || (String.prototype.trim = function () { var c = this.replace(/^\s\s*/, ""), a = /\s/, b = c.length; while (a.test(c.charAt(--b))) { } return c.slice(0, b + 1) }) })(); (function (a) { if (!a) { a = window.Lego = {} } a.isSessionValid = function () { return !!a.getCookie("yandex_login") } })(window.Lego); BEM.DOM.decl("i-global", { onSetMod: { js: function () { this.del(this.__self._params = $.extend({}, this.params), "uniqId", "name"); var a = this.__self._params; a["passport-msg"] || (a["passport-msg"] = a.id); if (a["show-counters"] === undefined) { a["show-counters"] = Math.round(Math.random() * 100) <= a["show-counters-percent"] } a.locale = a.lang; $(function () { a.oframebust && Lego.oframebust(a.oframebust) }) } }, getDefaultParams: function () { return { id: "", login: Lego.isSessionValid() ? $.cookie("yandex_login") || "" : "", yandexuid: $.cookie("yandexuid"), lang: "ru", tld: "ru", retpath: encodeURI($.decodeURI(location.href)), "passport-host": "https://passport.yandex.ru", "pass-host": "//pass.yandex.ru", "social-host": "//social.yandex.ru", "lego-path": "/lego", "show-counters-percent": 100 } } }, { param: function (a) { return (this._params || {})[a] } }); (function () { BEM.DOM.decl("i-global", {}, { refreshRetpath: function () { var c = document.location.href; if (b(encodeURIComponent(decodeURI(c))) > 1900) { c = a(document.location.href, "words") } this._params.retpath = c } }); function a(d, i) { var g = d.split("?"); var f = g[0]; var e = g[1]; if (!e) { return d } var h = e.split("&"); if (h.length === 1) { return f.replace(/#!\/$/, "") } var c = []; $.map(h, function (j) { if (j.split("=")[0] !== i) { c.push(j) } }); return [f, c.join("&")].join("?") } function b(f) { var d = f.length; for (var c = f.length - 1; c >= 0; c--) { var e = f.charCodeAt(c); if (e > 127 && e <= 2047) { d++ } else { if (e > 2047 && e <= 65535) { d += 2 } } if (e >= 56320 && e <= 57343) { c-- } } return d } })(); (function (b) { if (!b) { b = window.Lego = {} } !b.params && (b.params = {}); function a(c) { return c.replace(/^(?:https?:)?\/\//, "") } b.c = function (d, c, j) { var i = a((j && j.host) || BEM.blocks["i-global"].param("click-host") || "clck.yandex.ru"), e = function (m, o, n, l) { o = o.replace("'", "%27"); return o.indexOf("/dtype=") > -1 ? o : location.protocol + "//" + i + "/" + n + "/dtype=" + m + "/rnd=" + ((new Date()).getTime() + Math.round(Math.random() * 100)) + (l ? "/*" + (o.match(/^http/) ? o : location.protocol + "//" + location.host + (o.match("^/") ? o : "/" + o)) : "/*data=" + encodeURIComponent("url=" + encodeURIComponent((o.match(/^http/) ? o : location.protocol + "//" + location.host + (o.match("^/") ? o : "/" + o))))) }, g = function () { var l = document.getElementsByTagName("head")[0] || document.getElementsByTagName("body")[0]; var h = document.createElement("script"); h.setAttribute("src", e(d, location.href, "jclck")); l.insertBefore(h, l.firstChild) }; if (c) { if (c.className.match(/b-link_pseudo_yes/) || (c.href && c.href.match(/^mailto:/)) || (j && j.noRedirect === true)) { g() } else { if (c.href) { var f = c.href; c.href = e(d, f, "redir"); setTimeout(function () { c.href = f }, 500) } else { if (c.form) { if (c.type.match(/submit|button|image/)) { var f = c.form.action; c.form.action = e(d, f, "redir", true); setTimeout(function () { c.form.action = f }, 500) } else { g() } } else { if (c.action) { c.action = e(d, c.action, "redir", true) } else { throw "counter.js: not link and not form!" } } } } } else { g() } } })(window.Lego); (function (a) { if (!a) { a = window.Lego = {} } a.cp = function (f, c, e, b, d) { a.c("stred/pid=" + f + "/cid=" + c + (e ? "/path=" + e : ""), b, d) } })(window.Lego); (function (a) { if (!a) { a = window.Lego = {} } a.ch = function (c, b) { BEM.blocks["i-global"].param("show-counters") && a.cp(0, 2219, c, b) } })(window.Lego); (function (a) { if (!a) { a = window.Lego = {} } a.getCookie = function (h) { var g = document.cookie; if (g.length < 1) { return false } var d = g.indexOf(h + "="); if (d == -1) { return false } d += (h.length + 1); var f = g.indexOf(";", d); return decodeURIComponent((f == -1) ? g.substring(d) : g.substring(d, f)) } })(window.Lego); (function (b, a) { if (!a) { a = window.Lego = {} } a.init || (a.init = function (c) { (c = a.params = b.extend({ id: "", login: a.isSessionValid() ? a.getCookie("yandex_login") || "" : "", yandexuid: a.getCookie("yandexuid"), locale: "ru", retpath: window.location.toString(), "passport-host": "//passport.yandex.ru", "pass-host": "//pass.yandex.ru", "passport-msg": c.id, "social-host": "//social.yandex.ru", "lego-path": "/lego", "show-counters-percent": 100 }, c, a.params))["show-counters"] = Math.round(Math.random() * 100) <= c["show-counters-percent"]; BEM.blocks["i-global"]._params || b.extend(BEM.blocks["i-global"]._params = {}, c); b(function () { c.oframebust && a.oframebust(c.oframebust) }); return c }); a.block || (a.block = {}); a.blockInit || (a.blockInit = function (c, d) { c = c || document; d = d || ".g-js"; b(c).find(d).each(function () { var h = b(this), g = this.onclick ? this.onclick() : {}, e = g.name || "", f = a.block[e]; if (f && !h.data(e)) { f.call(h, g); h.data(e, true).addClass(e + "_js_inited") } }) }); a.blockInitBinded || (a.blockInitBinded = !!b(document).ready(function () { a.blockInit() })) })(jQuery, window.Lego); (function (a) { if (!a) { a = window.Lego = {} } a.messages = a.messages || {}; a.message = function (c, b) { return a.params.locale == "ru" ? b : (a.messages[c] || b) } })(window.Lego); $(function () { BEM.afterCurrentEvent(function () { BEM.DOM.init() }) }); var BEMHTML = function () { var b, a = (function (bu) { function dQ(dX) { return dX.call(this, null, "span") } function cf(dX) { return dX.call(this, null, "table") } function cc(dX) { return dX.call(this, null, "td") } function ca(dX) { return dX.call(this, null, "th") } function b9(dX) { return dX.call(this, null, "tr") } function bS(dX) { return dX.call(this, null, "span") } function bE(dX) { return dX.call(this, null, "h2") } function bC(dX) { return dX.call(this, null, "h2") } function bA(dX) { if (!!this.elem === false) { return by.call(this, dX) } else { return bl.call(this, dX) } } function by(dX) { return dX.call(this, null, "div") } function bi(dX) { return dX.call(this, null, "td") } function bh(dX) { return dX.call(this, null, "i") } function be(dX) { return dX.call(this, null, "td") } function a9(dX) { return dX.call(this, null, "tr") } function aL(dX) { return dX.call(this, null, "table") } function ak(dX) { return dX.call(this, null, [{ elem: "simple", content: this["ctx"]["content"] }, this["_click"], this["_input"]]) } function ac(dZ) { var dY; var d0; var dX; var d1; d1 = this["_regions"]; d0 = { elem: "tr", content: [{ elem: "th", mix: [{ block: "b-word-statistics", elem: "th-phrase" }], content: this["ctx"]["data"]["phraseCaption"] }, { elem: "th", mix: [{ block: "b-word-statistics", elem: "th-number" }], content: this["ctx"]["data"]["numberCaption"] }] }; dX = this["ctx"]["data"]["items"]; if (dX) { dY = dX } else { dY = [] } return dZ.call(this, null, [d0, dY.map(function (d4, d2) { var d3; d3 = []; if (d2 % 2 === 1) { d3 = [{ block: "b-word-statistics", elem: "tr-even" }] } else { undefined } undefined; return { elem: "tr", mix: d3, content: [{ elem: "td", mix: [{ block: "b-word-statistics", elem: "td-phrase" }], content: { block: "b-phrase-link", regions: d1, content: d4.phrase } }, { elem: "td", mix: [{ block: "b-word-statistics", elem: "td-number" }], content: d4.number }] } })]) } function Y(dX) { return dX.call(this, null, [{ elem: "info-wrapper", content: { elem: "info", content: this["ctx"]["data"]["info"] } }, { elem: "table", data: this["ctx"]["data"] }]) } function E(dX) { return dX.call(this, null, { elem: "table-wrapper", data: this["ctx"]["data"] }) } function A(d2) { var d1; var d0; var dZ; var d4; var d3; var dY; var dX; dY = { elem: "head", content: [{ block: "b-db-switcher", mix: [{ block: "b-word-statistics", elem: "db-switcher" }] }, { elem: "last-update", content: this["ctx"]["lastUpdate"] }] }; dX = { elem: "columns", content: [{ elem: "column", mix: [{ block: "b-word-statistics", elem: "including-phrases" }], data: this["ctx"]["includingPhrases"] }, { elem: "column", mix: [{ block: "b-word-statistics", elem: "phrases-associations" }], data: this["ctx"]["phrasesAssociations"] }] }; if (this["ctx"]["statLimitReached"]) { d3 = { elem: "stat-limit-text", content: this["ctx"]["statLimitText"] } } else { d3 = "" } d0 = "b-pager"; dZ = { type: "custom" }; d4 = [{ block: "b-word-statistics", elem: "pager" }]; if (this["ctx"]["statLimitReached"]) { d1 = false } else { d1 = this["ctx"]["hasNextPage"] } return d2.call(this, null, [dY, dX, d3, { block: d0, mods: dZ, mix: d4, hasNextPage: d1, currentPage: this["ctx"]["currentPage"] }]) } function g(dX) { if (this["isLast"]()) { return dX.call(this, null, this["ctx"]["content"]) } else { return dX.call(this, null, [this["ctx"]["content"], "&nbsp;· "]) } } function e(dX) { if (!(this.mods && this.mods.layout === "horiz-simple") === false) { if (!!this.elem === false) { return dW.call(this, dX) } else { return bl.call(this, dX) } } else { return bl.call(this, dX) } } function dW(dX) { return dX.call(this, null, [this["ctx"]["title"], this["ctx"]["content"]]) } function dM(dX) { return dX.call(this, null, { elem: "layout-gap-i" }) } function dL(dX) { return dX.call(this, null, { bem: false, elem: "row", content: [{ elem: "layout-gap", content: { elem: "layout-gap-i" } }, this["ctx"]["content"], { elem: "layout-gap", content: { elem: "layout-gap-i" } }] }) } function du(dZ) { var d3; function d1(d5, d4) { if (d5) { return dZ.call(this, d5, d4) } else { d3 = d4 } dY = d3; d2._mix = d0; ""; undefined; dY[0]["mods"]["theme"] = "simple-grey"; return dZ.call(this, null, dY) } var d2, d0; var dY; var dX; dX = this; ""; d2 = this["ctx"]; d0 = d2._mix; d2._mix = true; return dx.call(dX, d1) } function cL(d0) { var d2; function d1(d4, d3) { if (d4) { return d0.call(this, d4, d3) } else { d2 = d3 } dX = d2; this["__$anflg925783757"] = dY; ""; return d0.call(this, null, dX) } var dY, dX; var dZ; dZ = this; this["_regions"] = this["ctx"]["regions"]; ""; dY = this["__$anflg925783757"]; this["__$anflg925783757"] = true; return dx.call(dZ, d1) } function cD(d6) { var d7; function dY(d9, d8) { if (d9) { return d6.call(this, d9, d8) } else { d7 = d8 } this["_mode"] = d4; d3.block = d2; d1.elem = dZ; dX.mix = d0; ""; undefined; undefined; undefined; return d6.call(this, null) } var dX, d0; var d1, dZ; var d3, d2; var d4; var d5; d5 = this; ""; d4 = this["_mode"]; this["_mode"] = ""; d3 = this["ctx"]; d2 = d3.block; d3.block = "b-link"; d1 = this["ctx"]; dZ = d1.elem; d1.elem = undefined; dX = this["ctx"]; d0 = dX.mix; dX.mix = [{ block: "b-foot", elem: "link" }]; return dx.call(d5, dY) } function ci(d5) { var d8; function dX(ea, d9) { if (ea) { return d5.call(this, ea, d9) } else { d8 = d9 } this["_mode"] = d7; d6.block = d4; d3.mods = d1; d0.elem = dZ; this["_inFooter"] = dY; ""; undefined; undefined; undefined; return d5.call(this, null) } var dY; var d0, dZ; var d3, d1; var d6, d4; var d7; var d2; d2 = this; ""; d7 = this["_mode"]; this["_mode"] = ""; d6 = this["ctx"]; d4 = d6.block; d6.block = "b-menu"; d3 = this["ctx"]; d1 = d3.mods; d3.mods = { layout: "horiz-simple" }; d0 = this["ctx"]; dZ = d0.elem; d0.elem = undefined; dY = this["_inFooter"]; this["_inFooter"] = true; return dx.call(d2, dX) } function bY(dX) { return dX.call(this, null, true) } function bI(dX) { return dX.call(this, null, { role: "contentinfo" }) } function bp(dX) { return dX.call(this, null, { serp: function (dY) { if (dY === "ru") { return "http://yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://yandex.ua" } else { undefined; undefined; if (dY === "by") { return "http://yandex.by" } else { undefined; undefined; if (dY === "kz") { return "http://yandex.kz" } else { undefined; undefined; if (dY === "com") { return "http://www.yandex.com" } else { undefined; undefined; if (dY === "tr") { return "http://www.yandex.com.tr" } else { undefined; undefined; return "http://yandex.ru" } } } } } } }, mail: function (dY) { if (dY === "ru") { return "http://mail.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://mail.yandex.ua" } else { undefined; undefined; if (dY === "by") { return "http://mail.yandex.by" } else { undefined; undefined; if (dY === "kz") { return "http://mail.yandex.kz" } else { undefined; undefined; if (dY === "com") { return "http://mail.yandex.com" } else { undefined; undefined; if (dY === "tr") { return "http://mail.yandex.com.tr" } else { undefined; undefined; return "http://mail.yandex.ru" } } } } } } }, pdd: function (dY) { if (dY === "ru") { return "http://pdd.yandex.ru" } else { undefined; undefined; return "http://pdd.yandex.ru" } }, zakladki: function (dY) { if (dY === "ru") { return "http://zakladki.yandex.ru" } else { undefined; undefined; return "http://zakladki.yandex.ru" } }, fotki: function (dY) { if (dY === "ru") { return "http://fotki.yandex.ru" } else { undefined; undefined; return "http://fotki.yandex.ru" } }, moikrug: function (dY) { if (dY === "ru") { return "http://moikrug.ru" } else { undefined; undefined; return "http://moikrug.ru" } }, direct: function (dY) { if (dY === "ru") { return "http://direct.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://direct.yandex.ua" } else { undefined; undefined; if (dY === "by") { return "http://direct.yandex.by" } else { undefined; undefined; if (dY === "kz") { return "http://direct.yandex.kz" } else { undefined; undefined; if (dY === "com") { return "http://direct.yandex.com" } else { undefined; undefined; return "http://direct.yandex.ru" } } } } } }, money: function (dY) { if (dY === "ru") { return "https://money.yandex.ru" } else { undefined; undefined; return "https://money.yandex.ru" } }, lenta: function (dY) { if (dY === "ru") { return "http://lenta.yandex.ru" } else { undefined; undefined; return "http://lenta.yandex.ru" } }, market: function (dY) { if (dY === "ru") { return "http://market.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://market.yandex.ua" } else { undefined; undefined; if (dY === "by") { return "http://market.yandex.by" } else { undefined; undefined; if (dY === "kz") { return "http://market.yandex.kz" } else { undefined; undefined; return "http://market.yandex.ru" } } } } }, "market.advertising": function (dY) { if (dY === "ru") { return "http://welcome.advertising.yandex.ru/market/" } else { undefined; undefined; return "http://welcome.advertising.yandex.ru/market/" } }, wow: function (dY) { if (dY === "ru") { return "http://my.ya.ru" } else { undefined; undefined; return "http://my.ya.ru" } }, tv: function (dY) { if (dY === "ru") { return "http://tv.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://tv.yandex.ua" } else { undefined; undefined; if (dY === "by") { return "http://tv.yandex.by" } else { undefined; undefined; if (dY === "kz") { return "http://tv.yandex.kz" } else { undefined; undefined; return "http://tv.yandex.ru" } } } } }, afisha: function (dY) { if (dY === "ru") { return "http://afisha.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://afisha.yandex.ua" } else { undefined; undefined; if (dY === "by") { return "http://afisha.yandex.by" } else { undefined; undefined; if (dY === "kz") { return "http://afisha.yandex.kz" } else { undefined; undefined; if (dY === "tr") { return "http://afis.yandex.com.tr" } else { undefined; undefined; return "http://afisha.yandex.ru" } } } } } }, calendar: function (dY) { if (dY === "ru") { return "http://calendar.yandex.ru" } else { undefined; undefined; return "http://calendar.yandex.ru" } }, nahodki: function (dY) { if (dY === "ru") { return "http://nahodki.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://nahodki.yandex.ua" } else { undefined; undefined; if (dY === "kz") { return "http://nahodki.yandex.kz" } else { undefined; undefined; return "http://nahodki.yandex.ru" } } } }, weather: function (dY) { if (dY === "ru") { return "http://pogoda.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://pogoda.yandex.ua" } else { undefined; undefined; if (dY === "by") { return "http://pogoda.yandex.by" } else { undefined; undefined; if (dY === "kz") { return "http://pogoda.yandex.kz" } else { undefined; undefined; if (dY === "tr") { return "http://hava.yandex.com.tr" } else { undefined; undefined; return "http://pogoda.yandex.ru" } } } } } }, kuda: function (dY) { if (dY === "ru") { return "http://kuda.yandex.ru" } else { undefined; undefined; return "http://kuda.yandex.ru" } }, video: function (dY) { if (dY === "ru") { return "http://video.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://video.yandex.ua" } else { undefined; undefined; if (dY === "by") { return "http://video.yandex.by" } else { undefined; undefined; if (dY === "kz") { return "http://video.yandex.kz" } else { undefined; undefined; if (dY === "com") { return "http://video.yandex.com" } else { undefined; undefined; if (dY === "tr") { return "http://video.yandex.com.tr" } else { undefined; undefined; return "http://video.yandex.ru" } } } } } } }, "video-com": function (dY) { if (dY === "ru") { return "http://video.yandex.com" } else { undefined; undefined; return "http://video.yandex.com" } }, music: function (dY) { if (dY === "ru") { return "http://music.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://music.yandex.ua" } else { undefined; undefined; if (dY === "by") { return "http://music.yandex.by" } else { undefined; undefined; if (dY === "kz") { return "http://music.yandex.kz" } else { undefined; undefined; return "http://music.yandex.ru" } } } } }, "music-partner": function (dY) { if (dY === "ru") { return "http://music-partner.yandex.ru" } else { undefined; undefined; return "http://music-partner.yandex.ru" } }, www: function (dY) { if (dY === "ru") { return "http://www.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://www.yandex.ua" } else { undefined; undefined; if (dY === "com") { return "http://www.yandex.com" } else { undefined; undefined; if (dY === "by") { return "http://www.yandex.by" } else { undefined; undefined; if (dY === "kz") { return "http://www.yandex.kz" } else { undefined; undefined; if (dY === "tr") { return "http://www.yandex.com.tr" } else { undefined; undefined; return "http://www.yandex.ru" } } } } } } }, search: function (dY) { if (dY === "ru") { return "http://yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://yandex.ua" } else { undefined; undefined; if (dY === "com") { return "http://yandex.com" } else { undefined; undefined; if (dY === "by") { return "http://yandex.by" } else { undefined; undefined; if (dY === "kz") { return "http://yandex.kz" } else { undefined; undefined; if (dY === "tr") { return "http://yandex.com.tr" } else { undefined; undefined; return "http://yandex.ru" } } } } } } }, review: function (dY) { if (dY === "ru") { return "http://yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://yandex.ua" } else { undefined; undefined; if (dY === "by") { return "http://yandex.by" } else { undefined; undefined; if (dY === "kz") { return "http://yandex.kz" } else { undefined; undefined; if (dY === "com") { return "http://www.yandex.com" } else { undefined; undefined; if (dY === "tr") { return "http://www.yandex.com.tr" } else { undefined; undefined; return "http://yandex.ru" } } } } } } }, fresh: function (dY) { if (dY === "ru") { return "http://yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://yandex.ua" } else { undefined; undefined; if (dY === "by") { return "http://yandex.by" } else { undefined; undefined; if (dY === "kz") { return "http://yandex.kz" } else { undefined; undefined; if (dY === "com") { return "http://www.yandex.com" } else { undefined; undefined; if (dY === "tr") { return "http://www.yandex.com.tr" } else { undefined; undefined; return "http://yandex.ru" } } } } } } }, news: function (dY) { if (dY === "ru") { return "http://news.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://news.yandex.ua" } else { undefined; undefined; if (dY === "by") { return "http://news.yandex.by" } else { undefined; undefined; if (dY === "kz") { return "http://news.yandex.kz" } else { undefined; undefined; if (dY === "tr") { return "http://haber.yandex.com.tr" } else { undefined; undefined; return "http://news.yandex.ru" } } } } } }, "news-com": function (dY) { if (dY === "ru") { return "http://news.yandex.com" } else { undefined; undefined; return "http://news.yandex.com" } }, maps: function (dY) { if (dY === "ru") { return "http://maps.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://maps.yandex.ua" } else { undefined; undefined; if (dY === "tr") { return "http://harita.yandex.com.tr" } else { undefined; undefined; return "http://maps.yandex.ru" } } } }, "maps-com": function (dY) { if (dY === "ru") { return "http://maps.yandex.com" } else { undefined; undefined; return "http://maps.yandex.com" } }, probki: function (dY) { if (dY === "ru") { return "http://probki.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://probki.yandex.ua" } else { undefined; undefined; return "http://probki.yandex.ru" } } }, slovari: function (dY) { if (dY === "ru") { return "http://slovari.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://slovari.yandex.ua" } else { undefined; undefined; if (dY === "by") { return "http://slovari.yandex.by" } else { undefined; undefined; if (dY === "kz") { return "http://slovari.yandex.kz" } else { undefined; undefined; return "http://slovari.yandex.ru" } } } } }, images: function (dY) { if (dY === "ru") { return "http://images.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://images.yandex.ua" } else { undefined; undefined; if (dY === "by") { return "http://images.yandex.by" } else { undefined; undefined; if (dY === "kz") { return "http://images.yandex.kz" } else { undefined; undefined; if (dY === "com") { return "http://images.yandex.com" } else { undefined; undefined; if (dY === "tr") { return "http://gorsel.yandex.com.tr" } else { undefined; undefined; return "http://images.yandex.ru" } } } } } } }, "images-com": function (dY) { if (dY === "ru") { return "http://images.yandex.com" } else { undefined; undefined; return "http://images.yandex.com" } }, blogs: function (dY) { if (dY === "ru") { return "http://blogs.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://blogs.yandex.ua" } else { undefined; undefined; if (dY === "by") { return "http://blogs.yandex.by" } else { undefined; undefined; if (dY === "kz") { return "http://blogs.yandex.kz" } else { undefined; undefined; return "http://blogs.yandex.ru" } } } } }, auto: function (dY) { if (dY === "ru") { return "http://auto.yandex.ru" } else { undefined; undefined; return "http://auto.yandex.ru" } }, adresa: function (dY) { if (dY === "ru") { return "http://adresa.yandex.ru" } else { undefined; undefined; return "http://adresa.yandex.ru" } }, games: function (dY) { if (dY === "ru") { return "http://games.yandex.ru" } else { undefined; undefined; return "http://games.yandex.ru" } }, yaca: function (dY) { if (dY === "ru") { return "http://yaca.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://yaca.yandex.ua" } else { undefined; undefined; if (dY === "by") { return "http://yaca.yandex.by" } else { undefined; undefined; return "http://yaca.yandex.ru" } } } }, rasp: function (dY) { if (dY === "ru") { return "http://rasp.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://rasp.yandex.ua" } else { undefined; undefined; if (dY === "by") { return "http://rasp.yandex.by" } else { undefined; undefined; if (dY === "kz") { return "http://rasp.yandex.kz" } else { undefined; undefined; return "http://rasp.yandex.ru" } } } } }, avia: function (dY) { return "http://ticket.yandex.ru" }, ticket: function (dY) { return "http://ticket.yandex.ru" }, pvo: function (dY) { if (dY === "ru") { return "http://ask.yandex.ru" } else { undefined; undefined; return "http://ask.yandex.ru" } }, online: function (dY) { if (dY === "ru") { return "http://online.yandex.ru" } else { undefined; undefined; return "http://online.yandex.ru" } }, books: function (dY) { if (dY === "ru") { return "http://books.yandex.ru" } else { undefined; undefined; return "http://books.yandex.ru" } }, site: function (dY) { if (dY === "ru") { return "http://site.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://site.yandex.ua" } else { undefined; undefined; if (dY === "tr") { return "http://ozel.yandex.com.tr" } else { undefined; undefined; return "http://site.yandex.ru" } } } }, bar: function (dY) { if (dY === "ru") { return "http://bar.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://bar.yandex.ua" } else { undefined; undefined; if (dY === "by") { return "http://bar.yandex.by" } else { undefined; undefined; if (dY === "kz") { return "http://bar.yandex.kz" } else { undefined; undefined; if (dY === "tr") { return "http://bar.yandex.com.tr" } else { undefined; undefined; return "http://bar.yandex.ru" } } } } } }, widgets: function (dY) { if (dY === "ru") { return "http://widgets.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://widgets.yandex.ua" } else { undefined; undefined; if (dY === "by") { return "http://widgets.yandex.by" } else { undefined; undefined; if (dY === "kz") { return "http://widgets.yandex.kz" } else { undefined; undefined; if (dY === "tr") { return "http://widgets.yandex.com.tr" } else { undefined; undefined; return "http://widgets.yandex.ru" } } } } } }, wdgt: function (dY) { if (dY === "ru") { return "http://wdgt.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://wdgt.yandex.ua" } else { undefined; undefined; if (dY === "by") { return "http://wdgt.yandex.by" } else { undefined; undefined; if (dY === "kz") { return "http://wdgt.yandex.kz" } else { undefined; undefined; if (dY === "tr") { return "http://wdgt.yandex.com.tr" } else { undefined; undefined; return "http://wdgt.yandex.ru" } } } } } }, interests: function (dY) { if (dY === "ru") { return "http://interests.yandex.ru" } else { undefined; undefined; return "http://interests.yandex.ru" } }, kraski: function (dY) { if (dY === "ru") { return "http://kraski.yandex.ru" } else { undefined; undefined; return "http://kraski.yandex.ru" } }, local: function (dY) { if (dY === "ru") { return "http://local.yandex.ru" } else { undefined; undefined; return "http://local.yandex.ru" } }, museums: function (dY) { if (dY === "ru") { return "http://18.yandex.ru" } else { undefined; undefined; return "http://18.yandex.ru" } }, collection: function (dY) { if (dY === "ru") { return "http://collection.yandex.ru" } else { undefined; undefined; return "http://collection.yandex.ru" } }, company: function (dY) { if (dY === "ru") { return "http://company.yandex.ru" } else { undefined; undefined; if (dY === "com") { return "http://company.yandex.com" } else { undefined; undefined; if (dY === "tr") { return "http://company.yandex.com.tr" } else { undefined; undefined; return "http://company.yandex.ru" } } } }, tests: function (dY) { if (dY === "ru") { return "http://tests.yandex.ru" } else { undefined; undefined; return "http://tests.yandex.ru" } }, referats: function (dY) { if (dY === "ru") { return "http://referats.yandex.ru" } else { undefined; undefined; return "http://referats.yandex.ru" } }, terms: function (dY) { if (dY === "ru") { return "http://terms.yandex.ru" } else { undefined; undefined; return "http://terms.yandex.ru" } }, tune: function (dY) { if (dY === "ru") { return "http://tune.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://tune.yandex.ua" } else { undefined; undefined; if (dY === "com") { return "http://tune.yandex.com" } else { undefined; undefined; if (dY === "by") { return "http://tune.yandex.by" } else { undefined; undefined; if (dY === "kz") { return "http://tune.yandex.kz" } else { undefined; undefined; if (dY === "tr") { return "http://tune.yandex.com.tr" } else { undefined; undefined; return "http://tune.yandex.ru" } } } } } } }, api: function (dY) { if (dY === "ru") { return "http://api.yandex.ru" } else { undefined; undefined; if (dY === "com") { return "http://api.yandex.com" } else { undefined; undefined; return "http://api.yandex.ru" } } }, punto: function (dY) { if (dY === "ru") { return "http://punto.yandex.ru" } else { undefined; undefined; return "http://punto.yandex.ru" } }, opinion: function (dY) { if (dY === "ru") { return "http://opinion.yandex.ru" } else { undefined; undefined; return "http://opinion.yandex.ru" } }, perevod: function (dY) { if (dY === "ru") { return "http://perevod.yandex.ru" } else { undefined; undefined; return "http://perevod.yandex.ru" } }, rabota: function (dY) { if (dY === "ru") { return "http://rabota.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://rabota.yandex.ua" } else { undefined; undefined; if (dY === "by") { return "http://rabota.yandex.by" } else { undefined; undefined; if (dY === "kz") { return "http://rabota.yandex.kz" } else { undefined; undefined; return "http://rabota.yandex.ru" } } } } }, sprav: function (dY) { if (dY === "ru") { return "http://sprav.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://sprav.yandex.ua" } else { undefined; undefined; if (dY === "by") { return "http://sprav.yandex.by" } else { undefined; undefined; if (dY === "kz") { return "http://sprav.yandex.kz" } else { undefined; undefined; if (dY === "tr") { return "http://rehber.yandex.com.tr" } else { undefined; undefined; return "http://sprav.yandex.ru" } } } } } }, realty: function (dY) { if (dY === "ru") { return "http://realty.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://realty.yandex.ua" } else { undefined; undefined; if (dY === "by") { return "http://realty.yandex.by" } else { undefined; undefined; if (dY === "kz") { return "http://realty.yandex.kz" } else { undefined; undefined; return "http://realty.yandex.ru" } } } } }, advertising: function (dY) { if (dY === "ru") { return "http://advertising.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://advertising.yandex.ua" } else { undefined; undefined; if (dY === "com") { return "http://advertising.yandex.com" } else { undefined; undefined; if (dY === "by") { return "http://advertising.yandex.by" } else { undefined; undefined; if (dY === "kz") { return "http://advertising.yandex.kz" } else { undefined; undefined; return "http://advertising.yandex.ru" } } } } } }, expert: function (dY) { if (dY === "ru") { return "http://expert.yandex.ru" } else { undefined; undefined; return "http://expert.yandex.ru" } }, "direct.market": function (dY) { if (dY === "ru") { return "http://partner.market.yandex.ru/yandex.market/" } else { undefined; undefined; return "http://partner.market.yandex.ru/yandex.market/" } }, ba: function (dY) { if (dY === "ru") { return "http://ba.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://ba.yandex.ua" } else { undefined; undefined; if (dY === "com") { return "http://ba.yandex.com" } else { undefined; undefined; if (dY === "by") { return "http://ba.yandex.by" } else { undefined; undefined; if (dY === "kz") { return "http://ba.yandex.kz" } else { undefined; undefined; return "http://ba.yandex.ru" } } } } } }, bayan: function (dY) { if (dY === "ru") { return "http://bayan.yandex.ru" } else { undefined; undefined; return "http://bayan.yandex.ru" } }, partners: function (dY) { if (dY === "ru") { return "http://partner.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://partner.yandex.ua" } else { undefined; undefined; if (dY === "com") { return "http://partner.yandex.com" } else { undefined; undefined; if (dY === "by") { return "http://partner.yandex.by" } else { undefined; undefined; if (dY === "kz") { return "http://partner.yandex.kz" } else { undefined; undefined; return "http://partner.yandex.ru" } } } } } }, metrika: function (dY) { if (dY === "ru") { return "http://metrika.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://metrika.yandex.ua" } else { undefined; undefined; if (dY === "com") { return "http://metrica.yandex.com" } else { undefined; undefined; if (dY === "by") { return "http://metrika.yandex.by" } else { undefined; undefined; if (dY === "kz") { return "http://metrika.yandex.kz" } else { undefined; undefined; if (dY === "tr") { return "http://metrica.yandex.com.tr" } else { undefined; undefined; return "http://metrika.yandex.ru" } } } } } } }, balance: function (dY) { if (dY === "ru") { return "http://balance.yandex.ru" } else { undefined; undefined; return "http://balance.yandex.ru" } }, wordstat: function (dY) { if (dY === "ru") { return "http://wordstat.yandex.ru" } else { undefined; undefined; return "http://wordstat.yandex.ru" } }, webmaster: function (dY) { if (dY === "ru") { return "http://webmaster.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://webmaster.yandex.ua" } else { undefined; undefined; if (dY === "com") { return "http://webmaster.yandex.com" } else { undefined; undefined; if (dY === "tr") { return "http://webmaster.yandex.com.tr" } else { undefined; undefined; return "http://webmaster.yandex.ru" } } } } }, server: function (dY) { if (dY === "ru") { return "http://company.yandex.ru/technology/server/" } else { undefined; undefined; return "http://company.yandex.ru/technology/server/" } }, stat: function (dY) { if (dY === "ru") { return "http://stat.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://stat.yandex.ua" } else { undefined; undefined; if (dY === "by") { return "http://stat.yandex.by" } else { undefined; undefined; return "http://stat.yandex.ru" } } } }, mobile: function (dY) { if (dY === "ru") { return "http://mobile.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://mobile.yandex.ua" } else { undefined; undefined; if (dY === "tr") { return "http://mobil.yandex.com.tr" } else { undefined; undefined; return "http://mobile.yandex.ru" } } } }, help: function (dY) { if (dY === "ru") { return "http://help.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://help.yandex.ua" } else { undefined; undefined; if (dY === "com") { return "http://help.yandex.com" } else { undefined; undefined; if (dY === "tr") { return "http://yardim.yandex.com.tr" } else { undefined; undefined; return "http://help.yandex.ru" } } } } }, feedback: function (dY) { if (dY === "ru") { return "http://feedback.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://feedback.yandex.ua" } else { undefined; undefined; if (dY === "com") { return "http://feedback.yandex.com" } else { undefined; undefined; if (dY === "by") { return "http://feedback.yandex.by" } else { undefined; undefined; if (dY === "kz") { return "http://feedback.yandex.kz" } else { undefined; undefined; if (dY === "tr") { return "http://contact.yandex.com.tr" } else { undefined; undefined; return "http://feedback.yandex.ru" } } } } } } }, start: function (dY) { if (dY === "ru") { return "http://help.yandex.ru/start/" } else { undefined; undefined; if (dY === "ua") { return "http://help.yandex.ua/start/" } else { undefined; undefined; if (dY === "com") { return "http://help.yandex.com/start/" } else { undefined; undefined; if (dY === "tr") { return "http://yardim.yandex.com.tr/start" } else { undefined; undefined; return "http://help.yandex.ru/start/" } } } } }, cityday: function (dY) { if (dY === "ru") { return "http://cityday.yandex.ru" } else { undefined; undefined; return "http://cityday.yandex.ru" } }, openid: function (dY) { if (dY === "ru") { return "http://openid.yandex.ru" } else { undefined; undefined; return "http://openid.yandex.ru" } }, oauth: function (dY) { if (dY === "ru") { return "http://oauth.yandex.ru" } else { undefined; undefined; if (dY === "com") { return "http://oauth.yandex.com" } else { undefined; undefined; return "http://oauth.yandex.ru" } } }, nano: function (dY) { if (dY === "ru") { return "http://nano.yandex.ru" } else { undefined; undefined; return "http://nano.yandex.ru" } }, partnersearch: function (dY) { if (dY === "ru") { return "http://yandex.ru" } else { undefined; undefined; return "http://yandex.ru" } }, city: function (dY) { if (dY === "ru") { return "http://city.yandex.ru" } else { undefined; undefined; return "http://city.yandex.ru" } }, goroda: function (dY) { if (dY === "ru") { return "http://goroda.yandex.ru" } else { undefined; undefined; return "http://goroda.yandex.ru" } }, toster: function (dY) { if (dY === "ru") { return "http://toster.yandex.ru" } else { undefined; undefined; return "http://toster.yandex.ru" } }, love: function (dY) { if (dY === "ru") { return "http://love.yandex.ru" } else { undefined; undefined; return "http://love.yandex.ru" } }, rk: function (dY) { if (dY === "ru") { return "http://rk.yandex.ru" } else { undefined; undefined; return "http://rk.yandex.ru" } }, lost: function (dY) { if (dY === "ru") { return "http://lost.yandex.ru" } else { undefined; undefined; return "http://lost.yandex.ru" } }, soft: function (dY) { if (dY === "ru") { return "http://soft.yandex.ru" } else { undefined; undefined; if (dY === "tr") { return "http://soft.yandex.com.tr" } else { undefined; undefined; return "http://soft.yandex.ru" } } }, passport: function (dY) { if (dY === "ru") { return "https://passport.yandex.ru" } else { undefined; undefined; if (dY === "com") { return "https://passport.yandex.com" } else { undefined; undefined; if (dY === "tr") { return "https://passport.yandex.com.tr" } else { undefined; undefined; return "https://passport.yandex.ru" } } } }, "maps-wiki": function (dY) { if (dY === "ru") { return "http://nk.yandex.ru" } else { undefined; undefined; return "http://nk.yandex.ru" } }, "404": function (dY) { if (dY === "ru") { return "http://404.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://404.yandex.ua" } else { undefined; undefined; if (dY === "com") { return "http://404.yandex.com" } else { undefined; undefined; if (dY === "by") { return "http://404.yandex.by" } else { undefined; undefined; if (dY === "kz") { return "http://404.yandex.kz" } else { undefined; undefined; if (dY === "tr") { return "http://404.yandex.com.tr" } else { undefined; undefined; return "http://404.yandex.ru" } } } } } } }, i: function (dY) { if (dY === "ru") { return "http://i.yandex.ru" } else { undefined; undefined; return "http://i.yandex.ru" } }, desktop: function (dY) { if (dY === "ru") { return "http://desktop.yandex.ru" } else { undefined; undefined; return "http://desktop.yandex.ru" } }, ff: function (dY) { if (dY === "ru") { return "http://ff.yandex.ru" } else { undefined; undefined; return "http://ff.yandex.ru" } }, fx: function (dY) { if (dY === "ru") { return "http://fx.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://fx.yandex.ua" } else { undefined; undefined; if (dY === "tr") { return "http://fx.yandex.com.tr" } else { undefined; undefined; return "http://fx.yandex.ru" } } } }, ie: function (dY) { if (dY === "ru") { return "http://ie.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://ie.yandex.ua" } else { undefined; undefined; if (dY === "tr") { return "http://ie.yandex.com.tr" } else { undefined; undefined; return "http://ie.yandex.ru" } } } }, "bar-ie": function (dY) { if (dY === "ru") { return "http://bar.yandex.ru/ie" } else { undefined; undefined; if (dY === "ua") { return "http://bar.yandex.ua/ie" } else { undefined; undefined; if (dY === "com") { return "http://bar.yandex.com/ie" } else { undefined; undefined; if (dY === "by") { return "http://bar.yandex.by/ie" } else { undefined; undefined; if (dY === "kz") { return "http://bar.yandex.kz/ie" } else { undefined; undefined; if (dY === "tr") { return "http://bar.yandex.com.tr/ie" } else { undefined; undefined; return "http://bar.yandex.ru/ie" } } } } } } }, "bar-ie9": function (dY) { if (dY === "ru") { return "http://bar.yandex.ru/ie" } else { undefined; undefined; if (dY === "ua") { return "http://bar.yandex.ua/ie" } else { undefined; undefined; if (dY === "com") { return "http://bar.yandex.com/ie" } else { undefined; undefined; if (dY === "by") { return "http://bar.yandex.by/ie" } else { undefined; undefined; if (dY === "kz") { return "http://bar.yandex.kz/ie" } else { undefined; undefined; if (dY === "tr") { return "http://bar.yandex.com.tr/ie" } else { undefined; undefined; return "http://bar.yandex.ru/ie" } } } } } } }, internet: function (dY) { if (dY === "ru") { return "http://internet.yandex.ru" } else { undefined; undefined; if (dY === "com") { return "http://internet.yandex.com" } else { undefined; undefined; if (dY === "tr") { return "http://internet.yandex.com.tr" } else { undefined; undefined; return "http://internet.yandex.ru" } } } }, keyboard: function (dY) { if (dY === "ru") { return "http://www.yandex.ru/index_engl_qwerty.html" } else { undefined; undefined; return "http://www.yandex.ru/index_engl_qwerty.html" } }, metro: function (dY) { if (dY === "ru") { return "http://metro.yandex.ru" } else { undefined; undefined; return "http://metro.yandex.ru" } }, pulse: function (dY) { if (dY === "ru") { return "http://blogs.yandex.ru/pulse" } else { undefined; undefined; if (dY === "ua") { return "http://blogs.yandex.ua/pulse" } else { undefined; undefined; if (dY === "by") { return "http://blogs.yandex.by/pulse" } else { undefined; undefined; if (dY === "kz") { return "http://blogs.yandex.kz/pulse" } else { undefined; undefined; return "http://blogs.yandex.ru/pulse" } } } } }, school: function (dY) { if (dY === "ru") { return "http://school.yandex.ru" } else { undefined; undefined; return "http://school.yandex.ru" } }, so: function (dY) { if (dY === "ru") { return "http://so.yandex.ru" } else { undefined; undefined; return "http://so.yandex.ru" } }, time: function (dY) { if (dY === "ru") { return "http://time.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://time.yandex.ua" } else { undefined; undefined; if (dY === "com") { return "http://time.yandex.com" } else { undefined; undefined; if (dY === "by") { return "http://time.yandex.by" } else { undefined; undefined; if (dY === "kz") { return "http://time.yandex.kz" } else { undefined; undefined; if (dY === "tr") { return "http://time.yandex.com.tr" } else { undefined; undefined; return "http://time.yandex.ru" } } } } } } }, xmlsearch: function (dY) { if (dY === "ru") { return "http://xml.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://xml.yandex.ua" } else { undefined; undefined; if (dY === "com") { return "http://xml.yandex.com" } else { undefined; undefined; if (dY === "by") { return "http://xml.yandex.by" } else { undefined; undefined; if (dY === "kz") { return "http://xml.yandex.kz" } else { undefined; undefined; if (dY === "tr") { return "http://xml.yandex.com.tr" } else { undefined; undefined; return "http://xml.yandex.ru" } } } } } } }, catalogwdgt: function (dY) { if (dY === "ru") { return "http://www.yandex.ru/catalog" } else { undefined; undefined; return "http://www.yandex.ru/catalog" } }, opera: function (dY) { if (dY === "ru") { return "http://opera.yandex.ru" } else { undefined; undefined; if (dY === "tr") { return "http://opera.yandex.com.tr" } else { undefined; undefined; return "http://opera.yandex.ru" } } }, uslugi: function (dY) { if (dY === "ru") { return "http://uslugi.yandex.ru" } else { undefined; undefined; return "http://uslugi.yandex.ru" } }, backapv: function (dY) { if (dY === "ru") { return "http://backapv.yandex.ru" } else { undefined; undefined; return "http://backapv.yandex.ru" } }, chrome: function (dY) { if (dY === "ru") { return "http://chrome.yandex.ru" } else { undefined; undefined; return "http://chrome.yandex.ru" } }, browser: function (dY) { if (dY === "ru") { return "http://browser.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://browser.yandex.ua" } else { undefined; undefined; if (dY === "com") { return "http://browser.yandex.com" } else { undefined; undefined; if (dY === "by") { return "http://browser.yandex.by" } else { undefined; undefined; if (dY === "kz") { return "http://browser.yandex.kz" } else { undefined; undefined; if (dY === "tr") { return "http://browser.yandex.com.tr" } else { undefined; undefined; return "http://browser.yandex.ru" } } } } } } }, aziada: function (dY) { if (dY === "ru") { return "http://aziada2011.yandex.kz" } else { undefined; undefined; return "http://aziada2011.yandex.kz" } }, translate: function (dY) { if (dY === "ru") { return "http://translate.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://translate.yandex.ua" } else { undefined; undefined; if (dY === "com") { return "http://translate.yandex.com" } else { undefined; undefined; if (dY === "by") { return "http://translate.yandex.by" } else { undefined; undefined; if (dY === "kz") { return "http://translate.yandex.kz" } else { undefined; undefined; if (dY === "tr") { return "http://ceviri.yandex.com.tr" } else { undefined; undefined; return "http://translate.yandex.ru" } } } } } } }, subs: function (dY) { if (dY === "ru") { return "http://subs.yandex.ru" } else { undefined; undefined; return "http://subs.yandex.ru" } }, all: function (dY) { if (dY === "ru") { return "http://www.yandex.ru/all" } else { undefined; undefined; if (dY === "ua") { return "http://www.yandex.ua/all" } else { undefined; undefined; if (dY === "com") { return "http://www.yandex.com/all" } else { undefined; undefined; if (dY === "by") { return "http://www.yandex.by/all" } else { undefined; undefined; if (dY === "kz") { return "http://www.yandex.kz/all" } else { undefined; undefined; if (dY === "tr") { return "http://www.yandex.com.tr/all" } else { undefined; undefined; return "http://www.yandex.ru/all" } } } } } } }, large: function (dY) { if (dY === "ru") { return "http://large.yandex.ru" } else { undefined; undefined; return "http://large.yandex.ru" } }, geocontext: function (dY) { if (dY === "ru") { return "http://geocontext.yandex.ru" } else { undefined; undefined; return "http://geocontext.yandex.ru" } }, root: function (dY) { if (dY === "ru") { return "http://root.yandex.ru" } else { undefined; undefined; return "http://root.yandex.ru" } }, yamb: function (dY) { if (dY === "ru") { return "https://yamb.yandex.ru" } else { undefined; undefined; return "https://yamb.yandex.ru" } }, legal: function (dY) { if (dY === "ru") { return "http://legal.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://legal.yandex.ua" } else { undefined; undefined; if (dY === "com") { return "http://legal.yandex.com" } else { undefined; undefined; if (dY === "tr") { return "http://legal.yandex.com.tr" } else { undefined; undefined; return "http://legal.yandex.ru" } } } } }, taxi: function (dY) { if (dY === "ru") { return "https://taxi.yandex.ru" } else { undefined; undefined; return "https://taxi.yandex.ru" } }, social: function (dY) { if (dY === "ru") { return "https://social.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "https://social.yandex.ua" } else { undefined; undefined; if (dY === "com") { return "https://social.yandex.ru" } else { undefined; undefined; if (dY === "by") { return "https://social.yandex.by" } else { undefined; undefined; if (dY === "kz") { return "https://social.yandex.kz" } else { undefined; undefined; if (dY === "tr") { return "https://social.yandex.com.tr" } else { undefined; undefined; return "https://social.yandex.ru" } } } } } } }, contest: function (dY) { if (dY === "ru") { return "http://contest.yandex.ru" } else { undefined; undefined; if (dY === "com") { return "http://contest.yandex.com" } else { undefined; undefined; return "http://contest.yandex.ru" } } }, peoplesearch: function (dY) { if (dY === "ru") { return "http://people.yandex.ru" } else { undefined; undefined; if (dY === "ua") { return "http://people.yandex.ua" } else { undefined; undefined; return "http://people.yandex.ru" } } }, disk: function (dY) { if (dY === "ru") { return "http://disk.yandex.ru" } else { undefined; undefined; if (dY === "com") { return "http://disk.yandex.com" } else { undefined; undefined; if (dY === "tr") { return "http://disk.yandex.com.tr" } else { undefined; undefined; return "http://disk.yandex.ru" } } } }, sport: function (dY) { if (dY === "ru") { return "http://sport.yandex.ru" } else { undefined; undefined; if (dY === "by") { return "http://sport.yandex.by" } else { undefined; undefined; if (dY === "ua") { return "http://sport.yandex.ua" } else { undefined; undefined; if (dY === "kz") { return "http://sport.yandex.kz" } else { undefined; undefined; if (dY === "tr") { return "http://spor.yandex.com.tr" } else { undefined; undefined; return "http://sport.yandex.ru" } } } } } }, literacy: function (dY) { if (dY === "ru") { return "http://literacy.yandex.ru" } else { undefined; undefined; return "http://literacy.yandex.ru" } }, appsearch: function (dY) { if (dY === "ru") { return "//appsearch.yandex.ru" } else { undefined; undefined; return "//appsearch.yandex.ru" } }, ege: function (dY) { if (dY === "ru") { return "//ege.yandex.ru" } else { undefined; undefined; return "//ege.yandex.ru" } } }) } function bl(dY) { if (this.block === "i-services") { var dX = this.elem; if (dX === "url") { return bk.call(this, dY) } else { if (dX === "name") { return aY.call(this, dY) } else { if (!this.elem === false) { return aT.call(this, dY) } else { return aP.call(this, dY) } } } } else { return aP.call(this, dY) } } function bk(dX) { this["_buf"]["push"](this["i-services"]["serviceUrl"](this["ctx"]["id"], this["ctx"]["region"])); return dX.call(this, null) } function aY(dX) { this["_buf"]["push"](this["i-services"]["serviceName"](this["ctx"]["id"])); return dX.call(this, null) } function aT(dX) { return dX.call(this, null, "") } function aP(dY) { var dX = this._mode; if (dX === "") { if (!this["i-global"] === false) { if (!!this["i-services"] === false) { return aq.call(this, dY) } else { return bs.call(this, dY) } } else { return bs.call(this, dY) } } else { if (dX === "default") { var dX = this.block; if (dX === "b-history") { if (!(this["__$anflg588745202"] !== true) === false) { if (!!this.elem === false) { return a3.call(this, dY) } else { return bs.call(this, dY) } } else { return bs.call(this, dY) } } else { if (dX === "b-pager") { if (!(this.mods && this.mods.type === "custom") === false) { if (!!this._current === false) { if (!!this.elem === false) { return q.call(this, dY) } else { return dT.call(this, dY) } } else { return dT.call(this, dY) } } else { return dT.call(this, dY) } } else { if (dX === "b-form-checkbox") { if (!!this._checkboxAttrs === false) { if (!!this.elem === false) { return dD.call(this, dY) } else { return bs.call(this, dY) } } else { return bs.call(this, dY) } } else { if (dX === "b-domik") { if (!(this["__$anflg722598153"] !== true) === false) { if (!(this.mods && this.mods.type === "popup") === false) { if (!this["i-global"].login === false) { if (!!this.elem === false) { return dm.call(this, dY) } else { return dh.call(this, dY) } } else { return dh.call(this, dY) } } else { return dh.call(this, dY) } } else { return dh.call(this, dY) } } else { if (dX === "b-form-radio") { if (!!this._inputAttrs === false) { if (!!this.elem === false) { return S.call(this, dY) } else { return P.call(this, dY) } } else { return P.call(this, dY) } } else { if (dX === "b-dropdowna") { if (!!this.ctx._init === false) { if (!!this.elem === false) { return cd.call(this, dY) } else { return bs.call(this, dY) } } else { return bs.call(this, dY) } } else { if (dX === "b-form-input") { var dX = this.elem; if (dX === "hint") { if (!!this.ctx._wrap === false) { return b7.call(this, dY) } else { return dc.call(this, dY) } } else { if (dX === "input") { if (!!this.ctx._wrap === false) { return de.call(this, dY) } else { return dc.call(this, dY) } } else { return dc.call(this, dY) } } } else { if (dX === "b-page") { if (this.elem === "css") { if (!this.ctx.hasOwnProperty("ie") === false) { if (!!this.ctx._ieCommented === false) { return cP.call(this, dY) } else { return cs.call(this, dY) } } else { return cs.call(this, dY) } } else { return cs.call(this, dY) } } else { if (dX === "b-popupa") { if (this.elem === "content") { if (!!this.ctx._wrap === false) { return b4.call(this, dY) } else { return bs.call(this, dY) } } else { return bs.call(this, dY) } } else { if (dX === "i-bem") { if (this.elem === "i18n") { return bN.call(this, dY) } else { return bs.call(this, dY) } } else { if (dX === "b-regions-statistic") { if (this.elem === "filter") { if (!(this["__$anflg320105222"] !== true) === false) { return aw.call(this, dY) } else { return bs.call(this, dY) } } else { return bs.call(this, dY) } } else { if (dX === "i-jquery") { if (this.elem === "core") { return bL.call(this, dY) } else { return bs.call(this, dY) } } else { if (dX === "b-form-button") { if (!!this.ctx._inputClick === false) { if (!!this.elem === false) { return cy.call(this, dY) } else { return bs.call(this, dY) } } else { return bs.call(this, dY) } } else { return bs.call(this, dY) } } } } } } } } } } } } } } else { if (dX === "js") { var dX = this.block; if (dX === "b-history") { if (!!this.elem === false) { return bt.call(this, dY) } else { return bs.call(this, dY) } } else { if (dX === "b-chart") { if (!!this.elem === false) { return av.call(this, dY) } else { return bs.call(this, dY) } } else { if (dX === "b-form-radio") { if (!!this.elem === false) { return au.call(this, dY) } else { if (this.elem === "button") { return R.call(this, dY) } else { return bs.call(this, dY) } } } else { if (dX === "b-phrase-link") { if (!!this.elem === false) { return O.call(this, dY) } else { return bs.call(this, dY) } } else { if (dX === "b-tooltip") { if (!!this.elem === false) { return aZ.call(this, dY) } else { return bs.call(this, dY) } } else { if (dX === "b-form-button") { if (!!this.elem === false) { return p.call(this, dY) } else { return bs.call(this, dY) } } else { if (dX === "b-link") { if (!(this.mods && this.mods.pseudo) === false) { if (!!this.elem === false) { return aW.call(this, dY) } else { return bs.call(this, dY) } } else { return bs.call(this, dY) } } else { if (dX === "b-dropdowna") { if (!!this.elem === false) { return at.call(this, dY) } else { return bs.call(this, dY) } } else { if (dX === "b-domik") { if (!!this.elem === false) { return ap.call(this, dY) } else { return bs.call(this, dY) } } else { if (dX === "b-form-input") { if (!!this.elem === false) { return M.call(this, dY) } else { return bs.call(this, dY) } } else { if (dX === "l-content") { if (!!this.elem === false) { return a4.call(this, dY) } else { return bs.call(this, dY) } } else { if (dX === "b-spin") { if (!!this.elem === false) { return J.call(this, dY) } else { return bs.call(this, dY) } } else { if (dX === "b-db-switcher") { if (!!this.elem === false) { return br.call(this, dY) } else { return bs.call(this, dY) } } else { if (dX === "b-popupa") { if (!!this.elem === false) { return n.call(this, dY) } else { return bs.call(this, dY) } } else { if (dX === "b-form-checkbox") { if (!!this.elem === false) { return s.call(this, dY) } else { return bs.call(this, dY) } } else { return bs.call(this, dY) } } } } } } } } } } } } } } } } else { if (dX === "elem") { if (this.block === "b-regions-statistic") { if (this.elem === "table") { return i.call(this, dY) } else { return bs.call(this, dY) } } else { return bs.call(this, dY) } } else { if (dX === "attrs") { var dX = this.block; if (dX === "b-map") { if (!!this.elem === false) { return dP.call(this, dY) } else { return bs.call(this, dY) } } else { if (dX === "b-form-radio") { var dX = this.elem; if (dX === "radio") { return dA.call(this, dY) } else { if (dX === "button") { return dz.call(this, dY) } else { return bs.call(this, dY) } } } else { if (dX === "b-pager") { var dX = this.elem; if (dX === "next") { if (!(this.mods && this.mods.type === "custom") === false) { return df.call(this, dY) } else { return cS.call(this, dY) } } else { if (dX === "prev") { if (!(this.mods && this.mods.type === "custom") === false) { return db.call(this, dY) } else { return cS.call(this, dY) } } else { if (dX === "page") { return cU.call(this, dY) } else { return cS.call(this, dY) } } } } else { if (dX === "b-form-checkbox") { var dX = this.elem; if (dX === "tick") { return cv.call(this, dY) } else { if (dX === "checkbox") { return ct.call(this, dY) } else { if (dX === "label") { return cr.call(this, dY) } else { return bs.call(this, dY) } } } } else { if (dX === "b-form-input") { var dX = this.elem; if (dX === "input") { if (!(this["__$anflg823459892"] !== true) === false) { if (!(this.mods && this.mods.type === "password") === false) { return b6.call(this, dY) } else { return b3.call(this, dY) } } else { return b3.call(this, dY) } } else { if (dX === "hint") { return b2.call(this, dY) } else { return bs.call(this, dY) } } } else { if (dX === "b-chart") { if (!!this.elem === false) { return dB.call(this, dY) } else { return bs.call(this, dY) } } else { if (dX === "b-link") { if (!(this.mods && this.mods.pseudo) === false) { if (!!this.elem === false) { if (!!this.ctx.url === false) { return cN.call(this, dY) } else { return cI.call(this, dY) } } else { return cI.call(this, dY) } } else { return cI.call(this, dY) } } else { if (dX === "b-domik") { if (!!this.elem === false) { return ck.call(this, dY) } else { return bs.call(this, dY) } } else { if (dX === "b-page") { var dX = this.elem; if (dX === "js") { if (!this.ctx.url === false) { return b0.call(this, dY) } else { return bs.call(this, dY) } } else { if (dX === "css") { if (!this.ctx.url === false) { return bZ.call(this, dY) } else { return bs.call(this, dY) } } else { if (dX === "favicon") { return bK.call(this, dY) } else { if (dX === "meta") { return bJ.call(this, dY) } else { return bs.call(this, dY) } } } } } else { if (dX === "b-icon") { if (!!this.elem === false) { return bG.call(this, dY) } else { return bs.call(this, dY) } } else { if (dX === "b-popupa") { if (this.elem === "wrap") { return bq.call(this, dY) } else { return bs.call(this, dY) } } else { if (dX === "b-form-button") { if (this.elem === "input") { return c6.call(this, dY) } else { if (!!this.elem === false) { return c3.call(this, dY) } else { return bs.call(this, dY) } } } else { return bs.call(this, dY) } } } } } } } } } } } } } else { if (dX === "tag") { var dX = this.block; if (dX === "b-formatter") { if (!(this.mods && this.mods.type === "integer") === false) { if (!!this.elem === false) { return al.call(this, dY) } else { return bs.call(this, dY) } } else { return bs.call(this, dY) } } else { if (dX === "b-form-radio") { if (!!this.elem === false) { return X.call(this, dY) } else { var dX = this.elem; if (dX === "text") { return U.call(this, dY) } else { if (dX === "radio") { return T.call(this, dY) } else { if (dX === "content") { return Q.call(this, dY) } else { if (dX === "inner") { return v.call(this, dY) } else { if (dX === "button") { return u.call(this, dY) } else { return bs.call(this, dY) } } } } } } } else { if (dX === "b-pager") { var dX = this.elem; if (dX === "next") { if (!(this.mods && this.mods.type === "custom") === false) { return r.call(this, dY) } else { return dv.call(this, dY) } } else { if (dX === "prev") { if (!(this.mods && this.mods.type === "custom") === false) { return dU.call(this, dY) } else { return dv.call(this, dY) } } else { if (dX === "key") { if (!(this.mods && this.mods.type === "custom") === false) { return dS.call(this, dY) } else { return dI.call(this, dY) } } else { if (dX === "sorted") { return dG.call(this, dY) } else { if (dX === "current") { return dF.call(this, dY) } else { if (dX === "page") { return dE.call(this, dY) } else { if (dX === "arr") { return dC.call(this, dY) } else { return dv.call(this, dY) } } } } } } } } else { if (dX === "b-phrase-link") { if (!!this.elem === false) { return c0.call(this, dY) } else { return bs.call(this, dY) } } else { if (dX === "b-tooltip") { if (!!this.elem === false) { return ax.call(this, dY) } else { return bs.call(this, dY) } } else { if (dX === "b-form-button") { var dX = this.elem; if (dX === "input") { return ch.call(this, dY) } else { if (dX === "click") { if (!this.ctx.url === false) { return ce.call(this, dY) } else { return cb.call(this, dY) } } else { if (dX === "text") { return dl.call(this, dY) } else { if (dX === "left") { return dj.call(this, dY) } else { if (!this.ctx === false) { if (!this.ctx.url === false) { if (!!this.elem === false) { return dg.call(this, dY) } else { return cW.call(this, dY) } } else { return cW.call(this, dY) } } else { return cW.call(this, dY) } } } } } } else { if (dX === "b-link") { if (this.elem === "inner") { return cT.call(this, dY) } else { if (!(this.mods && this.mods.pseudo) === false) { if (!!this.elem === false) { return cx.call(this, dY) } else { return cw.call(this, dY) } } else { return cw.call(this, dY) } } } else { if (dX === "b-dropdowna") { if (this.elem === "switcher") { return b8.call(this, dY) } else { return bs.call(this, dY) } } else { if (dX === "b-popupa") { var dX = this.elem; if (dX === "tail") { return b5.call(this, dY) } else { if (dX === "wrap-cell") { return bR.call(this, dY) } else { if (dX === "wrap") { return bQ.call(this, dY) } else { if (dX === "shadow") { return bO.call(this, dY) } else { return bs.call(this, dY) } } } } } else { if (dX === "b-domik") { if (this.elem === "roof") { return bM.call(this, dY) } else { if (!!this.elem === false) { return bx.call(this, dY) } else { return bs.call(this, dY) } } } else { if (dX === "l-content") { if (this.elem === "layout") { return aC.call(this, dY) } else { return bs.call(this, dY) } } else { if (dX === "b-form-input") { var dX = this.elem; if (dX === "hint") { return bw.call(this, dY) } else { if (dX === "input") { return bv.call(this, dY) } else { if (!!this.elem === false) { return ba.call(this, dY) } else { return bs.call(this, dY) } } } } else { if (dX === "b-db-switcher") { if (!!this.elem === false) { return a5.call(this, dY) } else { return bs.call(this, dY) } } else { if (dX === "b-page") { var dX = this.elem; if (dX === "js") { return a6.call(this, dY) } else { if (dX === "css") { if (!this.ctx.url === false) { return aF.call(this, dY) } else { return aD.call(this, dY) } } else { if (dX === "body") { return aA.call(this, dY) } else { if (dX === "favicon") { return az.call(this, dY) } else { if (dX === "meta") { return ay.call(this, dY) } else { if (dX === "head") { return ad.call(this, dY) } else { if (dX === "root") { return Z.call(this, dY) } else { if (!!this.elem === false) { return V.call(this, dY) } else { return bs.call(this, dY) } } } } } } } } } else { if (dX === "b-regions-statistic") { var dX = this.elem; if (dX === "sort-link") { return bd.call(this, dY) } else { if (dX === "table") { return a8.call(this, dY) } else { return bs.call(this, dY) } } } else { if (dX === "b-icon") { if (!!this.elem === false) { return x.call(this, dY) } else { return bs.call(this, dY) } } else { if (dX === "b-history") { var dX = this.elem; if (dX === "number") { return ae.call(this, dY) } else { if (dX === "table-body") { return ab.call(this, dY) } else { if (dX === "table-head") { return F.call(this, dY) } else { if (dX === "chart") { return D.call(this, dY) } else { if (dX === "results") { return z.call(this, dY) } else { return bs.call(this, dY) } } } } } } else { if (dX === "i-ua") { if (!!this.elem === false) { return t.call(this, dY) } else { return bs.call(this, dY) } } else { if (dX === "b-form-checkbox") { var dX = this.elem; if (dX === "tick") { return cY.call(this, dY) } else { if (dX === "bg") { return cH.call(this, dY) } else { if (dX === "checkbox") { return cF.call(this, dY) } else { if (dX === "label") { return cB.call(this, dY) } else { if (!!this.elem === false) { return cz.call(this, dY) } else { return bs.call(this, dY) } } } } } } else { return bs.call(this, dY) } } } } } } } } } } } } } } } } } } } } else { if (dX === "action-content") { if (this.block === "b-domik") { if (!!this.elem === false) { return dy.call(this, dY) } else { return bs.call(this, dY) } } else { return bs.call(this, dY) } } else { if (dX === "bem") { var dX = this.block; if (dX === "b-page") { var dX = this.elem; if (dX === "js") { return dd.call(this, dY) } else { if (dX === "css") { return da.call(this, dY) } else { if (dX === "favicon") { return c7.call(this, dY) } else { if (dX === "meta") { return c5.call(this, dY) } else { if (dX === "head") { return c2.call(this, dY) } else { if (dX === "root") { return cQ.call(this, dY) } else { return bs.call(this, dY) } } } } } } } else { if (dX === "i-ua") { if (!!this.elem === false) { return cM.call(this, dY) } else { return bs.call(this, dY) } } else { return bs.call(this, dY) } } } else { if (dX === "cls") { if (this.block === "b-page") { if (this.elem === "root") { return cn.call(this, dY) } else { return bs.call(this, dY) } } else { return bs.call(this, dY) } } else { if (dX === "doctype") { if (this.block === "b-page") { if (!!this.elem === false) { return b1.call(this, dY) } else { return bs.call(this, dY) } } else { return bs.call(this, dY) } } else { if (dX === "js-params") { if (this.block === "b-page") { if (!!this.elem === false) { return bX.call(this, dY) } else { return bs.call(this, dY) } } else { return bs.call(this, dY) } } else { if (dX === "content") { var dX = this.block; if (dX === "b-formatter") { if (!(this.mods && this.mods.type === "float") === false) { if (!!this.elem === false) { return ai.call(this, dY) } else { return L.call(this, dY) } } else { return L.call(this, dY) } } else { if (dX === "b-tooltip") { if (!!this.elem === false) { return dN.call(this, dY) } else { return bs.call(this, dY) } } else { if (dX === "b-form-radio") { var dX = this.elem; if (dX === "content") { return dK.call(this, dY) } else { if (dX === "inner") { return dJ.call(this, dY) } else { if (dX === "button") { return dH.call(this, dY) } else { return bs.call(this, dY) } } } } else { if (dX === "b-pager") { var dX = this.elem; if (dX === "next") { if (!(this.mods && this.mods.type === "custom") === false) { return dw.call(this, dY) } else { return c1.call(this, dY) } } else { if (dX === "prev") { if (!(this.mods && this.mods.type === "custom") === false) { return c9.call(this, dY) } else { return c1.call(this, dY) } } else { if (dX === "key") { if (!(this.mods && this.mods.type === "custom") === false) { return c4.call(this, dY) } else { return c1.call(this, dY) } } else { return c1.call(this, dY) } } } } else { if (dX === "l-content") { if (this.elem === "layout") { return d.call(this, dY) } else { if (!!this.elem === false) { return dV.call(this, dY) } else { return bs.call(this, dY) } } } else { if (dX === "b-form-checkbox") { if (this.elem === "bg") { return dn.call(this, dY) } else { if (!!this.elem === false) { return di.call(this, dY) } else { return bs.call(this, dY) } } } else { if (dX === "b-domik") { if (!(this.mods && this.mods.type === "popup") === false) { if (!!this.elem === false) { return cZ.call(this, dY) } else { return bs.call(this, dY) } } else { return bs.call(this, dY) } } else { if (dX === "b-form-button") { if (this.elem === "text") { return cE.call(this, dY) } else { if (!!this.elem === false) { return cA.call(this, dY) } else { return bs.call(this, dY) } } } else { if (dX === "b-link") { if (!(this.mods && this.mods.pseudo) === false) { if (!!this.ctx._wrap === false) { if (!!this.elem === false) { if (!!this.mods.inner === false) { return cg.call(this, dY) } else { return bs.call(this, dY) } } else { return bs.call(this, dY) } } else { return bs.call(this, dY) } } else { return bs.call(this, dY) } } else { if (dX === "b-page") { if (!!this.elem === false) { return bU.call(this, dY) } else { return bs.call(this, dY) } } else { if (dX === "b-db-switcher") { if (!!this.elem === false) { return w.call(this, dY) } else { return bs.call(this, dY) } } else { if (dX === "b-spin") { if (!!this.elem === false) { return bP.call(this, dY) } else { return bs.call(this, dY) } } else { if (dX === "b-regions-statistic") { var dX = this.elem; if (dX === "sort-link") { return aa.call(this, dY) } else { if (dX === "table") { return W.call(this, dY) } else { if (!!this.elem === false) { return B.call(this, dY) } else { return bs.call(this, dY) } } } } else { if (dX === "b-popupa") { if (this.elem === "wrap") { return bD.call(this, dY) } else { if (!(this.mods && this.mods["has-close"] === "yes") === false) { if (!!this.elem === false) { return bz.call(this, dY) } else { return bs.call(this, dY) } } else { return bs.call(this, dY) } } } else { if (dX === "b-history") { var dX = this.elem; if (dX === "period-type") { return bf.call(this, dY) } else { if (dX === "number") { return bb.call(this, dY) } else { if (dX === "table-body") { return a7.call(this, dY) } else { if (dX === "table-head") { return aK.call(this, dY) } else { if (dX === "table-layout") { return aI.call(this, dY) } else { if (dX === "table-box") { return aG.call(this, dY) } else { if (dX === "chart") { return aE.call(this, dY) } else { if (dX === "results") { return aB.call(this, dY) } else { if (!!this.elem === false) { return ag.call(this, dY) } else { return bs.call(this, dY) } } } } } } } } } } else { if (dX === "i-ua") { if (!(this["__$anflg886873852"] !== true) === false) { if (!!this.elem === false) { return bg.call(this, dY) } else { return bc.call(this, dY) } } else { return bc.call(this, dY) } } else { if (dX === "b-phrase-link") { if (!!this.elem === false) { return ds.call(this, dY) } else { return bs.call(this, dY) } } else { return bs.call(this, dY) } } } } } } } } } } } } } } } } } } else { if (dX === "public-params") { if (this.block === "i-global") { if (!this.elem === false) { return bH.call(this, dY) } else { return bs.call(this, dY) } } else { return bs.call(this, dY) } } else { if (dX === "mix") { var dX = this.block; if (dX === "b-form-radio") { if (this.elem === "button") { return a1.call(this, dY) } else { return bs.call(this, dY) } } else { if (dX === "b-pager") { var dX = this.elem; if (dX === "button-next") { return aV.call(this, dY) } else { if (dX === "button-prev") { return aS.call(this, dY) } else { return bs.call(this, dY) } } } else { if (dX === "b-form-checkbox") { if (!!this.elem === false) { return ar.call(this, dY) } else { return bs.call(this, dY) } } else { if (dX === "b-domik") { if (!(this.mods && this.mods.type === "popup") === false) { if (!!this.elem === false) { return an.call(this, dY) } else { return bs.call(this, dY) } } else { return bs.call(this, dY) } } else { if (dX === "b-form-button") { if (!!this.elem === false) { return K.call(this, dY) } else { return bs.call(this, dY) } } else { if (dX === "b-dropdowna") { if (!!this.elem === false) { return o.call(this, dY) } else { return bs.call(this, dY) } } else { if (dX === "b-page") { if (!!this.ctx._iGlobal === false) { if (!!this.elem === false) { return m.call(this, dY) } else { return l.call(this, dY) } } else { return l.call(this, dY) } } else { if (dX === "b-spin") { if (!!this.elem === false) { return c.call(this, dY) } else { return bs.call(this, dY) } } else { if (dX === "b-popupa") { if (!!this.ctx._mix === false) { if (!!this.elem === false) { return dO.call(this, dY) } else { return bs.call(this, dY) } } else { return bs.call(this, dY) } } else { return bs.call(this, dY) } } } } } } } } } } else { return bs.call(this, dY) } } } } } } } } } } } } } } } function aq(d1) { var d7; var d4; var d5; function dZ(ea, d9) { var eb; function d8(ed, ec) { if (ed) { return d1.call(this, ed, ec) } else { eb = ec } undefined; undefined; return d1.call(this, null) } if (ea) { return d1.call(this, ea, d9) } else { d5 = d9 } d2 = d5; this["block"] = d3; this["_mode"] = d6; ""; d7[d4] = d2; dX.serviceName = function (eh) { var ef; var ee; var ed; var ec; var eg; ee = BEM; ed = "I18N"; ec = "i-services"; eg = eh; if (eg) { ef = eg } else { ef = dY.id } return ee[ed](ec, ef) }; dX.serviceUrl = function (ej, eh) { var eg; var ef; var ee; var ed; var ec; var ei; ei = ej; if (ei) { ec = ei } else { ec = ej = dY.id } ef = dX._data; ee = ej; ed = eh; if (ed) { eg = ed } else { eg = dY["content-region"] } return ef[ee](eg) }; return dx.call(d0, d8) } var dX, dY; var d3, d6, d2; var d0; d0 = this; dX = this["i-services"] = {}; dY = this["i-global"]; d7 = dX; d4 = "_data"; ""; d3 = this["block"]; this["block"] = "i-services"; d6 = this["_mode"]; this["_mode"] = "service-url"; return dx.call(d0, dZ) } function ai(dY) { function dZ(d7, d6, d8, d4) { var ee; var d1; var eb; var ea; var eg; var d2; var ec; var d9; var d0; var d3; var d5; var ed; var ef; ef = ""; ed = d7.length; d5 = 0; if (d4) { d3 = d5; while (true) { if (!(d3 <= ed)) { break } else { d0 = d7.substring(d3 + d8, d3); ec = ef; d9 = ef.length; if (d9) { d2 = d0.length } else { d2 = d9 } if (d2) { eg = d6 } else { eg = "" } ef = ec + eg + d0; d3 = d3 + d8 } } } else { d3 = ed; while (true) { if (!(d3 >= d5)) { break } else { d0 = d7.substring(d3 - d8, d3); eb = d0; ea = ef.length; if (ea) { d1 = d0.length } else { d1 = ea } if (d1) { ee = d6 } else { ee = "" } ef = eb + ee + ef; d3 = d3 - d8 } } } undefined; return ef } function dX(d3, eh) { var ek; var ee; var d6; var d7; var ea; var d2; var d8; var ef; var ej; var ed; var d0; var d9; var d1; var eg; var ec; var d5; var eb; var d4; var ei; if (isNaN(d3)) { return d3 } else { d3 = parseFloat(d3, 10); undefined; ei = parseInt(eh.precision, 10); ed = isNaN(ei); if (ed) { ej = ed } else { ej = ei < -1 } if (ej) { ei = -1 } else { undefined } undefined; d4 = eh.decimalSeparator; if (d4 === undefined) { ef = "." } else { ef = d4 } d4 = ef; eb = eh.thousandsSeparator; if (eb === undefined) { d8 = " " } else { d8 = eb } eb = d8; d5 = eh.fractionalSeparator; if (d5 === undefined) { d2 = " " } else { d2 = d5 } d5 = d2; ea = ei > -1; if (ea) { d7 = ei < 20 } else { d7 = ea } if (d7) { ec = d3.toFixed(ei) } else { ec = d3.toFixed(20) } undefined; eg = ec.split("."); d1 = eg[0]; d9 = dZ(d1, eb, 3, false); d0 = eg[1]; d6 = typeof d0 === "string"; if (d6) { ee = d0.length } else { ee = d6 } if (ee) { if (ei === -1) { d0 = d0.replace(/0+$/g, "") } else { undefined } undefined; d0 = dZ(d0, d5, 3, true); if (d0.length) { ek = [d9, d0]["join"](d4) } else { ek = d9 } d9 = ek } else { undefined } undefined; return d9 } } return dY.call(this, null, dX(this["ctx"]["content"], this["ctx"]["formatter"])) } function L(dX) { if (!(this["__$anflg380301898"] !== true) === false) { if (!(this.mods && this.mods.type === "integer") === false) { if (!!this.elem === false) { return H.call(this, dX) } else { return bs.call(this, dX) } } else { return bs.call(this, dX) } } else { return bs.call(this, dX) } } function H(dZ) { var d2; function d0(d4, d3) { if (d4) { return dZ.call(this, d4, d3) } else { d2 = d3 } d1 = d2; this["__$anflg380301898"] = dX; ""; return dZ.call(this, null, d1) } var dX, d1; var dY; dY = this; this["mods"]["type"] = "float"; this["ctx"]["formatter"] = this["extend"]({}, this["ctx"]["formatter"]); this["ctx"]["formatter"]["precision"] = -1; ""; dX = this["__$anflg380301898"]; this["__$anflg380301898"] = true; return dx.call(dY, d0) } function bf(dX) { return dX.call(this, null, [{ tag: "span", elem: "period-type-groupby", content: BEM.I18N("b-history", "Group by:") }, { block: "b-form-radio", mix: [{ block: "b-history", elem: "period-type-radio" }], mods: { size: "m", theme: "grey" }, content: [{ elem: "button", inputAttrs: { value: "monthly" }, content: BEM.I18N("b-history", "month") }, { elem: "button", inputAttrs: { value: "weekly" }, content: BEM.I18N("b-history", "week") }] }, { block: "b-db-switcher", mix: [{ block: "b-history", elem: "db-switcher" }] }, { block: "b-tooltip", mix: [{ block: "b-history", elem: "db-tip" }], content: BEM.I18N("b-history", "The 'All' option includes queries on desktops (computers and laptops), tablets, and smartphones. Choose 'Mobile' to see data for queries for both tablets and smartphones. To see data for tablets and smartphones separately, please click 'Tablets only' and 'Phones only'.") }]) } function bb(dX) { return dX.call(this, null, this["ctx"]["content"]["split"](" ")["map"](function (dY) { return { tag: "span", elem: "number-part", content: dY } })) } function a7(dZ) { var dX; dX = this["ctx"]["events"]; function dY(d3) { var d0; var d1; var d2; if (!dX) { return undefined } else { undefined; undefined; d2 = new Date(d3[0]); d1 = new Date(d3[1]); d0 = dX.filter(function (d7) { var d4; var d6; var d5; d5 = new Date(d7.date); d6 = d5 >= d2; if (d6) { d4 = d5 <= d1 } else { d4 = d6 } return d4 })[0]; if (d0) { return { block: "b-tooltip", content: d0.description, icon: "exclamation", popupTheme: "ffffff" } } else { undefined } } } return dZ.call(this, null, this["ctx"]["dataForPeriod"]["map"](function (ef, d7) { var eg; var eb; var ea; var d8; var d6; var d5; var ec; var d9; var d3; var d2; var d1; var d0; var ee; var ed; var d4; d4 = "tr"; if (d7 % 2) { ed = "even" } else { ed = "odd" } d9 = { tag: "td", content: [ef.dateFrom, "&nbsp;-&nbsp;", ef.dateTo] }; d3 = { tag: "td", elem: "event-td", content: dY(ef.dates) }; d2 = "td"; d1 = "value-td"; d0 = "number"; ee = ef.totalCountInteger; if (ee) { ec = ee } else { ec = ef.totalCount } eb = { tag: d2, elem: d1, content: { elem: d0, content: ec } }; ea = "td"; d8 = "value-td"; d6 = "number"; d5 = ef.relCountFloat; if (d5) { eg = d5 } else { eg = ef.relCount } return { tag: d4, cls: ed, content: [d9, d3, eb, { tag: ea, elem: d8, content: { elem: d6, content: eg } }] } })) } function aK(dX) { return dX.call(this, null, { tag: "tr", content: [{ tag: "th", content: this["_bHistoryCtx"]["periodLabel"] }, { tag: "th", content: "" }, { tag: "th", elem: "value-th", content: this["_bHistoryCtx"]["totalValueLabel"] }, { tag: "th", elem: "value-th", content: this["_bHistoryCtx"]["relativeValueLabel"] }] }) } function aI(dX) { return dX.call(this, null, { tag: "table", elem: "table", content: [{ elem: "table-head" }, { elem: "table-body", dataForPeriod: this["ctx"]["dataForPeriod"], events: this["ctx"]["events"] }] }) } function aG(d3) { var dY; var d0; var d5; var dX; var d4; var d2; var d1; var dZ; dZ = { tag: "table", elem: "splitter", content: { tag: "tr" } }; d1 = this["ctx"]["dataGroup"]; d5 = d1; if (d5) { d0 = d1.data } else { d0 = d5 } if (d0) { dY = d0 } else { dY = [] } d1 = dY; d2 = Math.floor(d1.length / 2); if (d1.length % 2) { d2 = d2 + 1 } else { undefined } undefined; d4 = d1.slice(0, d2); dX = d1.slice(d2, d1.length); dZ.content["content"] = [{ tag: "td", content: { elem: "table-layout", dataForPeriod: d4, events: this["ctx"]["events"] } }, { tag: "td", content: { elem: "table-layout", mix: [{ block: "b-history", elem: "table-not-first" }], dataForPeriod: dX, events: this["ctx"]["events"] } }]; return d3.call(this, null, dZ) } function aE(dY) { var dX; var d0; var dZ; d0 = this["ctx"]["dataGroup"]; if (d0) { dX = d0 } else { dX = {} } dZ = dX; return dY.call(this, null, { block: "b-chart", mix: [{ block: "b-history", elem: "chart" }], data: dZ.data, decimalSeparator: dZ.decimalSeparator, events: this["ctx"]["events"], fractionalSeparator: dZ.fractionalSeparator, graphs: dZ.graphs, minPeriod: dZ.minPeriod, name: dZ.name, thousandsSeparator: dZ.thousandsSeparator }) } function aB(d6) { var ed; var ef; var dY; var dX; var dZ; var d7, d5, d4, d3, d1, d0; var d8; d8 = this; function eb(ej, ei) { var eh; eh = ei.split(""); eh[0] = eh[0]["toUpperCase"](); return ej + eh.join("") } function d9(eh) { return { decimalSeparator: eh.decimalSeparator, thousandSeparator: eh.thousandsSeparator, fractionalSeparator: eh.fractionalSeparator, precision: eh.precision } } function d2(eh, ei) { if (!ei.valueType) { return eh } else { undefined; undefined; if (!eh[ei.valueField]) { eh[ei.valueField] = [] } else { undefined } undefined; eh[ei.valueField]["push"](ei.valueType); ei.descriptionField = eb(ei.valueField, ei.valueType); return eh } } function ec(ei, ej, eh) { d7 = d8.tag; d8.tag = ""; d5 = d8.block; d8.block = "b-formatter"; d4 = d8.mods; d8.mods = { type: ei }; d3 = d8.elem; d8.elem = undefined; d1 = d8.ctx; d8.ctx = { content: ej, formatter: eh }; d0 = dx.call(d8); d8.tag = d7; d8.block = d5; d8.mods = d4; d8.elem = d3; d8.ctx = d1; ""; return d0 } function ee(eh, el) { var ek; var ej; var ei; var ep; var en; var em; var er; var es; var eq; var eo; eo = d9(eh); eq = eh.graphs["reduce"](d2, {}); eh.data["forEach"](function (et) { Object.keys(et)["forEach"](function (ev) { var ex; var ew; var eu; eu = parseFloat(et[ev], 10); ew = !isNaN(eu); if (ew) { ex = eq[ev] } else { ex = ew } if (ex) { eq[ev]["forEach"](function (ey) { var ez; var eA; eA = eb(ev, ey); ez = ec.apply(this, [ey, eu, eo]); et[eA] = ez }) } else { undefined } }, this) }, this); es = { elem: "data", elemMods: { "group-by": eh.groupBy }, content: [] }; if (eh.hasHistory === "0") { es.content = eh.noHistoryText } else { er = eg(dX); ej = es; ei = "content"; ep = { elem: "chart", dataGroup: eh, events: ea(dZ, "chart", eh.groupBy) }; en = "text"; em = er; if (em) { ek = [{ block: "b-icon", mods: { type: "exclamation" } }, "&nbsp;", er] } else { ek = em } ej[ei] = [ep, { elem: en, content: ek }, { elem: "table-box", dataGroup: eh, events: ea(dZ, "table", eh.groupBy) }] } undefined; return es } function ea(ei, el, en) { var ej; var em; var eh; var ek; var ep; var eo; eo = ei.db; eh = !ei; if (eh) { em = eh } else { em = !ei[el] } if (em) { ej = em } else { ej = !ei[el][eo] } if (ej) { return [] } else { undefined; undefined; ep = ei[el]; ek = ep[eo]; return ek.map(function (eq) { var er; er = ep.list[eq]; return { date: er[en], description: er.description } }) } } function eg(eh) { return eh[eh.db] } dZ = this["_bHistoryCtx"]["allEvents"]; dX = this["_bHistoryCtx"]["allTexts"]; ef = this["_bHistoryCtx"]["dataGroups"]; if (ef) { ed = ef } else { ed = [] } dY = ed; return d6.call(this, null, dY.map(ee, this)) } function ag(dY) { var dX; dX = [{ elem: "query", content: this["ctx"]["query"] }]; if (this["_bHistoryCtx"]["dataGroups"]) { dX.push({ elem: "period-type" }); dX.push({ elem: "results" }) } else { undefined } undefined; return dY.call(this, null, dX) } function aa(dX) { return dX.call(this, null, [{ elem: "sort-title", tag: "span", content: this["ctx"]["title"] }, { block: "b-tooltip", content: this["ctx"]["tooltip"] }]) } function W(d7) { var dY; var ea; var d8; var d6; var d5; var d4; var d3; var d2; var d0; var d1; var dZ; var dX; var ec; var eb; var d9; d0 = "tr"; d1 = { tag: "th", elem: "th", content: { elem: "filter", content: this["ctx"]["filter"] } }; dZ = "th"; dX = "th-number"; ec = [{ elem: "th" }]; eb = "sort-link"; d9 = "cnt"; if (this["ctx"]["sort"] === "cnt") { d2 = "desc" } else { d2 = "" } ea = { tag: dZ, elem: dX, mix: ec, content: { elem: eb, elemMods: { field: d9, sorted: d2 }, title: BEM.I18N("b-regions-statistic", "Displays per month"), tooltip: this["ctx"]["tooltips"]["Displays per month"] } }; d8 = "th"; d6 = "th-number"; d5 = [{ elem: "th" }]; d4 = "sort-link"; d3 = "pp"; if (this["ctx"]["sort"] === "pp") { dY = "desc" } else { dY = "" } return d7.call(this, null, [{ tag: d0, content: [d1, ea, { tag: d8, elem: d6, mix: d5, content: { elem: d4, elemMods: { field: d3, sorted: dY }, title: BEM.I18N("b-regions-statistic", "Regional popularity"), tooltip: this["ctx"]["tooltips"]["Regional popularity"] } }] }, { elem: "data", tag: "tbody" }]) } function B(dX) { return dX.call(this, null, [{ elem: "switchers", content: [{ block: "b-db-switcher", mix: [{ block: "b-regions-statistic", elem: "db-switcher" }] }, { block: "b-form-radio", mix: [{ block: "b-regions-statistic", elem: "view-type-radio" }], mods: { size: "m", theme: "grey" }, content: [{ elem: "button", inputAttrs: { value: "list" }, content: BEM.I18N("b-regions-statistic", "List") }, { elem: "button", inputAttrs: { value: "map" }, content: BEM.I18N("b-regions-statistic", "Map") }] }] }, { elem: "total-info", content: this["ctx"]["total-info"] }, { elem: "list", content: { elem: "table", filter: "all", sort: "cnt", tooltips: this["ctx"]["tooltips"] } }]) } function w(dX) { return dX.call(this, null, { block: "b-form-radio", mods: { size: "m", theme: "grey" }, inputAttrs: { name: "db" }, content: [{ elem: "button", inputAttrs: { value: "" }, content: BEM.I18N("b-db-switcher", "All") }, { elem: "button", inputAttrs: { value: "desktop" }, content: BEM.I18N("b-db-switcher", "Desktop") }, { elem: "button", inputAttrs: { value: "mobile" }, content: BEM.I18N("b-db-switcher", "Mobile") }, { elem: "button", inputAttrs: { value: "phone" }, content: BEM.I18N("b-db-switcher", "Phones only") }, { elem: "button", inputAttrs: { value: "tablet" }, content: BEM.I18N("b-db-switcher", "Tablets only") }] }) } function d(dX) { return dX.call(this, null, { tag: "tr", content: this["ctx"]["content"] }) } function dV(dX) { return dX.call(this, null, { elem: "layout", content: [{ tag: "td", elem: "g", content: { tag: "i", elem: "gap" } }, { tag: "td", elem: "l", content: { tag: "i", elem: "gap" } }, { tag: "td", elem: "gl", content: { tag: "i", elem: "gap" } }, { tag: "td", elem: "c", content: { elem: "content", content: this["ctx"]["content"] } }, { tag: "td", elem: "gr", content: { tag: "i", elem: "gap" } }, { tag: "td", elem: "r" }, { tag: "td", elem: "g", content: { tag: "i", elem: "gap" } }] }) } function dN(d4) { var dZ; var d5; var d3; var d2; var d1; var d0; var dX; var dY; var d6; dY = "b-icon"; d6 = this["ctx"]["icon"]; if (d6) { dX = d6 } else { dX = "question" } d5 = { block: dY, mods: { type: dX }, mix: [{ block: "b-tooltip", elem: "switcher" }] }; d3 = "b-popupa"; d2 = "down"; d1 = "yes"; d0 = this["ctx"]["popupTheme"]; if (d0) { dZ = d0 } else { dZ = "feffd6" } return d4.call(this, null, [d5, { block: d3, mods: { direction: d2, "has-close": d1, theme: dZ }, mix: [{ block: "b-tooltip", elem: "popup" }], content: [{ elem: "tail" }, { elem: "shadow" }, { elem: "content", content: { block: "b-tooltip", elem: "content", content: this["ctx"]["content"] } }] }]) } function dK(dX) { return dX.call(this, null, [{ elem: "radio" }, { elem: "text", content: this["ctx"]["content"] }]) } function dJ(dX) { return dX.call(this, null, [{ elem: "content", content: this["ctx"]["content"] }, { elem: "click", tag: "i" }]) } function dH(dX) { return dX.call(this, null, { elem: "inner", content: this["ctx"]["content"] }) } function dw(dX) { return dX.call(this, null, BEM.I18N("b-pager", "Next")) } function c9(dX) { return dX.call(this, null, BEM.I18N("b-pager", "Previous")) } function c4(dX) { return dX.call(this, null, [{ elem: "arr", tag: "i", content: this["ctx"]["content"] }]) } function c1(dX) { if (!(this.mods && this.mods.type === "custom") === false) { if (!!this.elem === false) { return cO.call(this, dX) } else { return cK.call(this, dX) } } else { return cK.call(this, dX) } } function cO(dZ) { var d0; var d4; var d2; var dY; var d3; var d1; var dX; dX = []; this["ctx"]["currentPage"] = parseInt(this["ctx"]["currentPage"]); if (!this["ctx"]["currentPage"]) { this["ctx"]["currentPage"] = 1 } else { undefined } undefined; this["ctx"]["hasNextPage"] = this["ctx"]["hasNextPage"] == "yes"; dX.push({ elem: "title", tag: "b", content: BEM.I18N("b-pager", "Pages") }); d3 = dX; d1 = "push"; if (this["ctx"]["currentPage"] == 1) { dY = "inactive" } else { dY = "active" } d3[d1]({ elem: dY, tag: "span", content: [{ elem: "key", content: "←" }, " ", { elem: "prev", currentPage: this["ctx"]["currentPage"] }] }); dX.push({ elem: "current", tag: "b", content: this["ctx"]["currentPage"] }); dX.push("&nbsp;"); d4 = dX; d2 = "push"; if (!this["ctx"]["hasNextPage"]) { d0 = "inactive" } else { d0 = "active" } d4[d2]({ elem: d0, tag: "span", content: [{ elem: "next", hasNextPage: this["ctx"]["hasNextPage"] }, " ", { elem: "key", content: "→" }] }); return dZ.call(this, null, dX) } function cK(dY) { var dX = this.elem; if (dX === "sorted") { return cJ.call(this, dY) } else { if (dX === "page") { return cG.call(this, dY) } else { if (dX === "pages") { return co.call(this, dY) } else { if (dX === "key") { return cm.call(this, dY) } else { if (dX === "button-next") { return cl.call(this, dY) } else { if (dX === "button-prev") { return cj.call(this, dY) } else { return bs.call(this, dY) } } } } } } } function cJ(dY) { var dX, dZ; dX = [this["ctx"]["text"] + " "]; dZ = this; this["ctx"]["items"]["forEach"](function (d1) { var d0; d0 = { elem: "select", tag: "b", content: d1.text }; if (!d1.selected) { d0.elem = "link"; d0.tag = "a"; d0.attrs = { href: dZ._getUrl(0, { param: dZ.ctx["name"], value: d1.name }) } } else { undefined } undefined; dX.push(d0); dX.push(" ") }); return dY.call(this, null, dX) } function cG(dY) { var dX; var dZ; dZ = this["ctx"]["content"]; if (dZ) { dX = dZ } else { dX = "&hellip;" } return dY.call(this, null, dX) } function co(d4) { var eh; var eq; var ed; var ej; var em; var ep; var d9; var d3; var en; var dX; var d7; var d6; var dY; var er; var ee; var dZ; var d5; var eb; var ea; var ef; var ec; var d2; var ei, eg, d1, d0, eo, d8, ek; ei = this["_getUrl"]; eg = this["ctx"]; d2 = +eg.pagerRadius; if (d2) { ec = d2 } else { ec = 7 } d1 = ec; d0 = Math.max(1, this["_current"] - d1); eo = Math.min(this["_pages"], this["_current"] + d1); d8 = []; function el(et, es) { return [{ elem: "page", url: ei(et), content: es }, " "] } ef = d0 > 1; if (ef) { eb = d8; ea = "push"; if (eg.showFirst) { d5 = el(1, "1") } else { d5 = el(d0 - 1) } dZ = eb[ea](d5) } else { dZ = ef } ee = d0 > 2; if (ee) { er = eg.showFirst } else { er = ee } if (er) { dY = d8.push(el(2)) } else { dY = er } ek = d0; while (true) { if (!(ek <= eo)) { break } else { d7 = d8; d6 = "push"; if (ek == this["_current"]) { dX = [{ elem: "current", content: ek }, " "] } else { dX = el(ek, ek) } d7[d6](dX); ek++ } } undefined; en = eo < this["_pages"]; if (en) { d3 = !eg.showLast } else { d3 = en } if (d3) { em = d3 } else { d9 = eo < this["_pages"] - 1; if (d9) { ep = eg.showLast } else { ep = d9 } em = ep } if (em) { ej = d8.push(el(eo + 1)) } else { ej = em } ed = eo < this["_pages"]; if (ed) { eq = eg.showLast } else { eq = ed } if (eq) { eh = d8.push(el(this["_pages"], this["_pages"])) } else { eh = eq } return d4.call(this, null, d8) } function cm(dY) { var dZ; var dX; dX = { elem: "arr", content: "&" + this["ctx"]["dir"] + "arr;" }; if (this["ctx"]["dir"] == "l") { dZ = [dX, "&nbsp;Ctrl"] } else { dZ = ["Ctrl&nbsp;", dX] } return dY.call(this, null, dZ) } function cl(d0) { var d1; var dX; var dY; var dZ; if (this["_nextUrl"]) { dY = { elem: "next", url: this["_nextUrl"], content: this["ctx"]["content"] } } else { dY = this["ctx"]["content"] } dZ = [dY]; dX = this["_keydownReaction"]; if (dX) { d1 = dZ.push("&nbsp;", { elem: "key", dir: "r" }) } else { d1 = dX } return d0.call(this, null, dZ) } function cj(d0) { var d1; var dX; var dY; var dZ; if (this["_prevUrl"]) { dY = { elem: "prev", url: this["_prevUrl"], content: this["ctx"]["content"] } } else { dY = this["ctx"]["content"] } dZ = [dY]; dX = this["_keydownReaction"]; if (dX) { d1 = dZ.unshift({ elem: "key", dir: "l" }, "&nbsp;") } else { d1 = dX } return d0.call(this, null, dZ) } function ds(dZ) { var dY, dX; dY = { block: "b-link", mix: [{ block: "b-phrase-link", elem: "link" }], content: this["ctx"]["content"] }; dX = "/#!/?"; if (this["ctx"]["regions"]) { dX += "regions=" + encodeURIComponent(this["ctx"]["regions"]) + "&" } else { undefined } undefined; dX += "words=" + encodeURIComponent(this["ctx"]["content"]); dY.url = dX; return dZ.call(this, null, dY) } function dn(dX) { return dX.call(this, null, { elem: "tick" }) } function di(d1) { var d0; var dZ; var dY; var dX; var d2; dZ = "inner"; dY = "span"; dX = "checkbox"; d2 = this["ctx"]["checkboxAttrs"]; if (d2) { d0 = d2 } else { d0 = {} } return d1.call(this, null, [{ elem: dZ, tag: dY, content: [{ elem: dX, attrs: d0 }, { elem: "bg" }] }, this["ctx"]["content"]]) } function cZ(dX) { return dX.call(this, null, [{ tag: "input", attrs: { name: "login" } }, { tag: "input", attrs: { name: "passwd", type: "passport" } }, { tag: "input", attrs: { name: "twoweeks", type: "checkbox", value: "no" } }]) } function cE(dX) { return dX.call(this, null, this["ctx"]["content"]) } function cA(dX) { return dX.call(this, null, [{ elem: "left" }, { elem: "content", tag: "span", content: { elem: "text", content: this["ctx"]["content"] } }, { elem: "click" }, this["_input"]]) } function cg(dY) { var d2; function d1(d4, d3) { if (d4) { return dY.call(this, d4, d3) } else { d2 = d3 } this["_mode"] = d0; this["ctx"] = dZ; ""; undefined; undefined; undefined; return dY.call(this, null) } var dZ; var d0; var dX; dX = this; ""; d0 = this["_mode"]; this["_mode"] = ""; dZ = this["ctx"]; this["ctx"] = { elem: "inner", content: this["ctx"]["content"], _wrap: true }; return dx.call(dX, d1) } function bU(dX) { return dX.call(this, null, { elem: "body", content: this["ctx"]["content"] }) } function bP(dX) { return dX.call(this, null, { block: "b-icon", mix: [{ block: "b-spin", elem: "icon" }] }) } function bD(dX) { return dX.call(this, null, { tag: "tr", content: { elem: "wrap-cell", content: this["ctx"]["content"] } }) } function bz(dY) { var dX; var dZ; dZ = this["_"]["isArray"](this["ctx"]["content"]); if (dZ) { dX = dZ } else { dX = this["ctx"]["content"] = [this["ctx"]["content"]] } this["ctx"]["content"]["push"]({ elem: "close" }); return dY.call(this, null, this["ctx"]["content"]) } function bg(d0) { var d3; function d1(d5, d4) { if (d5) { return d0.call(this, d5, d4) } else { d3 = d4 } dX = d3; this["__$anflg886873852"] = dY; ""; d2 = dX; d2 += [";(function(d,e,c,r,n,w,v,f){", "e=d.documentElement;", 'c="className";', 'r="replace";', 'n="createElementNS";', 'f="firstChild";', 'w="http://www.w3.org/2000/svg";', 'e[c]+=" i-ua_svg_"+(!!d[n]&&!!d[n](w,"svg").createSVGRect?"yes":"no");', 'v=d.createElement("div");', 'v.innerHTML="<svg/>";', 'e[c]+=" i-ua_inlinesvg_"+((v[f]&&v[f].namespaceURI)==w?"yes":"no");', "})(document);"]["join"](""); return d0.call(this, null, d2) } var d2; var dY, dX; var dZ; dZ = this; ""; dY = this["__$anflg886873852"]; this["__$anflg886873852"] = true; return dx.call(dZ, d1) } function bc(dX) { if (!!this.elem === false) { return aN.call(this, dX) } else { return bs.call(this, dX) } } function aN(dX) { return dX.call(this, null, [";(function(d,e,c,r){", "e=d.documentElement;", 'c="className";', 'r="replace";', 'e[c]=e[c][r]("i-ua_js_no","i-ua_js_yes");', 'if(d.compatMode!="CSS1Compat")', 'e[c]=e[c][r]("i-ua_css_standart","i-ua_css_quirks")', "})(document);"]["join"]("")) } function al(dX) { return dX.call(this, null, "") } function ae(dX) { return dX.call(this, null, "") } function ab(dX) { return dX.call(this, null, "tbody") } function F(dX) { return dX.call(this, null, "thead") } function D(dX) { return dX.call(this, null, "") } function z(dX) { return dX.call(this, null, "") } function bd(dX) { return dX.call(this, null, "span") } function a8(dX) { return dX.call(this, null, "table") } function a5(dX) { return dX.call(this, null, "span") } function aC(dX) { return dX.call(this, null, "table") } function ax(dX) { return dX.call(this, null, "span") } function X(dX) { return dX.call(this, null, "span") } function U(dX) { return dX.call(this, null, "span") } function T(dX) { return dX.call(this, null, "input") } function Q(dX) { return dX.call(this, null, "span") } function v(dX) { return dX.call(this, null, "span") } function u(dX) { return dX.call(this, null, "label") } function r(dY) { var dX; if (!this["ctx"]["hasNextPage"]) { dX = "span" } else { dX = "a" } return dY.call(this, null, dX) } function dU(dY) { var dX; if (this["ctx"]["currentPage"] == 1) { dX = "span" } else { dX = "a" } return dY.call(this, null, dX) } function dS(dX) { return dX.call(this, null, "i") } function dI(dX) { return dX.call(this, null, "i") } function dG(dX) { return dX.call(this, null, "p") } function dF(dX) { return dX.call(this, null, "b") } function dE(dX) { return dX.call(this, null, "a") } function dC(dX) { return dX.call(this, null, "i") } function dv(dY) { if (!(this.elem == "prev" || this.elem == "next") === false) { return dt.call(this, dY) } else { var dX = this.elem; if (dX === "button-next") { return dq.call(this, dY) } else { if (dX === "button-prev") { return dp.call(this, dY) } else { if (dX === "title") { return dk.call(this, dY) } else { return bs.call(this, dY) } } } } } function dt(dX) { return dX.call(this, null, "a") } function dq(dX) { return dX.call(this, null, "span") } function dp(dX) { return dX.call(this, null, "span") } function dk(dX) { return dX.call(this, null, "b") } function c0(dX) { return dX.call(this, null, "span") } function cY(dX) { return dX.call(this, null, "img") } function cH(dX) { return dX.call(this, null, "i") } function cF(dX) { return dX.call(this, null, "input") } function cB(dX) { return dX.call(this, null, "label") } function cz(dX) { return dX.call(this, null, "span") } function ch(dX) { return dX.call(this, null, "input") } function ce(dX) { return dX.call(this, null, "i") } function cb(dX) { return dX.call(this, null, "") } function dl(dX) { return dX.call(this, null, "span") } function dj(dX) { return dX.call(this, null, "i") } function dg(dX) { return dX.call(this, null, "a") } function cW(dX) { if (!!this.elem === false) { return cV.call(this, dX) } else { return bs.call(this, dX) } } function cV(dX) { return dX.call(this, null, "span") } function cT(dX) { return dX.call(this, null, "span") } function cx(dY) { var dX; if (this["ctx"]["url"]) { dX = "a" } else { dX = "span" } return dY.call(this, null, dX) } function cw(dX) { if (!!this.elem === false) { return cu.call(this, dX) } else { return bs.call(this, dX) } } function cu(dX) { return dX.call(this, null, "a") } function b8(dX) { return dX.call(this, null, "span") } function b5(dX) { return dX.call(this, null, "i") } function bR(dX) { return dX.call(this, null, "td") } function bQ(dX) { return dX.call(this, null, "table") } function bO(dX) { return dX.call(this, null, "i") } function bM(dX) { return dX.call(this, null, "i") } function bx(dX) { return dX.call(this, null, "form") } function bw(dX) { return dX.call(this, null, "label") } function bv(dX) { return dX.call(this, null, "input") } function ba(dX) { return dX.call(this, null, "span") } function a6(dX) { return dX.call(this, null, "script") } function aF(dX) { return dX.call(this, null, "link") } function aD(dX) { return dX.call(this, null, "style") } function aA(dX) { return dX.call(this, null, "") } function az(dX) { return dX.call(this, null, "link") } function ay(dX) { return dX.call(this, null, "meta") } function ad(dX) { return dX.call(this, null, "head") } function Z(dX) { return dX.call(this, null, "html") } function V(dX) { return dX.call(this, null, "body") } function x(dX) { return dX.call(this, null, "img") } function t(dX) { return dX.call(this, null, "script") } function a3(dY) { var d2; function d1(d4, d3) { if (d4) { return dY.call(this, d4, d3) } else { d2 = d3 } dZ = d2; this["__$anflg588745202"] = d0; ""; return dY.call(this, null, dZ) } var d0, dZ; var dX; dX = this; this["_bHistoryCtx"] = this["ctx"]; ""; d0 = this["__$anflg588745202"]; this["__$anflg588745202"] = true; return dx.call(dX, d1) } function aw(d1) { var dZ; var ec; var ea; var d8; var d0; var d7; var d6; var d4; var dY; var ed; var eb; var d9; var d5; var d3; var el; var ek; var dX; function ef(en, em) { if (en) { return d1.call(this, en, em) } else { dX = em } eg = dX; this["ctx"] = ei; this["_mode"] = eh; ""; ee = eg; this["__$anflg320105222"] = ej; ""; return d1.call(this, null, ee) } var ej, ee, ei, eh, eg; var d2; d2 = this; ""; ej = this["__$anflg320105222"]; this["__$anflg320105222"] = true; ""; ei = this["ctx"]; ed = this; eb = "ctx"; d9 = "b-form-radio"; d5 = [{ block: "b-regions-statistic", elem: "filter" }]; d3 = { size: "m", theme: "grey" }; el = "button"; ek = "all"; if (this["ctx"]["content"] === "all") { dY = "yes" } else { dY = "" } d7 = { elem: el, elemMods: { type: ek, checked: dY }, inputAttrs: { value: "all" }, content: BEM.I18N("b-regions-statistic", "All") }; d6 = "button"; d4 = "regions"; if (this["ctx"]["content"] === "regions") { d0 = "yes" } else { d0 = "" } ec = { elem: d6, elemMods: { type: d4, checked: d0 }, inputAttrs: { value: "regions" }, content: BEM.I18N("b-regions-statistic", "Regions") }; ea = "button"; d8 = "cities"; if (this["ctx"]["content"] === "cities") { dZ = "yes" } else { dZ = "" } ed[eb] = { block: d9, mix: d5, mods: d3, content: [d7, ec, { elem: ea, elemMods: { type: d8, checked: dZ }, inputAttrs: { value: "cities" }, content: BEM.I18N("b-regions-statistic", "Cities") }] }; eh = this["_mode"]; this["_mode"] = ""; return dx.call(d2, ef) } function S(d4) { var d2; var dZ; var dY; var d6; var d5; function dX(d8, d7) { if (d8) { return d4.call(this, d8, d7) } else { d5 = d7 } this["_inputAttrs"] = d1; this["_nextForChecked"] = d0; ""; undefined; undefined; undefined; return d4.call(this, null) } var d0; var d1; var d3; d3 = this; ""; d1 = this["_inputAttrs"]; dZ = this; dY = "_inputAttrs"; d6 = this["ctx"]["inputAttrs"]; if (d6) { d2 = d6 } else { d2 = {} } dZ[dY] = d2; d0 = this["_nextForChecked"]; this["_nextForChecked"] = false; return dx.call(d3, dX) } function P(dX) { if (this.elem === "button") { if (!!this._inputId === false) { return N.call(this, dX) } else { return bs.call(this, dX) } } else { return bs.call(this, dX) } } function N(d0) { var ed; var dZ; var dY; var d9; var dX; var ef; var ec; var ea; var d1; function eb(ei, eh) { if (ei) { return d0.call(this, ei, eh) } else { d1 = eh } this["_inputAttrs"] = d8; this["_inputId"] = d7; d6.id = d5; d4.checked = d3; eg.disabled = ee; ""; undefined; return d0.call(this, null) } var eg, ee; var d4, d3; var d6, d5; var d7; var d8; var d2; d2 = this; ""; d8 = this["_inputAttrs"]; this["_inputAttrs"] = this["_"]["extend"](this["_inputAttrs"], this["ctx"]["inputAttrs"]); d7 = this["_inputId"]; ef = this; ec = "_inputId"; ea = this["_inputAttrs"]["id"]; if (ea) { dX = ea } else { dX = this["generateId"]() } ef[ec] = dX; d6 = this["_inputAttrs"]; d5 = d6.id; d6.id = this["_inputId"]; d4 = this["_inputAttrs"]; d3 = d4.checked; dZ = d4; dY = "checked"; d9 = this["elemMods"]["checked"]; if (d9) { this["_nextForChecked"] = true; ed = this["elemMods"]["checked"] } else { ed = d9 } dZ[dY] = ed; eg = this["_inputAttrs"]; ee = eg.disabled; eg.disabled = this["elemMods"]["disabled"]; return dx.call(d2, eb) } function q(dZ) { var d1; function d0(d3, d2) { if (d3) { return dZ.call(this, d3, d2) } else { d1 = d2 } this["_current"] = dX; ""; undefined; return dZ.call(this, null) } var dX; var dY; dY = this; ""; dX = this["_current"]; this["_current"] = true; return dx.call(dY, d0) } function dT(dX) { if (!!this._current === false) { if (!!this.elem === false) { return dR.call(this, dX) } else { return bs.call(this, dX) } } else { return bs.call(this, dX) } } function dR(ek) { var ev; var d9; var d8; var eg; var eI; var eH; var eu; var eb; var eK; var eJ; var ea; var eE; var eC; var en; var eM; var eD; var dY; var em; var eA; var ez; var ey; var ew; var eP; var eN; var eL; var ej; var eq; var ep; var d3; var et; var eG; var d1; var es; var eF; var dZ; var d6; var d7; function d0(eS, eR) { if (eS) { return ek.call(this, eS, eR) } else { d7 = eR } this["_mode"] = el; this["_current"] = ei; this["_pages"] = eh; this["_keydownReaction"] = ef; this["_getUrl"] = ee; this["_prevUrl"] = ed; this["_nextUrl"] = ec; dX.js = eQ; this["ctx"] = eO; ""; undefined; undefined; undefined; return ek.call(this, null) } var eO; var dX, eQ; var ec; var ed; var ee; var ef; var eh; var ei; var el; var eo, d2, er, d5, ex, eB; var d4; d4 = this; eo = this["ctx"]; d6 = eo.pageUrl; if (d6) { dZ = d6 } else { dZ = "" } d2 = dZ; eF = eo.startFrom; if (eF) { es = eF } else { es = 0 } er = es; if (eo.anchor) { d1 = "#" + eo.anchor } else { d1 = "" } d5 = d1; eG = eo.pageParam; if (eG) { et = eG } else { et = "p" } ex = et; eB = "sorted"; if (d2.indexOf("?") + 1) { d3 = "&" } else { d3 = "?" } d2 += d3; ""; el = this["_mode"]; this["_mode"] = ""; ei = this["_current"]; eq = this; ep = "_current"; if (eo.currentPage) { ej = +eo.currentPage + (1 - er) } else { ej = 1 } eq[ep] = ej; eh = this["_pages"]; eP = this; eN = "_pages"; eL = eo.totalPages; if (eL) { dY = eL } else { eA = Math; ez = "ceil"; ey = eo.totalCount; ew = eo.perpageCount; if (ew) { em = ew } else { em = 20 } dY = eA[ez](ey / em) } eP[eN] = dY; ef = this["_keydownReaction"]; eM = this; eD = "_keydownReaction"; if (eo.keydownReaction === undefined) { en = true } else { en = eo.keydownReaction } eM[eD] = en; ee = this["_getUrl"]; this["_getUrl"] = function (eX, eV) { var eS; var eW; var eU; var eT; var eY; var e1; var e0, eZ, eR; e0 = [d2]; eZ = 1 - er; eR = eX - eZ; if (eR > 0) { e0.push(ex + "=" + eR) } else { undefined } undefined; e1 = eV; if (e1) { eY = eV.value } else { eY = e1 } if (eY) { eW = e0; eU = "push"; eT = eV.param; if (eT) { eS = eT } else { eS = eB } eW[eU](eS + "=" + eV.value) } else { undefined } undefined; return e0.join("") }; ed = this["_prevUrl"]; eE = this; eC = "_prevUrl"; if (this["_current"] > 1) { ea = this["_getUrl"](this["_current"] - 1) } else { ea = "" } eE[eC] = ea; ec = this["_nextUrl"]; eK = this; eJ = "_nextUrl"; if (this["_current"] < this["_pages"]) { eb = this["_getUrl"](this["_current"] + 1) } else { eb = "" } eK[eJ] = eb; dX = this["ctx"]; eQ = dX.js; eI = dX; eH = "js"; eu = eo.js; if (eu) { eg = eu } else { eg = { keydownReaction: this["_keydownReaction"] } } eI[eH] = eg; eO = this["ctx"]; d9 = this; d8 = "ctx"; if (this["_pages"] > 1) { ev = eo } else { ev = "" } d9[d8] = ev; return dx.call(d4, d0) } function dD(d7) { var d2; var dZ; var dY; var d9; var d8; var d6; var d3; var d5; function dX(eb, ea) { if (eb) { return d7.call(this, eb, ea) } else { d5 = ea } d0 = d5; this["_checkboxAttrs"] = d1; ""; return d7.call(this, null, d0) } var d1, d0; var d4; d4 = this; ""; d1 = this["_checkboxAttrs"]; dZ = this; dY = "_checkboxAttrs"; d9 = this["_"]; d8 = "extend"; d6 = { id: "id" + Math.random() }; d3 = this["ctx"]["checkboxAttrs"]; if (d3) { d2 = d3 } else { d2 = {} } dZ[dY] = d9[d8](d6, d2); return dx.call(d4, dX) } function dm(d1) { var d3; function d2(d5, d4) { if (d5) { return d1.call(this, d5, d4) } else { d3 = d4 } dY.login = dX; ""; this["__$anflg722598153"] = dZ; ""; undefined; undefined; undefined; undefined; return d1.call(this, null) } var dY, dX; var dZ; var d0; d0 = this; ""; dZ = this["__$anflg722598153"]; this["__$anflg722598153"] = true; ""; dY = this["i-global"]; dX = dY.login; dY.login = false; return dx.call(d0, d2) } function dh(dX) { if (!(this.mods && this.mods.type === "popup") === false) { if (!this["i-global"].login === false) { if (!!this.elem === false) { return cX.call(this, dX) } else { return bs.call(this, dX) } } else { return bs.call(this, dX) } } else { return bs.call(this, dX) } } function cX(dX) { return dX.call(this, null, false) } function cy(d5) { var dX; var d3; var d2; var d6; function dY(d8, d7) { if (d8) { return d5.call(this, d8, d7) } else { d6 = d7 } d1._inputClick = d0; this["_input"] = dZ; ""; undefined; undefined; undefined; return d5.call(this, null) } var dZ; var d1, d0; var d4; d4 = this; ""; d1 = this["ctx"]; d0 = d1._inputClick; d1._inputClick = true; dZ = this["_input"]; d3 = this; d2 = "_input"; if (this["ctx"]["type"]) { dX = { elem: "input", type: this["ctx"]["type"], tabindex: this["ctx"]["tabindex"], disabled: this["mods"]["disabled"], typeMod: this["mods"]["type"], name: this["ctx"]["name"], value: this["ctx"]["value"] } } else { dX = "" } d3[d2] = dX; return dx.call(d4, dY) } function cd(d2) { var d0; var dZ; var dX; var d6; var d3; function dY(eb, ea) { if (eb) { return d2.call(this, eb, ea) } else { d3 = ea } this["_mode"] = d9; d8._init = d7; this["_inBDropdowna"] = d5; this["_dropdownaColor"] = d4; ""; undefined; undefined; undefined; return d2.call(this, null) } var d4; var d5; var d8, d7; var d9; var d1; d1 = this; ""; d9 = this["_mode"]; this["_mode"] = ""; d8 = this["ctx"]; d7 = d8._init; d8._init = true; d5 = this["_inBDropdowna"]; this["_inBDropdowna"] = true; d4 = this["_dropdownaColor"]; dZ = this; dX = "_dropdownaColor"; d6 = this["mods"]["color"]; if (d6) { d0 = d6 } else { d0 = false } dZ[dX] = d0; return dx.call(d1, dY) } function b7(dZ) { var d4; function d3(d6, d5) { if (d6) { return dZ.call(this, d6, d5) } else { d4 = d5 } this["_mode"] = d2; d1._wrap = d0; this["ctx"] = dY; ""; undefined; undefined; undefined; return dZ.call(this, null) } var dY; var d1, d0; var d2; var dX; dX = this; ""; d2 = this["_mode"]; this["_mode"] = ""; d1 = this["ctx"]; d0 = d1._wrap; d1._wrap = true; dY = this["ctx"]; this["ctx"] = { elem: "hint-wrap", tag: "span", content: this["ctx"] }; return dx.call(dX, d3) } function de(d1) { var d4; function d2(d6, d5) { if (d6) { return d1.call(this, d6, d5) } else { d4 = d5 } this["_mode"] = dZ; dY._wrap = dX; this["ctx"] = d3; ""; undefined; undefined; undefined; return d1.call(this, null) } var d3; var dY, dX; var dZ; var d0; d0 = this; ""; dZ = this["_mode"]; this["_mode"] = ""; dY = this["ctx"]; dX = dY._wrap; dY._wrap = true; d3 = this["ctx"]; this["ctx"] = { elem: "box", tag: "span", content: [this["ctx"], this["ctx"]["clear"]] }; return dx.call(d0, d2) } function dc(dX) { if (!!this._inputId === false) { if (!!this.elem === false) { return c8.call(this, dX) } else { return bs.call(this, dX) } } else { return bs.call(this, dX) } } function c8(d3) { var ec; var d9; var d8; var ef; var dY; var ee; var ed; var d6; var d7; var d4; var d2; var dX; var dZ; function eb(eh, eg) { if (eh) { return d3.call(this, eh, eg) } else { dZ = eg } this["_inputId"] = ea; this["_name"] = d1; this["_value"] = d0; ""; undefined; undefined; undefined; return d3.call(this, null) } var d0; var d1; var ea; var d5; d5 = this; ""; ea = this["_inputId"]; d4 = this; d2 = "_inputId"; dX = this["ctx"]["id"]; if (dX) { d7 = dX } else { d7 = this["generateId"]() } d4[d2] = d7; d1 = this["_name"]; ee = this; ed = "_name"; d6 = this["ctx"]["name"]; if (d6) { dY = d6 } else { dY = "" } ee[ed] = dY; d0 = this["_value"]; d9 = this; d8 = "_value"; ef = this["ctx"]["value"]; if (ef) { ec = ef } else { ec = "" } d9[d8] = ec; return dx.call(d5, eb) } function cP(d2) { var dX; var d4; var dY; function d8(eg, ef) { if (eg) { return d2.call(this, eg, ef) } else { dY = ef } this["_mode"] = eb; d9._ieCommented = d7; this["ctx"] = d6; ""; undefined; undefined; undefined; return ea.call(this) } var dZ; function ea(eg, ef) { if (eg) { return d2.call(this, eg, ef) } else { dZ = ef } return d2.call(this, null) } var d0; function ec(eg, ef) { if (eg) { return d2.call(this, eg, ef) } else { d0 = ef } this["_mode"] = ee; this["ctx"] = ed; ""; undefined; undefined; undefined; return ea.call(this) } var d6; var d9, d7; var eb; var d1; var ed; var ee; var d5; var d3; d3 = this; d5 = this["ctx"]["ie"]; if (d5 === true) { ""; ee = this["_mode"]; this["_mode"] = ""; ed = this["ctx"]; this["ctx"] = [6, 7, 8, 9]["map"](function (ef) { return { elem: "css", url: this["ctx"]["url"] + ".ie" + ef + ".css", ie: "IE " + ef } }, this); return dx.call(d3, ec) } else { if (!d5) { dX = ["gt IE 9", "<!-->", "<!--"] } else { if (d5 === "!IE") { d4 = [d5, "<!-->", "<!--"] } else { d4 = [d5, "", ""] } dX = d4 } d1 = dX; ""; eb = this["_mode"]; this["_mode"] = ""; d9 = this["ctx"]; d7 = d9._ieCommented; d9._ieCommented = true; d6 = this["ctx"]; this["ctx"] = ["<!--[if " + d1[0] + "]>", d1[1], this["ctx"], d1[2], "<![endif]-->"]; return dx.call(d3, d8) } } function cs(dX) { if (!!this.ctx._wrapped === false) { if (!!this.elem === false) { return cq.call(this, dX) } else { return bs.call(this, dX) } } else { return bs.call(this, dX) } } function cq(dZ) { var eg; var ef; var ee; var ed; var ea; var dY; var dX; var d2; function d0(ek, ej) { var ei; function eh(em, el) { if (em) { return dZ.call(this, em, el) } else { ei = el } this["_mode"] = d6; d5._wrapped = d4; this["ctx"] = d3; ""; undefined; undefined; undefined; return dZ.call(this, null) } if (ek) { return dZ.call(this, ek, ej) } else { d2 = ej } d7 = d2; this["_mode"] = d8; ""; ec = d7; ef = ec; ee = "root"; ed = "head"; ea = { tag: "meta", attrs: { charset: "utf-8" } }; dY = { tag: "meta", attrs: { "http-equiv": "X-UA-Compatible", content: "IE=EmulateIE7, IE=edge" } }; dX = { tag: "title", content: d9.title }; if (d9.favicon) { eg = { elem: "favicon", url: d9.favicon } } else { eg = "" } eb = [ef, { elem: ee, content: [{ elem: ed, content: [ea, dY, dX, eg, d9.meta, { block: "i-ua" }, d9.head] }, d9] }]; ""; d6 = this["_mode"]; this["_mode"] = ""; d5 = this["ctx"]; d4 = d5._wrapped; d5._wrapped = true; d3 = this["ctx"]; this["ctx"] = eb; return dx.call(d1, eh) } var d3; var d5, d4; var d6; var d9, ec, eb; var d8, d7; var d1; d1 = this; d9 = this["ctx"]; ""; d8 = this["_mode"]; this["_mode"] = "doctype"; return dx.call(d1, d0) } function b4(d2) { var d4; function d3(d6, d5) { if (d6) { return d2.call(this, d6, d5) } else { d4 = d5 } this["_mode"] = d0; dZ._wrap = dY; this["ctx"] = dX; ""; undefined; undefined; undefined; return d2.call(this, null) } var dX; var dZ, dY; var d0; var d1; d1 = this; ""; d0 = this["_mode"]; this["_mode"] = ""; dZ = this["ctx"]; dY = dZ._wrap; dZ._wrap = true; dX = this["ctx"]; this["ctx"] = [{ elem: "shadow" }, { elem: "wrap", content: this["ctx"] }]; return dx.call(d1, d3) } function bN(d4) { var ee; var ed; var dY; var d5; var eb; var ef; var d7; function d0(ej, ei) { if (ej) { return d4.call(this, ej, ei) } else { d7 = ei } undefined; this["_buf"]["push"](BEM.I18N(eg, eh, ec)); return d4.call(this, null) } var d8; function d2(ej, ei) { if (ej) { return d4.call(this, ej, ei) } else { d8 = ei } dX = d8; this["_buf"] = d3; this["_mode"] = d1; this["ctx"] = dZ; ""; dX; ee[ed] = ea.join(""); return d0.call(this) } var ea; var d9, eg, eh, ec; var d3, d1, dZ, dX; var d6; d6 = this; if (!this["ctx"]) { return d4.call(this, null, "") } else { undefined; undefined; d9 = this["ctx"]; eg = d9.keyset; eh = d9.key; ef = d9.params; if (ef) { eb = ef } else { eb = {} } ec = eb; d5 = eg; if (d5) { dY = d5 } else { dY = eh } if (!dY) { return d4.call(this, null, "") } else { undefined; undefined; if (d9.content) { ee = ec; ed = "content"; ea = []; ""; d3 = this["_buf"]; this["_buf"] = ea; d1 = this["_mode"]; this["_mode"] = ""; dZ = this["ctx"]; this["ctx"] = d9.content; return dx.call(d6, d2) } else { undefined; return d0.call(this) } } } } function bL(dZ) { var d3; function d1(d5, d4) { if (d5) { return dZ.call(this, d5, d4) } else { d3 = d4 } d0 = d3; this["_mode"] = dX; this["ctx"] = d2; ""; return dZ.call(this, null, d0) } var dX, d2, d0; var dY; dY = this; ""; dX = this["_mode"]; this["_mode"] = ""; d2 = this["ctx"]; this["ctx"] = { block: "b-page", elem: "js", url: "//yandex.st/jquery/1.7.2/jquery.min.js" }; return dx.call(dY, d1) } function bt(dX) { return dX.call(this, null, true) } function br(dX) { return dX.call(this, null, true) } function a4(dX) { return dX.call(this, null, true) } function aZ(dX) { return dX.call(this, null, true) } function av(dX) { return dX.call(this, null, { data: this["ctx"]["data"], decimalSeparator: this["ctx"]["decimalSeparator"], events: this["ctx"]["events"], fractionalSeparator: this["ctx"]["fractionalSeparator"], graphs: this["ctx"]["graphs"], minPeriod: this["ctx"]["minPeriod"], name: this["ctx"]["name"], thousandsSeparator: this["ctx"]["thousandsSeparator"] }) } function au(dX) { return dX.call(this, null, true) } function R(dX) { return dX.call(this, null, true) } function O(dX) { return dX.call(this, null, true) } function s(dX) { return dX.call(this, null, true) } function p(dX) { return dX.call(this, null, true) } function aW(dX) { return dX.call(this, null, true) } function at(dX) { return dX.call(this, null, true) } function ap(dX) { return dX.call(this, null, true) } function M(dY) { var dX; if (this["mods"]["popup"] == "gradient") { dX = { popupMods: { gradient: "yes" } } } else { dX = true } return dY.call(this, null, dX) } function J(dX) { return dX.call(this, null, true) } function n(dX) { return dX.call(this, null, true) } function i(dX) { return dX.call(this, null, "table") } function dP(dX) { return dX.call(this, null, { id: this["ctx"]["js"]["name"] }) } function dB(dX) { return dX.call(this, null, { id: this["ctx"]["name"] }) } function dA(dZ) { var d0; var dY; var dX; dX = this["_inputAttrs"]; if (!dX.disabled) { delete dX.disabled } else { dX.disabled = "disabled" } undefined; if (!dX.checked) { delete dX.checked } else { dX.checked = "checked" } undefined; dX.type = "radio"; dY = typeof dX.value === "undefined"; if (dY) { d0 = delete dX.value } else { d0 = dY } return dZ.call(this, null, dX) } function dz(dX) { return dX.call(this, null, { "for": this["_inputId"] }) } function df(dY) { var dX; if (!this["ctx"]["hasNextPage"]) { dX = {} } else { dX = { href: "#next_page" } } return dY.call(this, null, dX) } function db(dY) { var dX; if (this["ctx"]["currentPage"] == 1) { dX = {} } else { dX = { href: "#prev_page" } } return dY.call(this, null, dX) } function cU(dX) { return dX.call(this, null, { href: this["ctx"]["url"] }) } function cS(dX) { if (!(this.elem == "prev" || this.elem == "next") === false) { return cR.call(this, dX) } else { return bs.call(this, dX) } } function cR(dX) { return dX.call(this, null, { href: this["ctx"]["url"] }) } function cv(dZ) { var dY; var dX; dX = "//yandex.st/lego/_/La6qi18Z8LwgnZdsAr1qy1GwCwo.gif"; if (this["mods"]["checked"]) { dY = " v" } else { dY = "" } return dZ.call(this, null, { src: dX, alt: dY, title: "" }) } function ct(d2) { var d0; var dZ; var d3; var d1; var dX; var dY; if (this["ctx"]["attrs"]) { dX = this["ctx"]["attrs"] } else { dX = {} } dY = dX; dY.id = this["_checkboxAttrs"]["id"]; dY.type = "checkbox"; d1 = this["mods"]["disabled"]; if (d1) { d3 = dY.disabled = "disabled" } else { d3 = d1 } dZ = this["mods"]["checked"]; if (dZ) { d0 = dY.checked = "checked" } else { d0 = dZ } return d2.call(this, null, dY) } function cr(dZ) { var dX; var dY; if (this["ctx"]["attrs"]) { dX = this["ctx"]["attrs"] } else { dX = {} } dY = dX; dY["for"] = this["_checkboxAttrs"]["id"]; return dZ.call(this, null, dY) } function b6(d0) { var d2; var d1; var d4; function d3(d6, d5) { if (d6) { return d0.call(this, d6, d5) } else { d4 = d5 } dX = d4; this["__$anflg823459892"] = dY; ""; return d0.call(this, null, d2[d1](dX, { type: "password" })) } var dY, dX; var dZ; dZ = this; d2 = this["_"]; d1 = "extend"; ""; dY = this["__$anflg823459892"]; this["__$anflg823459892"] = true; return dx.call(dZ, d3) } function b3(d2) { var dZ; var dY; var d1; var d0; var dX; dX = { id: this["_inputId"], name: this["_name"] }; d0 = this["_value"]; if (d0) { d1 = dX.value = this["_value"] } else { d1 = d0 } dY = this["mods"]["disabled"]; if (dY) { dZ = dX.disabled = "disabled" } else { dZ = dY } return d2.call(this, null, dX) } function b2(dX) { return dX.call(this, null, { "for": this["_inputId"] }) } function c6(d4) { var d5; var dY; var dZ; var d1; var d7; var d0; var d2, dX; var d3, d6; d3 = { type: this["ctx"]["type"], value: "" }; d6 = this["ctx"]; d2 = ["tabindex", "name", "value"]; while (true) { if (!(dX = d2.shift())) { break } else { d0 = d6[dX]; if (d0) { d7 = d3[dX] = d6[dX] } else { d7 = d0 } } } undefined; d1 = d6.disabled; if (d1) { dZ = d3.disabled = "disabled" } else { dZ = d1 } dY = d6.typeMod != "simple"; if (dY) { d5 = d3.hidefocus = "true" } else { d5 = dY } return d4.call(this, null, d3) } function c3(d3) { var d4; var dX; var dZ; var d5; var d6; var d0; var d1; var dY; var d2; d2 = { role: "button" }; dY = this["ctx"]["url"]; if (dY) { d1 = d2.href = this["ctx"]["url"] } else { d1 = dY } d0 = this["ctx"]["target"]; if (d0) { d6 = d2.target = this["ctx"]["target"] } else { d6 = d0 } d5 = this["ctx"]["counter"]; if (d5) { dZ = d2.onmousedown = this["ctx"]["counter"] } else { dZ = d5 } dX = this["mods"]["disabled"]; if (dX) { d4 = d2["aria-disabled"] = true } else { d4 = dX } return d3.call(this, null, d2) } function cN(dX) { return dX.call(this, null, {}) } function cI(dX) { if (!!this.elem === false) { return cp.call(this, dX) } else { return bs.call(this, dX) } } function cp(d1) { var eb; var dX; var ef; var ee; var d8; var d6; function dY(eh, eg) { if (eh) { return d1.call(this, eh, eg) } else { d6 = eg } ed = { href: ef }; while (true) { if (!(d9 = d0.pop())) { break } else { dX = ea[d9]; if (dX) { eb = ed[d9] = ea[d9] } else { eb = dX } } } undefined; return d1.call(this, null, ed) } var d7; function dZ(eh, eg) { if (eh) { return d1.call(this, eh, eg) } else { d7 = eg } ec = d7; this["_buf"] = d5; this["_mode"] = d4; this["ctx"] = d3; ""; ec; ef = d9.join(""); return dY.call(this) } var ea, d0, d9, ed; var d5, d4, d3, ec; var d2; d2 = this; ea = this["ctx"]; d0 = ["title", "target"]; d9 = typeof ea.url; d8 = d9 === "undefined"; if (d8) { ee = d8 } else { ee = d9 === "string" } if (ee) { ef = ea.url; return dY.call(this) } else { d9 = []; ""; d5 = this["_buf"]; this["_buf"] = d9; d4 = this["_mode"]; this["_mode"] = ""; d3 = this["ctx"]; this["ctx"] = ea.url; return dx.call(d2, dZ) } } function ck(d4) { var d1; var d6; var d0; var d3; function dY(d9, d8) { if (d9) { return d4.call(this, d9, d8) } else { d3 = d8 } return d4.call(this, null, { method: d6, action: d1 }) } var d5; function dZ(d9, d8) { if (d9) { return d4.call(this, d9, d8) } else { d5 = d8 } d7 = d5; this["_mode"] = dX; ""; d1 = d7; return dY.call(this) } var dX, d7; var d2; d2 = this; d6 = "post"; d0 = this["ctx"]["url"]; if (d0) { d1 = d0; return dY.call(this) } else { ""; dX = this["_mode"]; this["_mode"] = "action-content"; return dx.call(d2, dZ) } } function b0(dX) { return dX.call(this, null, { src: this["ctx"]["url"] }) } function bZ(dX) { return dX.call(this, null, { rel: "stylesheet", href: this["ctx"]["url"] }) } function bK(dX) { return dX.call(this, null, { rel: "shortcut icon", href: this["ctx"]["url"] }) } function bJ(dX) { return dX.call(this, null, this["ctx"]["attrs"]) } function bG(d1) { var dZ; var d5; var dY; var d3; var d4, d2, d0, dX; d4 = this["ctx"]; d2 = { src: "//yandex.st/lego/_/La6qi18Z8LwgnZdsAr1qy1GwCwo.gif", alt: "" }; d0 = ["alt", "width", "height"]; d3 = d4.url; if (d3) { dY = d2.src = d4.url } else { dY = d3 } while (true) { if (!(dX = d0.shift())) { break } else { d5 = d4[dX]; if (d5) { dZ = d2[dX] = d4[dX] } else { dZ = d5 } } } undefined; return d1.call(this, null, d2) } function bq(dX) { return dX.call(this, null, { cellpadding: 0, cellspacing: 0 }) } function a1(d1) { var d4; var ec; var d6; var d8; var d3; var eb; var ee; var d5; var dY; var d2; var ea; var ed; var d7; var dZ; var d0; var d9, dX; d9 = []; d0 = this["isFirst"](); if (d0) { dZ = this["isLast"]() } else { dZ = d0 } if (dZ) { d7 = "both" } else { d7 = dZ } if (d7) { d2 = d7 } else { ed = this["isFirst"](); if (ed) { ea = "left" } else { ea = ed } d2 = ea } if (d2) { ee = d2 } else { dY = this["isLast"](); if (dY) { d5 = "right" } else { d5 = dY } ee = d5 } if (ee) { eb = ee } else { eb = "" } dX = eb; d3 = dX; if (d3) { d8 = d9.push({ elemMods: { side: dX } }) } else { d8 = d3 } d6 = this["_nextForChecked"]; if (d6) { ec = !this["_inputAttrs"]["checked"] } else { ec = d6 } if (ec) { this["_nextForChecked"] = null; d4 = d9.push({ elemMods: { "next-for-checked": "yes" } }) } else { d4 = ec } return d1.call(this, null, d9) } function aV(dX) { var dY; if (this["_nextUrl"]) { dY = "active" } else { dY = "inactive" } return dX.call(this, null, [{ elem: dY }]) } function aS(dX) { var dY; if (this["_prevUrl"]) { dY = "active" } else { dY = "inactive" } return dX.call(this, null, [{ elem: dY }]) } function ar(dY) { var dX; if (!this["mods"]["size"]) { dX = [{ mods: { size: "m" } }] } else { dX = "" } return dY.call(this, null, dX) } function an(dX) { return dX.call(this, null, [{ block: "i-hidden" }]) } function K(dZ) { var d3; var d1; var d2; var d0; var dX, dY; dX = {}; dY = this["ctx"]["mods"]; d0 = !dY; if (d0) { d2 = d0 } else { d2 = !dY.size } if (d2) { dX.size = "s" } else { undefined } undefined; d1 = !dY; if (d1) { d3 = d1 } else { d3 = !dY.theme } if (d3) { dX.theme = "grey-s" } else { undefined } undefined; return dZ.call(this, null, [{ mods: dX }]) } function o(dX) { return dX.call(this, null, [{ mods: { "is-bem": "yes" } }]) } function m(d5) { var d2; var d6; function dX(ec, eb) { var ea; function d9(ee, ed) { if (ee) { return d5.call(this, ee, ed) } else { ea = ed } dZ = ea; this["_mode"] = dY; ""; d7 = dZ; if (d8) { d2 = d8.push(d7) } else { d2 = d8 = [d7] } return d5.call(this, null, d8) } if (ec) { return d5.call(this, ec, eb) } else { d6 = eb } d0 = d6; d3._iGlobal = d1; ""; d8 = d0; ""; dY = this["_mode"]; this["_mode"] = "js-params"; return dx.call(d4, d9) } var d8, d7; var d3, d1, d0, dY, dZ; var d4; d4 = this; ""; d3 = this["ctx"]; d1 = d3._iGlobal; d3._iGlobal = true; return dx.call(d4, dX) } function l(dX) { if (!!this.elem === false) { return h.call(this, dX) } else { return bs.call(this, dX) } } function h(dX) { return dX.call(this, null, [{ elem: "body" }]) } function c(dZ) { var d3; var d1; var d2; var d0; var dX, dY; dX = {}; dY = this["ctx"]["mods"]; d0 = !dY; if (d0) { d2 = d0 } else { d2 = !dY.size } if (d2) { dX.size = "27" } else { undefined } undefined; d1 = !dY; if (d1) { d3 = d1 } else { d3 = !dY.theme } if (d3) { dX.theme = "grey-27" } else { undefined } undefined; return dZ.call(this, null, [{ mods: dX }]) } function dO(d5) { var ed; var d3; var ea; var d7; var ei; var eh; var eg; var d1; var ee; var ef; var eb; var dZ; var d4; var d9; function dY(ek, ej) { if (ek) { return d5.call(this, ek, ej) } else { d9 = ej } d8 = d9; d0._mix = dX; ""; undefined; if (d8) { ed = d8.concat(ec) } else { ed = ec } return d5.call(this, null, ed) } var d0, dX; var ec, d2, d8; var d6; d6 = this; ec = {}; d4 = this["ctx"]["mods"]; if (d4) { dZ = d4 } else { dZ = {} } d2 = dZ; eb = d2.theme; if (eb) { ef = eb } else { ef = ec.theme = "ffffff" } ee = d2.direction; if (ee) { d1 = ee } else { d1 = ec.direction = "down" } ec = [{ mods: ec }]; if (this["_inBDropdowna"]) { ea = ec; d7 = "push"; ei = "b-dropdowna"; eh = "popup"; eg = this["_dropdownaColor"]; if (eg) { d3 = { color: this["_dropdownaColor"] } } else { d3 = eg } ea[d7]({ block: ei, elem: eh, elemMods: d3 }); this["_dropdownaColor"] = false; this["_inBDropdowna"] = false } else { undefined } undefined; ""; d0 = this["ctx"]; dX = d0._mix; d0._mix = true; return dx.call(d6, dY) } function dy(dZ) { var d2; var d1; var d0; var dX; var dY; dY = this["i-global"]; d1 = dY["passport-host"] + "/passport?mode=auth&from="; d0 = encodeURIComponent; dX = dY["passport-msg"]; if (dX) { d2 = dX } else { d2 = "" } return dZ.call(this, null, d1 + d0(d2) + "&twoweeks=yes") } function dd(dX) { return dX.call(this, null, false) } function da(dX) { return dX.call(this, null, false) } function c7(dX) { return dX.call(this, null, false) } function c5(dX) { return dX.call(this, null, false) } function c2(dX) { return dX.call(this, null, false) } function cQ(dX) { return dX.call(this, null, false) } function cM(dX) { return dX.call(this, null, false) } function cn(dX) { return dX.call(this, null, "i-ua_js_no i-ua_css_standart") } function b1(dY) { var dX; var dZ; dZ = this["ctx"]["doctype"]; if (dZ) { dX = dZ } else { dX = "<!DOCTYPE html>" } return dY.call(this, null, dX) } function bX(d1) { var d5; var d6; var ee; var d3; var dX; function d8(ej, ei) { if (ej) { return d1.call(this, ej, ei) } else { dX = ei } while (dZ < d3.length) { eh = d3[dZ]; d5 = d9.hasOwnProperty(eh); if (d5) { ""; ed = this["elem"]; this["elem"] = eh; return dx.call(d2, eb) } else { d6 = d5; return ea.call(this) } } this["_mode"] = eg; this["block"] = ef; ""; undefined; undefined; return d1.call(this, null, d4) } var dY; function ea(ej, ei) { if (ej) { return d1.call(this, ej, ei) } else { dY = ei } if (d6) { d7[eh] = d9[eh] } else { undefined } dZ++; return d8.call(this) } var d0; function eb(ej, ei) { if (ej) { return d1.call(this, ej, ei) } else { d0 = ei } ec = d0; this["elem"] = ed; ""; d6 = ec; return ea.call(this) } var dZ; var ef; var eg; var d9, d7, d4, eh; var ed, ec; var d2; d2 = this; d9 = this["i-global"]; d7 = {}; d4 = { block: "i-global", js: d7 }; ""; eg = this["_mode"]; this["_mode"] = "public-params"; ef = this["block"]; this["block"] = "i-global"; eh = undefined; eh; ee = d9; d3 = typeof ee === "object" && ee !== null ? Object.keys(ee) : []; dZ = 0; return d8.call(this) } function bH(dY) { var dZ; var dX; dX = { id: 1, lang: 1, tld: 1, "content-region": 1, "user-region": 1, login: 1, displayName: 1, index: 1, yandexuid: 1, "passport-host": 1, "pass-host": 1, "passport-msg": 1, "static-host": 1, "lego-static-host": 1, "social-host": 1, clck: 1, "click-host": 1, "export-host": 1, "i-host": 1, "social-retpath": 1, "lego-path": 1, sid: 1, retpath: 1 }[this["elem"]]; if (dX) { dZ = dX } else { dZ = false } return dY.call(this, null, dZ) } function bs(dY) { if (this.block === "i-global") { var dX = this.elem; if (dX === "lego-static-host") { return bo.call(this, dY) } else { if (dX === "export-host") { return bn.call(this, dY) } else { if (dX === "social-host") { return bm.call(this, dY) } else { if (dX === "pass-host") { return a2.call(this, dY) } else { if (dX === "passport-host") { return a0.call(this, dY) } else { if (dX === "click-host") { return aX.call(this, dY) } else { if (dX === "content-region") { return aU.call(this, dY) } else { if (dX === "tld") { return aR.call(this, dY) } else { if (dX === "lang") { return bW.call(this, dY) } else { if (!this.elem === false) { return bV.call(this, dY) } else { return bT.call(this, dY) } } } } } } } } } } } else { return bT.call(this, dY) } } function bo(dX) { return dX.call(this, null, "//yandex.st/lego/2.10-114") } function bn(dX) { return dX.call(this, null, "//export.yandex.ru") } function bm(dX) { return dX.call(this, null, "//social.yandex.ru") } function a2(dX) { return dX.call(this, null, "//pass.yandex.ru") } function a0(dX) { return dX.call(this, null, "https://passport.yandex.ru") } function aX(dX) { return dX.call(this, null, "//clck.yandex.ru") } function aU(dX) { return dX.call(this, null, "ru") } function aR(dX) { return dX.call(this, null, "ru") } function bW(dX) { return dX.call(this, null, "ru") } function bV(dX) { return dX.call(this, null, "") } function bT(dY) { var dX = this._mode; if (dX === "default") { if (this.block === "i-global") { if (!!this.elem === false) { return bF.call(this, dY) } else { return ah.call(this, dY) } } else { return ah.call(this, dY) } } else { if (dX === "") { if (!!this["i-global"] === false) { return bj.call(this, dY) } else { return ah.call(this, dY) } } else { if (dX === "content") { return aQ.call(this, dY) } else { if (dX === "mix") { return aO.call(this, dY) } else { if (dX === "env") { if (this.block === "i-global") { if (!!this.elem === false) { return bB.call(this, dY) } else { return ah.call(this, dY) } } else { return ah.call(this, dY) } } else { if (dX === "jsAttr") { return aJ.call(this, dY) } else { if (dX === "js") { return aH.call(this, dY) } else { if (dX === "cls") { return ao.call(this, dY) } else { if (dX === "attrs") { return am.call(this, dY) } else { if (dX === "tag") { return aj.call(this, dY) } else { if (dX === "bem") { return aM.call(this, dY) } else { return ah.call(this, dY) } } } } } } } } } } } } function bF(eb) { var d4; var d2; var ec; var d9; var d5; var ea; var dX; var ed; var d1; var d0; var d7, d3, dY, d6, dZ, d8; ed = this["ctx"]["params"]; if (ed) { dX = ed } else { dX = {} } d7 = dX; d3 = this["i-global"]; ea = d7.tld; if (ea) { d5 = d7.tld !== d3.tld } else { d5 = ea } dY = d5; if (dY) { d6 = d7.tld; if (d6 === "tr") { d9 = "yandex.com.tr" } else { d9 = "yandex." + d6 } dZ = d9; if (["ua", "by", "kz"]["indexOf"](d6) != -1) { ec = "yandex.ru" } else { ec = dZ } d8 = ec; d3["content-region"] = d6; d3["click-host"] = "//clck." + d8; d3["passport-host"] = "https://passport." + d8; d3["pass-host"] = "//pass." + dZ; d3["social-host"] = "//social." + dZ; d3["export-host"] = "//export." + dZ } else { undefined } undefined; d0; d4 = d7; d2 = typeof d4 === "object" && d4 !== null ? Object.keys(d4) : []; d1 = 0; while (d1 < d2.length) { d0 = d2[d1]; d3[d0] = d7[d0]; d1++ } return eb.call(this, null) } function bB(dX) { return dX.call(this, null, {}) } function bj(dZ) { var d7; var d6; var ei; var eg; var ee; var eh; var ef; var dX; function d9(el, ek) { var ej; function em(eq, eo) { var en; function ep(es, er) { if (es) { return dZ.call(this, es, er) } else { en = er } undefined; undefined; return dZ.call(this, null) } if (eq) { return dZ.call(this, eq, eo) } else { ej = eo } ea = ej; this["_mode"] = d2; this["block"] = d1; ""; d7[d6] = ei[eg](ee, ea); return dx.call(d0, ep) } if (el) { return dZ.call(this, el, ek) } else { dX = ek } while (true) { if (!(eb = ed.shift())) { break } else { ""; d3 = this["elem"]; this["elem"] = eb; eh = d8; ef = eb; return dx.call(d0, ec) } } this["_mode"] = d5; this["block"] = d4; ""; undefined; undefined; d7 = this; d6 = "i-global"; ei = this["_"]; eg = "extend"; ee = d8; ""; d2 = this["_mode"]; this["_mode"] = "env"; d1 = this["block"]; this["block"] = "i-global"; return dx.call(d0, em) } var dY; function ec(ek, ej) { if (ek) { return dZ.call(this, ek, ej) } else { dY = ej } eh[ef] = dY; this["elem"] = d3; ""; return d9.call(this) } var d3; var d4; var d5; var d8, ed, eb; var d2, d1, ea; var d0; d0 = this; d8 = {}; ed = ["lang", "tld", "content-region", "click-host", "passport-host", "pass-host", "social-host", "export-host", "login", "lego-static-host"]; ""; d5 = this["_mode"]; this["_mode"] = "default"; d4 = this["block"]; this["block"] = "i-global"; return d9.call(this) } function aQ(dX) { return dX.call(this, null, this["ctx"]["content"]) } function aO(dX) { return dX.call(this, null, undefined) } function aM(dX) { return dX.call(this, null, undefined) } function aJ(dX) { return dX.call(this, null, undefined) } function aH(dX) { return dX.call(this, null, undefined) } function ao(dX) { return dX.call(this, null, undefined) } function am(dX) { return dX.call(this, null, undefined) } function aj(dX) { return dX.call(this, null, undefined) } function ah(dY) { if (!(this.ctx && !this._.isSimple(this.ctx) && this.ctx.link) === false) { return af.call(this, dY) } else { if (!(b && this.ctx && this.ctx.cache) === false) { return I.call(this, dY) } else { var dX = this._mode; if (dX === "default") { return G.call(this, dY) } else { if (dX === "") { if (!this._.isSimple(this.ctx) === false) { return C.call(this, dY) } else { if (!!this.ctx === false) { return y.call(this, dY) } else { if (!this._.isArray(this.ctx) === false) { return j.call(this, dY) } else { if (!true === false) { return f.call(this, dY) } else { return dr.call(this, dY) } } } } } else { return dr.call(this, dY) } } } } } function af(d3) { var d5; var d4; var d1; var dY; var d0, dZ; var d2; d2 = this; function dX() { var d6; if (this["ctx"]["link"] === "no-follow") { return undefined } else { undefined; undefined; d6 = this["_links"][this["ctx"]["link"]]; ""; d0 = this["ctx"]; this["ctx"] = d6; dZ = dx.call(d2); this["ctx"] = d0; ""; return dZ } } d4 = !b; if (d4) { d5 = d4 } else { d5 = !this["_cacheLog"] } if (d5) { return d3.call(this, null, dX.call(this)) } else { undefined; undefined; dY = this["_buf"]["slice"](this["_cachePos"])["join"](""); this["_cachePos"] = this["_buf"]["length"]; this["_cacheLog"]["push"](dY, { log: this["_localLog"]["slice"](), link: this["ctx"]["link"] }); d1 = dX.call(this); this["_cachePos"] = this["_buf"]["length"]; return d3.call(this, null, d1) } } function I(d6) { var en; function ei(er, eq) { if (er) { return d6.call(this, er, eq) } else { en = eq } eo = en; d9 = this["_buf"]["slice"](this["_cachePos"])["join"](""); if (d9) { ej.push(d9) } else { undefined } ep.cache = em; this["_cachePos"] = eh; this["_cacheLog"] = ef; this["_localLog"] = ed; ""; undefined; undefined; b.set(this["ctx"]["cache"], { log: ej, res: eo }); return d6.call(this, null, eo) } var ea; function d0(er, eq) { if (er) { return d6.call(this, er, eq) } else { ea = eq } while (true) { if (!(ek < ec.log["length"])) { break } else { if (typeof ec.log[ek] === "string") { this["_buf"]["push"](ec.log[ek]); ek++; return d2.call(this) } else { undefined; undefined; d8 = ec.log[ek]; el = d8.log["map"](function (es) { return { key: es[0], value: eb(this, es[0], es[1]) } }, this)["reverse"](); ""; d5 = this["ctx"]; d3 = d5.cache; d5.cache = null; d1 = this["_cacheLog"]; this["_cacheLog"] = null; dZ = this["ctx"]; dY = dZ.link; dZ.link = d8.link; return dx.call(d7, d4) } } } undefined; this["_links"] = dX; return d6.call(this, null, ec.res) } var ee; function d2(er, eq) { if (er) { return d6.call(this, er, eq) } else { ee = eq } return d0.call(this) } var eg; function d4(er, eq) { if (er) { return d6.call(this, er, eq) } else { eg = eq } d5.cache = d3; this["_cacheLog"] = d1; dZ.link = dY; ""; undefined; undefined; undefined; el.forEach(function (es) { eb(this, es.key, es.value) }, this); ek++; return d2.call(this) } var d9; var ed; var ef; var eh; var ep, em; var ej, eo; var dZ, dY; var d1; var d5, d3; var d8, el; var ek; var dX; var ec; var d7; d7 = this; function eb(ew, er, eu) { var eq; var et, es; var eq; var ev; if (er.length === 0) { return undefined } else { undefined; undefined; if (Array.isArray(eu)) { ev = ew; eq = 0; while (true) { if (!(eq < eu.length - 1)) { break } else { ev = ev[eu[eq]]; eq++ } } undefined; eu = ev[eu[eq]] } else { undefined } undefined; et = ew; eq = 0; undefined; es = et[er[eq]]; et[er[eq]] = eu; return es } while (true) { if (!(eq < er.length - 1)) { break } else { et = et[er[eq]]; eq++ } } } if (ec = b.get(this["ctx"]["cache"])) { dX = this["_links"]; if (this["ctx"]["links"]) { this["_links"] = this["ctx"]["links"] } else { undefined } undefined; ek = 0; return d0.call(this) } else { undefined; undefined; ej = []; ""; ep = this["ctx"]; em = ep.cache; ep.cache = null; eh = this["_cachePos"]; this["_cachePos"] = this["_buf"]["length"]; ef = this["_cacheLog"]; this["_cacheLog"] = ej; ed = this["_localLog"]; this["_localLog"] = []; return dx.call(d7, ei) } } function G(fT) { var fQ; var fO; var eg; var ex; var ew; var ev; var eu; var fY; var ea; var ec; var ff; var fD; var fC; var fF; var eh; var et; var eK; var eN; var eQ; var fy; var f0; var eb; var ef; var fi; var fI; var fK; var ej; var ei; var em; var eA; var eD; var eU; var fe; var fB; var fH; var f1; var fN; var fU; var ep; var ez; var eT; var fh; var dZ; var f2; var fP; var fM; var fJ; var el; var fm; var fp; var fS; var fX; var d9; var fo; var d0; var fW; var d5; var eC; var er; var eY; var fl; var fL; var dY; var eW; var eZ; var e2; var fn; var d3; var fu; var fZ; var ee; var eG; var eJ; var e1; var fR; var d8; var d7; var d4; var ek; var eB; var eR; var eV; var fg; var fG; var eI; function ed(f8, f5) { var f7; function f6(gg, gf) { var gc; function gb(gi, gh) { if (gi) { return fT.call(this, gi, gh) } else { gc = gh } return fT.call(this, null) } var ge; function gd(gi, gh) { var gm; function gl(go, gn) { if (go) { return fT.call(this, go, gn) } else { gm = gn } undefined; eT = d6; if (eT) { ez = eF.push("</", d6, ">") } else { ez = eT } return gb.call(this) } var gk; function gj(go, gn) { if (go) { return fT.call(this, go, gn) } else { gk = gn } this["_notNewList"] = e4; this["position"] = e3; this["_listLength"] = eP; this["ctx"] = eO; this["_mode"] = eM; ""; undefined; undefined; undefined; return gl.call(this) } if (gi) { return fT.call(this, gi, gh) } else { ge = gh } e5 = ge; this["_mode"] = e6; ""; ey = e5; dY = ey; if (dY) { fL = dY } else { fL = ey === 0 } if (fL) { fl = this["block"]; if (fl) { eY = fl } else { eY = this["elem"] } eX = eY; ""; e4 = this["_notNewList"]; this["_notNewList"] = false; e3 = this["position"]; eC = this; er = "position"; if (eX) { d5 = 1 } else { d5 = this["position"] } eC[er] = d5; eP = this["_listLength"]; d0 = this; fW = "_listLength"; if (eX) { fo = 1 } else { fo = this["_listLength"] } d0[fW] = fo; eO = this["ctx"]; this["ctx"] = ey; eM = this["_mode"]; this["_mode"] = ""; return dx.call(d1, gj) } else { undefined; return gl.call(this) } } if (gg) { return fT.call(this, gg, gf) } else { f7 = gf } undefined; if (this["_"]["isShortTag"](d6)) { eF.push("/>"); return gb.call(this) } else { fZ = d6; if (fZ) { fu = eF.push(">") } else { fu = fZ } ""; e6 = this["_mode"]; this["_mode"] = "content"; return dx.call(d1, gd) } } var ga; function f9(ge, gb) { var gd; function gc(gi, gf) { var gh; function gg(gq, gp) { var gk; function gj(gw, gv) { var gs; function gr(gA, gz) { var gy; function gx(gC, gB) { if (gC) { return fT.call(this, gC, gB) } else { gy = gB } e7 = gy; this["_mode"] = e8; ""; dX = e7; dX = this["_"]["extend"](dX, eE.attrs); if (dX) { fa = undefined; fa; fQ = dX; fO = typeof fQ === "object" && fQ !== null ? Object.keys(fQ) : []; fd = 0; while (fd < fO.length) { fa = fO[fd]; eF.push(" ", fa, '="', this["_"]["attrEscape"](dX[fa]), '"'); fd++ } } else { undefined } return f6.call(this) } if (gA) { return fT.call(this, gA, gz) } else { gs = gz } undefined; ""; e8 = this["_mode"]; this["_mode"] = "attrs"; return dx.call(d1, gx) } var gu; function gt(gy, gx) { if (gy) { return fT.call(this, gy, gx) } else { gu = gx } fb = gu; this["_mode"] = fc; ""; eS = fb; ex = eF; ew = "push"; ev = " "; eu = eS; if (eu) { eg = eu } else { eg = "onclick" } ex[ew](ev, eg, '="return ', this["_"]["attrEscape"](JSON.stringify(fE)), '"'); return gr.call(this) } if (gw) { return fT.call(this, gw, gv) } else { gk = gv } undefined; if (fE) { ""; fc = this["_mode"]; this["_mode"] = "jsAttr"; return dx.call(d1, gt) } else { undefined; return gr.call(this) } } var gm; function gl(gs, gr) { if (gs) { return fT.call(this, gs, gr) } else { gm = gr } undefined; fF = ft; if (fF) { fD = eF; fC = "push"; if (eX) { ff = " " } else { ff = "" } ec = fD[fC](ff, ft) } else { ec = fF } ea = d2; if (ea) { fY = eF.push(" i-bem") } else { fY = ea } eF.push('"'); return gj.call(this) } var go; function gn(gs, gr) { if (gs) { return fT.call(this, gs, gr) } else { go = gr } fq = go; this["_mode"] = fr; ""; fV = fq; ep = eE.mix; if (ep) { if (fV) { fU = fV.concat(eE.mix) } else { fU = eE.mix } fN = fV = fU } else { fN = ep } if (fV) { eL = 0; eH = fV.length; while (true) { if (!(eL < eH)) { break } else { e9 = fV[eL++]; f1 = e9.block; if (f1) { fH = f1 } else { fH = e9.elem } en = fH; fB = e9.block; if (fB) { fe = fB } else { fe = eq.block } es = fe; eU = en; if (eU) { eD = eF.push(" ") } else { eD = eU } eA = e0.INTERNAL; if (en) { em = "buildClasses" } else { em = "buildModsClasses" } ej = es; ei = e9.elem; if (ei) { fI = ei } else { if (e9.block) { fK = undefined } else { fK = eq.elem } fI = fK } fi = e9.elemMods; if (fi) { ef = fi } else { ef = e9.mods } eA[em](ej, fI, ef, eF); if (e9.js) { eb = fE; if (eb) { f0 = eb } else { f0 = fE = {} } fy = e0.INTERNAL["buildClass"](es, e9.elem); if (e9.js === true) { eQ = {} } else { eQ = e9.js } f0[fy] = eQ; eN = d2; if (eN) { eh = eN } else { eK = es; if (eK) { et = !e9.elem } else { et = eK } eh = d2 = et } } else { undefined } } } } else { undefined } return gl.call(this) } if (gq) { return fT.call(this, gq, gp) } else { gh = gp } fs = gh; this["_mode"] = fv; ""; ft = fs; d9 = ft; if (d9) { fX = d9 } else { fX = ft = eE.cls } fS = eE.block; if (fS) { fp = fE } else { fp = fS } d2 = fp; fm = eX; if (fm) { el = fm } else { el = ft } if (el) { eF.push(' class="'); if (eX) { dZ = e0.INTERNAL; f2 = "buildClasses"; fP = this["block"]; fM = eE.elem; fJ = eE.elemMods; if (fJ) { fh = fJ } else { fh = eE.mods } dZ[f2](fP, fM, fh, eF); ""; fr = this["_mode"]; this["_mode"] = "mix"; return dx.call(d1, gn) } else { undefined; return gl.call(this) } } else { undefined; return gj.call(this) } } if (gi) { return fT.call(this, gi, gf) } else { gd = gf } fw = gd; this["_mode"] = fx; ""; eX = fw; d3 = typeof eX != "undefined"; if (d3) { eW = d3 } else { if (typeof eE.bem != "undefined") { eZ = eE.bem } else { fn = eE.block; if (fn) { e2 = fn } else { e2 = eE.elem } eZ = e2 } eW = eX = eZ } ""; fv = this["_mode"]; this["_mode"] = "cls"; return dx.call(d1, gg) } if (ge) { return fT.call(this, ge, gb) } else { ga = gb } undefined; eF.push("<", d6); ""; fx = this["_mode"]; this["_mode"] = "bem"; return dx.call(d1, gc) } var f4; function f3(gc, gb) { if (gc) { return fT.call(this, gc, gb) } else { f4 = gb } fz = f4; this["_mode"] = fA; ""; eo = fz; if (eo) { d8 = this["_"]; d7 = "extend"; d4 = eE.js; if (eo === true) { fR = {} } else { fR = eo } eJ = d8[d7](d4, fR) } else { if (eE.js === true) { e1 = {} } else { e1 = eE.js } eJ = e1 } eo = eJ; eG = eo; if (eG) { ee = (fE = {})[e0.INTERNAL["buildClass"](this["block"], eE.elem)] = eo } else { ee = eG } return f9.call(this) } if (f8) { return fT.call(this, f8, f5) } else { eI = f5 } fj = eI; this["_mode"] = fk; ""; d6 = fj; fG = typeof d6 != "undefined"; if (fG) { fg = fG } else { fg = d6 = eE.tag } eV = typeof d6 != "undefined"; if (eV) { eR = eV } else { eR = d6 = "div" } if (d6) { eB = this["block"]; if (eB) { ek = eE.js !== false } else { ek = eB } if (ek) { ""; fA = this["_mode"]; this["_mode"] = "js"; return dx.call(d1, f3) } else { undefined; return f9.call(this) } } else { undefined; return f6.call(this) } } var eM; var eO; var eP; var e3; var e4; var eX; var ey; var fd; var fa; var dX; var eS; var eL, eH, e9, en, es; var fV; var d2; var ft; var eX; var fE, eo; var eq, e0, eE, eF, d6; var fr, fk, fA, fz, fx, fw, fv, fs, fj, fq, fc, fb, e8, e7, e6, e5; var d1; d1 = this; eq = this; e0 = eq.BEM; eE = this["ctx"]; eF = this["_buf"]; ""; fk = this["_mode"]; this["_mode"] = "tag"; return dx.call(d1, ed) } function C(d1) { var dZ; var d0; var dX; var d2; var dY; this["_listLength"]--; dY = this["ctx"]; d2 = dY; if (d2) { dX = dY !== true } else { dX = d2 } if (dX) { d0 = dX } else { d0 = dY === 0 } if (d0) { dZ = this["_buf"]["push"](dY) } else { dZ = d0 } return d1.call(this, null) } function y(dX) { this["_listLength"]--; return dX.call(this, null) } function j(d1) { var d9; var dZ; var ea; var ed; var d4; var d7; function dX(eg, ef) { if (eg) { return d1.call(this, eg, ef) } else { d7 = ef } while (true) { if (!(ec < eb)) { break } else { d6 = d5[ec++]; ""; d3 = this["ctx"]; ed = this; d4 = "ctx"; if (d6 === null) { ea = "" } else { ea = d6 } ed[d4] = ea; return dx.call(d2, dY) } } undefined; dZ = ee; if (dZ) { d9 = dZ } else { d9 = this["position"] = d0 } return d1.call(this, null) } var d8; function dY(eg, ef) { if (eg) { return d1.call(this, eg, ef) } else { d8 = ef } this["ctx"] = d3; ""; undefined; undefined; undefined; return dX.call(this) } var d3; var d6; var d5, eb, ec, d0, ee; var d2; d2 = this; d5 = this["ctx"]; eb = d5.length; ec = 0; d0 = this["position"]; ee = this["_notNewList"]; if (ee) { this["_listLength"] += eb - 1 } else { this["position"] = 0; this["_listLength"] = eb } undefined; this["_notNewList"] = true; return dX.call(this) } function f(eg) { var es; var eF; var d5; var d4; var d3; var ep; var et; var ew; var dZ; var dY; var eH; var ek; var ev; var ed; var dX; var eG; var ea; var ej; var ei; var eh; var eu; var eo; var eD; var eB; var eA; var d2; var er; var eq; var em; var d1; var en; var ey; var eC; var ez; function ex(eJ, eI) { if (eJ) { return eg.call(this, eJ, eI) } else { ez = eI } undefined; undefined; this["_mode"] = ef; this["_links"] = ee; this["block"] = ec; this["_currBlock"] = eb; this["elem"] = d9; this["mods"] = d8; this["elemMods"] = d7; ""; undefined; return eg.call(this, null) } var d7; var d8; var d9; var eb; var ec; var ee; var ef; var eE, el, d6; var d0; d0 = this; eE = this["ctx"]["block"]; el = this["ctx"]["elem"]; eC = this["_currBlock"]; if (eC) { ey = eC } else { ey = this["block"] } d6 = ey; en = this["ctx"]; if (en) { d1 = en } else { d1 = this["ctx"] = {} } ""; ef = this["_mode"]; this["_mode"] = "default"; ee = this["_links"]; er = this; eq = "_links"; em = this["ctx"]["links"]; if (em) { d2 = em } else { d2 = this["_links"] } er[eq] = d2; ec = this["block"]; eD = this; eB = "block"; eA = eE; if (eA) { eu = eA } else { if (el) { eo = d6 } else { eo = undefined } eu = eo } eD[eB] = eu; eb = this["_currBlock"]; ej = this; ei = "_currBlock"; eh = eE; if (eh) { ea = eh } else { ea = el } if (ea) { eG = undefined } else { eG = d6 } ej[ei] = eG; d9 = this["elem"]; this["elem"] = this["ctx"]["elem"]; d8 = this["mods"]; ed = this; dX = "mods"; if (eE) { ev = this["ctx"]["mods"] } else { ev = this["mods"] } if (ev) { ek = ev } else { ek = {} } ed[dX] = ek; d7 = this["elemMods"]; dZ = this; dY = "elemMods"; eH = this["ctx"]["elemMods"]; if (eH) { ew = eH } else { ew = {} } dZ[dY] = ew; et = this["block"]; if (et) { ep = et } else { ep = this["elem"] } if (ep) { d5 = this; d4 = "position"; d3 = this["position"]; if (d3) { eF = d3 } else { eF = 0 } es = d5[d4] = eF + 1 } else { es = this["_listLength"]-- } return dx.call(d0, ex) } function dr(dX) { throw new Error(this) } !function (dX, dZ) { if (dZ.I18N) { return undefined } else { undefined } undefined; dX.BEM = dZ; var dY = dX.BEM.I18N = function (d1, d0) { return d0 }; dY.keyset = function () { return dY }; dY.key = function (d0) { return d0 }; dY.lang = function () { return undefined } }(this, typeof BEM === "undefined" ? {} : BEM); !function () { var d8 = {}, dY = Object.prototype.toString, d7 = { area: 1, base: 1, br: 1, col: 1, command: 1, embed: 1, hr: 1, img: 1, input: 1, keygen: 1, link: 1, meta: 1, param: 1, source: 1, wbr: 1 }; (function (eg, eh) { var ed = "_", eb = "__", ef = "[a-zA-Z0-9-]+"; function ea(ek, ei, ej) { ej.push(ed, ek, ed, ei) } function ee(ek, el, ei, ej) { ej.push(ek); ei && ea(el, ei, ej) } function ec(em, ek, el, ei, ej) { ee(em, eh, eh, ej); ej.push(eb, ek); ei && ea(el, ei, ej) } eg.INTERNAL = { NAME_PATTERN: ef, MOD_DELIM: ed, ELEM_DELIM: eb, buildModPostfix: function (el, ei, ej) { var ek = ej || []; ea(el, ei, ek); return ej ? ek : ek.join("") }, buildClass: function (eo, em, en, ei, ej) { var el = typeof en; if (el == "string") { if (typeof ei != "string") { ej = ei; ei = en; en = em; em = eh } else { eh } } else { if (el != "undefined") { ej = en; en = eh } else { if (em && typeof em != "string") { ej = em; em = eh } else { eh } } } eh; if (!(em || en || ej)) { return eo } else { eh } eh; var ek = ej || []; em ? ec(eo, em, en, ei, ek) : ee(eo, en, ei, ek); return ej ? ek : ek.join("") }, buildModsClasses: function (eo, em, el, ej) { var ek = ej || []; if (el) { var en; for (en in el) { if (!el.hasOwnProperty(en)) { continue } else { eh } eh; var ei = el[en]; if (ei == null) { continue } else { eh } eh; ei = el[en] + ""; if (!ei) { continue } else { eh } eh; ek.push(" "); if (em) { ec(eo, em, en, ei, ek) } else { ee(eo, en, ei, ek) } } } else { eh } eh; return ej ? ek : ek.join("") }, buildClasses: function (em, el, ek, ei) { var ej = ei || []; el ? ec(em, el, eh, eh, ej) : ee(em, eh, eh, ej); this.buildModsClasses(em, el, ek, ei); return ei ? ej : ej.join("") } } })(d8); var d5 = function () { var ea = { '"': "&quot;", "&": "&amp;", "<": "&lt;", ">": "&gt;" }, eb = function (ec) { return ea[ec] || ec }; return function (ec) { ec = new RegExp(ec, "g"); return function (ed) { return ("" + ed).replace(ec, eb) } } }(); function d9(ea, eb) { this.ctx = typeof ea === null ? "" : ea; this.apply = eb; this._buf = []; this._ = this; this._start = true; this._mode = ""; this._listLength = 0; this._notNewList = false; this.position = 0; this.block = undefined; this.elem = undefined; this.mods = undefined; this.elemMods = undefined } d9.prototype.isArray = function d2(ea) { return dY.call(ea) === "[object Array]" }; d9.prototype.isSimple = function d6(eb) { var ea = typeof eb; return ea === "string" || ea === "number" || ea === "boolean" }; d9.prototype.isShortTag = function dZ(ea) { return d7.hasOwnProperty(ea) }; d9.prototype.extend = function d4(ec, eb) { if (!ec || !eb) { return ec || eb } else { undefined } undefined; var ea = {}, ed; for (ed in ec) { ec.hasOwnProperty(ed) && (ea[ed] = ec[ed]) } undefined; for (ed in eb) { eb.hasOwnProperty(ed) && (ea[ed] = eb[ed]) } undefined; return ea }; d9.prototype.identify = function () { var eb = 0, ed = d8.__id = +(new Date), ec = "__" + ed, ea = function () { return "uniq" + ed + ++eb }; return function (ef, ee) { if (!ef) { return ea() } else { undefined } undefined; if (ee || ef[ec]) { return ef[ec] } else { return ef[ec] = ea() } } }(); d9.prototype.xmlEscape = d5("[&<>]"); d9.prototype.attrEscape = d5('["&<>]'); d9.prototype.BEM = d8; d9.prototype.isFirst = function d0() { return this.position === 1 }; d9.prototype.isLast = function d1() { return this.position === this._listLength }; d9.prototype.generateId = function d3() { return this.identify(this.ctx) }; bu.apply = d9.apply = function dX() { var ea = new d9(this, dx); ea.apply(); return ea._buf.join("") } }(); return bu; bu.apply = dx; function dx(d1) { if (typeof d1 !== "function") { var dY = dx.reqq, d0 = dx.resq, dX; delete dx.reqq; delete dx.resq; cC.call(this, function (d3, d2) { if (d3) { throw d3 } dX = d2 }); dx.reqq = dY; dx.resq = d0; return dX } var dY = dx.reqq || [], d0 = dx.resq || []; dY.push({ self: this, res: null, callback: d1 }); if (dx.reqq && dx.resq) { return } dx.reqq = dY; dx.resq = d0; while (dY.length !== 0 || d0.length !== 0) { if (dY.length !== 0) { var dZ = dY.pop(); (function (d2) { cC.call(d2.self, function (d4, d3) { if (d4) { throw d4 } d2.res = d3; d0.push(d2) }) })(dZ) } if (d0.length !== 0) { var dZ = d0.shift(); dZ.callback.call(dZ.self, null, dZ.res) } } delete dx.reqq; delete dx.resq; return null } function cC(dY) { var dX = this._mode; if (dX === "tag") { var dX = this.block; if (dX === "b-form-button") { if (this.elem === "simple") { if (!(this.mods && this.mods.type === "simple") === false) { return dQ.call(this, dY) } else { return bl.call(this, dY) } } else { return bl.call(this, dY) } } else { if (dX === "b-word-statistics") { var dX = this.elem; if (dX === "table") { return cf.call(this, dY) } else { if (dX === "td") { return cc.call(this, dY) } else { if (dX === "th") { return ca.call(this, dY) } else { if (dX === "tr") { return b9.call(this, dY) } else { return bl.call(this, dY) } } } } } else { if (dX === "b-menu") { var dX = this.elem; if (dX === "item") { if (!(this.elemMods && this.elemMods.state === "current") === false) { if (!(this.mods && this.mods.layout === "horiz-simple") === false) { return bS.call(this, dY) } else { return bA.call(this, dY) } } else { return bA.call(this, dY) } } else { if (dX === "title") { if (!(this.mods && this.mods.layout === "horiz-simple") === false) { return bE.call(this, dY) } else { return bC.call(this, dY) } } else { return bA.call(this, dY) } } } else { if (dX === "b-foot") { var dX = this.elem; if (dX === "layout-column") { return bi.call(this, dY) } else { if (dX === "layout-gap-i") { return bh.call(this, dY) } else { if (dX === "layout-gap") { return be.call(this, dY) } else { if (dX === "row") { return a9.call(this, dY) } else { if (dX === "layout") { return aL.call(this, dY) } else { return bl.call(this, dY) } } } } } } else { return bl.call(this, dY) } } } } } else { if (dX === "content") { var dX = this.block; if (dX === "b-form-button") { if (!(this.mods && this.mods.type === "simple") === false) { if (!!this.elem === false) { return ak.call(this, dY) } else { return bl.call(this, dY) } } else { return bl.call(this, dY) } } else { if (dX === "b-word-statistics") { var dX = this.elem; if (dX === "table") { return ac.call(this, dY) } else { if (dX === "table-wrapper") { return Y.call(this, dY) } else { if (dX === "column") { return E.call(this, dY) } else { if (!!this.elem === false) { return A.call(this, dY) } else { return bl.call(this, dY) } } } } } else { if (dX === "b-menu") { if (this.elem === "item") { if (!(this.mods && this.mods.layout === "horiz-simple") === false) { return g.call(this, dY) } else { return e.call(this, dY) } } else { return e.call(this, dY) } } else { if (dX === "b-foot") { var dX = this.elem; if (dX === "layout-gap") { return dM.call(this, dY) } else { if (dX === "layout") { return dL.call(this, dY) } else { return bl.call(this, dY) } } } else { return bl.call(this, dY) } } } } } else { if (dX === "mix") { if (this.block === "b-form-button") { if (!(this.mods && this.mods.type === "simple") === false) { if (!!this.ctx._mix === false) { if (!!this.elem === false) { if (!!this.ctx.mods.theme === false) { return du.call(this, dY) } else { return bl.call(this, dY) } } else { return bl.call(this, dY) } } else { return bl.call(this, dY) } } else { return bl.call(this, dY) } } else { return bl.call(this, dY) } } else { if (dX === "default") { var dX = this.block; if (dX === "b-word-statistics") { if (!(this["__$anflg925783757"] !== true) === false) { if (!!this.elem === false) { return cL.call(this, dY) } else { return bl.call(this, dY) } } else { return bl.call(this, dY) } } else { if (dX === "b-menu") { if (this.elem === "link") { if (!this._inFooter === false) { return cD.call(this, dY) } else { return bl.call(this, dY) } } else { return bl.call(this, dY) } } else { if (dX === "b-foot") { if (this.elem === "links") { return ci.call(this, dY) } else { return bl.call(this, dY) } } else { return bl.call(this, dY) } } } } else { if (dX === "js") { if (this.block === "b-word-statistics") { if (!!this.elem === false) { return bY.call(this, dY) } else { return bl.call(this, dY) } } else { return bl.call(this, dY) } } else { if (dX === "attrs") { if (this.block === "b-foot") { if (!!this.elem === false) { return bI.call(this, dY) } else { return bl.call(this, dY) } } else { return bl.call(this, dY) } } else { if (dX === "service-url") { if (this.block === "i-services") { if (!!this.elem === false) { return bp.call(this, dY) } else { return bl.call(this, dY) } } else { return bl.call(this, dY) } } else { return bl.call(this, dY) } } } } } } } } return bu })(typeof exports === "undefined" ? {} : exports); return function (c) { if (!c) { c = {} } b = c.cache; return a.apply.call([this]) } }(); typeof exports === "undefined" || (exports.BEMHTML = BEMHTML); (function (a) { var b = a.event.special.leftclick = { setup: function () { a(this).bind("click", b.handler) }, teardown: function () { a(this).unbind("click", b.handler) }, handler: function (c) { if (!c.button) { c.type = "leftclick"; a.event.handle.apply(this, arguments); c.type = "click" } } } })(jQuery); (function (b) { var a = ["down-right", "down", "down-left", "up", "up-right", "up-left", "right-down", "right", "right-up", "left-down", "left", "left-up"]; BEM.DOM.decl("b-popupa", { onSetMod: { js: function () { this._owner = null; this._isShowed = false; this._direction = this.getMod("direction") || "down"; this._lastDirection = null; this._hasTail = !!this.elem("tail").length; if (!this._hasTail) { Object.keys(this.params).forEach(function (c) { (c.indexOf("tail") === 0) && (this.params[c] = 0) }, this) } } }, show: function (c) { if (!this._isShowed || this._owner !== c) { this._owner = c; this._getUnder().show({ left: -10000, top: -10000 }); this.pos(); this._getUnder().setMod("animate", "yes") } return this }, hide: function () { this._isShowed && this._getUnder().hide(); return this }, toggle: function (c) { return this.isShowed() ? this.hide() : this.show(c) }, _pos: function () { var c = this._calcParams(this._owner); this._hasTail && this.elem("tail").css(c.tailOffsets); this.setMod("direction", c.direction)._getUnder().show(c.offsets); return this }, pos: function () { if (!this._isShowed) { return this } return this._pos() }, isShowed: function () { return this._isShowed }, setDirection: function (c) { if (this._direction != c) { this._direction = c; this.isShowed() && this.pos() } }, setContent: function (c, e, d) { BEM.DOM.update(this.elem("content"), c, e, d); return this.isShowed() ? this.pos() : this }, _isOwnerNode: function () { return !!(this._owner && this._owner.jquery) }, _calcDimensions: function () { var i = this._getUnder().domElem, n = this._getUnder()._getUnder(), l = this.__self.win, f = this._owner, o = this._isOwnerNode(), m = o ? f.offset() : f, d = o ? f.outerWidth() : 0, e = o ? f.outerHeight() : 0, h = l.scrollLeft(), g = l.scrollTop(), j = this.__self.getWindowSize(), c = parseInt(this.elem("content").css("border-top-width"), 10); return { ownerWidth: d, ownerHeight: e, ownerLeft: m.left, ownerTop: m.top, ownerRight: m.left + d, ownerBottom: m.top + e, ownerHorizMiddle: m.left + d / 2, ownerVertMiddle: m.top + e / 2, posWidth: i.outerWidth(), posHeight: i.outerHeight(), underWidth: n.outerWidth(), underHeight: n.outerHeight(), borderWidth: isNaN(c) ? 0 : c, windowLeft: h, windowRight: h + j.width, windowTop: g, windowBottom: g + j.height } }, _calcParams: function () { var i = this._calcDimensions(); if (this.hasMod("adjustable", "no")) { return this.calcDirectionParams(this._direction, i) } var c = {}, f = this.params.directions, j = b.inArray(this._direction, f); j > -1 || (j = 0); var e = j, h, g; do { h = f[j]; g = c[h] = this.calcDirectionParams(h, i); if (!g.factor) { this._lastDirection = h; return g } ++j == f.length && (j = 0) } while (j !== e); return c[this._lastDirection || f[0]] }, calcDirectionParams: function (m, j) { var l, g = this.params, f = { top: 0, left: 0 }, i = { marginLeft: 0, marginTop: 0 }, c = m.split("-")[0], e = (this._hasTail && j.ownerWidth < g.tailWidthVertical) ? (g.tailWidthVertical - j.ownerWidth) / 2 : 0, h = (this._hasTail && j.ownerHeight < g.tailHeightHorizontal) ? (g.tailHeightHorizontal - j.ownerHeight) / 2 : 0; switch (m) { case "up": case "down": f.left = j.ownerHorizMiddle - j.posWidth / 2; f.top = m == "down" ? j.ownerBottom + g.tailHeightVertical : j.ownerTop - j.posHeight - g.tailHeightVertical; i.marginLeft = j.posWidth / 2 - g.tailWidthVertical / 2; i.marginTop = m == "down" ? 0 - g.tailHeightVertical : 0; break; case "up-left": case "up-right": case "down-left": case "down-right": f.left = m == "down-right" || m == "up-right" ? j.ownerLeft - e : j.ownerRight - j.posWidth + e; f.top = c == "down" ? j.ownerBottom + g.tailHeightVertical : j.ownerTop - j.posHeight - g.tailHeightVertical; i.marginLeft = j.ownerWidth > j.posWidth ? j.posWidth / 2 - g.tailWidthVertical / 2 : j.ownerHorizMiddle - f.left - g.tailWidthVertical / 2; i.marginTop = c == "down" ? j.borderWidth - g.tailHeightVertical : 0 - j.borderWidth; break; case "left-down": case "right-down": f.left = m == "left-down" ? j.ownerLeft - j.posWidth - g.tailWidthHorizontal : j.ownerRight + g.tailWidthHorizontal; f.top = j.ownerTop - h; i.marginLeft = m == "left-down" ? 0 - j.borderWidth : j.borderWidth - g.tailWidthHorizontal; i.marginTop = j.ownerHeight < j.posHeight ? j.ownerVertMiddle - f.top - g.tailHeightHorizontal / 2 : j.posHeight / 2 - g.tailHeightHorizontal / 2; break; case "left": case "right": f.left = m == "left" ? j.ownerLeft - j.posWidth - g.tailWidthHorizontal : j.ownerRight + g.tailWidthHorizontal; f.top = j.ownerVertMiddle - j.posHeight / 2; i.marginLeft = m == "left" ? 0 - j.borderWidth : j.borderWidth - g.tailWidthHorizontal; i.marginTop = j.posHeight / 2 - g.tailHeightHorizontal / 2; break; case "left-up": case "right-up": f.left = m == "left-up" ? j.ownerLeft - j.posWidth - g.tailWidthHorizontal : j.ownerRight + g.tailWidthHorizontal; f.top = j.ownerBottom - j.posHeight + h; i.marginLeft = c == "left" ? 0 - j.borderWidth : j.borderWidth - g.tailWidthHorizontal; i.marginTop = j.ownerHeight > j.posHeight ? j.posHeight / 2 - g.tailHeightHorizontal / 2 : j.ownerVertMiddle - f.top - g.tailHeightHorizontal / 2 }l = this.calcInWindowFactor(f, j); return { direction: c, factor: l, offsets: f, tailOffsets: i } }, calcInWindowFactor: function (f, e) { var c = 0; e.windowTop > f.top && (c += e.windowTop - f.top); f.top + e.underHeight > e.windowBottom && (c += f.top + e.underHeight - e.windowBottom); e.windowLeft > f.left && (c += e.windowLeft - f.left); f.left + e.underWidth > e.windowRight && (c += f.left + e.underWidth - e.windowRight); return c }, getDefaultParams: function () { return { tailOffset: 19, tailWidthHorizontal: 9, tailWidthVertical: 19, tailHeightHorizontal: 19, tailHeightVertical: 10, shadowSize: 7, directions: a } }, destruct: function () { var c = this._under; if (!c) { this.__base.apply(this, arguments) } else { if (!this._destructing) { this._destructing = true; this.hide(); BEM.DOM.destruct(false, c.domElem); this.__base(true) } } }, _getUnder: function () { if (!this._under) { var c = b(BEM.HTML.build({ block: "i-popup", zIndex: this.params.zIndex, mods: { autoclosable: this.getMod("autoclosable") || "yes", fixed: this.hasMod("direction", "fixed") && "yes" }, underMods: this.params.underMods, underMix: [{ block: "b-popupa", elem: "under" }] })); (this._under = this.findBlockOn(c, "i-popup")).on({ show: this._onUnderShowed, hide: this._onUnderHidden, "outside-click": this._onUnderOutsideClicked }, this).elem("content").append(this.domElem) } return this._under }, _onUnderShowed: function () { this._isShowed = true; this.bindToWin("resize", this.pos)._isOwnerNode() && this.bindToDomElem(this._owner.parents().add(this.__self.win), "scroll", this.pos); this.trigger("show") }, _onUnderHidden: function () { this._isShowed = false; this.unbindFromWin("resize")._isOwnerNode() && this.unbindFromDomElem(this._owner.parents().add(this.__self.win), "scroll"); this.trigger("hide") }, _onUnderOutsideClicked: function () { this.trigger.apply(this, arguments) } }, { live: function () { this.liveBindTo("close", "leftclick", function () { this.hide() }) } }); BEM.HTML.decl("b-popupa", { onBlock: function (c) { var d = false; b.each(c.param("content"), function (e, f) { return !(d = f.elem == "close") }); c.mods({ theme: "ffffff", direction: "down", "has-close": d && "yes" }).js(true).afterContent({ elem: "shadow" }) }, onElem: { content: function (c) { c.wrap({ elem: "wrap-cell", tag: "td" }).wrap({ tag: "tr" }).wrap({ elem: "wrap", tag: "table" }) }, close: function (c) { c.tag("i") }, shadow: function (c) { c.tag("i") }, tail: function (c) { c.tag("i").wrapContent({ elem: "tail-i", tag: "i" }) } } }) })(jQuery); (function (d) { var c, g = [], a = d.browser; function f() { return g.length ? g.shift() : c ? c.clone() : c = b() } function e(h) { g.push(h) } function b() { return d((a.safari || a.webkit) && navigator.userAgent.toLowerCase().indexOf("mobile") > -1 ? "<div/>" : "<iframe" + (a.msie && a.version < 9 ? ' frameborder="0"' : "") + "/>") } BEM.DOM.decl("i-popup", { onSetMod: { js: function () { var h = d.browser; if (h.msie && parseInt(h.version) >= 9) { this.domElem[0].onresize = function () { this.className += "" } } }, visibility: { visible: function () { var h = this._getUnder(), i = h.parent(); this.hasMod(h, "type", "paranja") ? i.is("body") || h.appendTo("body") : (i[0] !== this.domElem[0]) && h.prependTo(this.domElem); this._inBody || (this._inBody = !!this.domElem.appendTo("body")); this.trigger("show") }, "": function () { var h = this._getUnder(); this.hasMod(h, "type", "paranja") && h.remove(); this._putUnder(); this.trigger("hide") } } }, _getUnder: function () { return this._under || (this._under = f().attr("class", this._underClass || (this._underClass = this.findElem("under").remove().attr("class")))) }, _putUnder: function () { e(this._under); delete this._under }, show: function (h) { h && this.domElem.css(h); return this.setMod("visibility", "visible") }, hide: function () { return this.delMod("animate").delMod("visibility") } }, { live: true }) })(jQuery); BEM.HTML.decl("i-popup", { onBlock: function (a) { a.mod("autoclosable", "yes").js(true).wrapContent({ elem: "content" }).afterContent({ elem: "under", mods: a.param("underMods"), mix: a.param("underMix") }).param("zIndex") && a.attr("style", "z-index:" + (32700 + a.param("zIndex"))) } }); (function (a) { var b = (a.browser.opera && a.browser.version < 12.1) ? "keypress" : "keydown"; BEM.DOM.decl({ name: "i-popup", modName: "autoclosable", modVal: "yes" }, { onSetMod: { visibility: { visible: function () { this.afterCurrentEvent(function () { if (this.hasMod("visibility", "visible")) { var c = this._under; this.bindToDoc("leftclick", function (d) { this.containsDomElem(a(d.target)) || this._onOutClick(d) }).bindToDoc(b, function (d) { d.keyCode == 27 && this.hide() }); if (c && c.is("iframe") && this.hasMod(c, "type", "paranja")) { this.bindToDomElem(a([c[0].contentWindow, c[0].contentWindow.document]), "leftclick", this.hide) } } }); this.__base.apply(this, arguments) }, "": function () { return this.unbindFromDoc("leftclick " + b).__base.apply(this, arguments) } } }, _onOutClick: function (c) { var d = a.Event("outside-click"); this.trigger(d, { domEvent: c }); d.isDefaultPrevented() || this.hide() } }) })(jQuery); BEM.DOM.decl("b-spin", { onSetMod: { js: function () { this._size = this.getMod("size") || /[\d]+/.exec(this.getMod("theme"))[0]; this._bgProp = "background-position"; this._posPrefix = "0 -"; if (this.elem("icon").css("background-position-y")) { this._bgProp = "background-position-y"; this._posPrefix = "-" } this._curFrame = 0; this.hasMod("progress") && this.channel("sys").on("tick", this._onTick, this) }, progress: { yes: function () { this.channel("sys").on("tick", this._onTick, this) }, "": function () { this.channel("sys").un("tick", this._onTick, this) } } }, _onTick: function () { var a = ++this._curFrame * this._size; (a >= this._size * 36) && (this._curFrame = a = 0); this.elem("icon").css(this._bgProp, this._posPrefix + a + "px") }, destruct: function () { this.channel("sys").un("tick", this._onTick, this); this.__base.apply(this, arguments) } }); BEM.HTML.decl("b-icon", { onBlock: function (c) { var b = { src: "//yandex.st/lego/_/La6qi18Z8LwgnZdsAr1qy1GwCwo.gif", alt: "" }, f = c.params(), d = ["alt", "width", "height"], e; f.url && (b.src = f.url); while (e = d.shift()) { f[e] && (b[e] = f[e]) } c.tag("img").attrs(b) } }); (function () { var f, a = 0, c = false, e = 0, d = BEM.channel("sys"), b = 50; BEM.decl("i-system", {}, { start: function () { $(document).bind("mousemove keydown", function () { e = 0; if (c) { c = false; d.trigger("wakeup") } }); this._tick() }, _tick: function () { var g = this; d.trigger("tick", { counter: a++ }); if (!c && (e += b) > 3000) { c = true; d.trigger("idle") } f = setTimeout(function () { g._tick() }, b) } }).start() })(); (function () { var iContentLoader = null; function load(url, params) { if (BEM.blocks["i-global"].param("login").length === 0) { Lego.block["b-domik_type_popup"].login(); return null } return $.ajax({ type: "POST", url: "/stat/" + url, headers: { "X-Retpath-Y": BEM.blocks["i-global"].param("retpath") }, dataType: "json", data: params }) } function getErrorPopupContent(status) { var errorText = BEM.I18N("i-content-loader", "Internal server error."); var buttonText = BEM.I18N("i-content-loader", "Try again"); var buttonMix = [{ block: "b-popupa", elem: "retry-button" }]; if (status === 413) { errorText = BEM.I18N("i-content-loader", "Request entity too large."); buttonText = BEM.I18N("i-content-loader", "OK"); buttonMix = [{ block: "b-popupa", elem: "close-button" }] } return [{ block: "b-popupa", elem: "message", tag: "h3", content: [{ block: "b-icon", mods: { "size-16": "error" } }, errorText] }, { block: "b-form-button", mods: { type: "simple", theme: "simple-grey", size: "m" }, mix: buttonMix, content: buttonText }] } function render(data, $container, selector) { var key = navigator.userAgent.substr(0, 25) + ($.cookie("fuid01") || "") + eval(data.key); var edata = ""; for (var i = 0; i < data.data.length; i++) { edata = edata + String.fromCharCode(data.data.charCodeAt(i) ^ key.charCodeAt(i % key.length)) } var bemJson = { content: "" }; if (edata.match("^%7B.*%7D$")) { try { edata = decodeURIComponent(edata); bemJson = $.parseJSON(edata) } catch (e) { } } var $el = $(BEMHTML.apply(bemJson)), $content; if (selector) { $content = $el.find(selector).html() } if (selector === undefined || !$content || $content.length === 0) { $content = $el } BEM.DOM.update($container, $content) } BEM.decl("i-content-loader", { onSetMod: { js: function () { this._initBlock(); this._addListeners() } }, load: function (url, params, renderParams) { if (url !== undefined) { this._url = url; this._params = params } else { url = this._url; params = this._params } if (url !== undefined && url !== null) { var promise = load(url, params); if (promise !== undefined && promise !== null) { this._loadPopup.show("slow"); promise.success(this._onLoad.bind(this, renderParams)).error(this._showError.bind(this)).always(this._hideLoad.bind(this)) } return promise } }, _showError: function (response) { var content = BEMHTML.apply(getErrorPopupContent(response.status)); this._errorPopup.setContent(content); this._errorPopup.show() }, _hideLoad: function () { this._loadPopup.hide("slow") }, _initBlock: function () { this._loadPopup = $(".b-page__load-popup").bem("b-popupa"); this._errorPopup = $(".b-page__error-popup").bem("b-popupa"); this._captchaPopup = $(".b-page__captcha-popup").bem("b-popupa"); this._captchaInput = this._captchaPopup.findBlockInside("b-form-input"); this._$content = $(".b-wordstat-content__content"); this._url = null; this._params = null; this._captchaKey = null }, _addListeners: function () { var $input = this._captchaInput.elem("input"); function _onPopupRetryClick() { this._errorPopup.hide(); this.load() } function _onPopupCloseClick() { this._errorPopup.hide() } function _onFormSubmit() { this._captchaPopup.hide(); this.load(this._url, $.extend({}, this._params, { captcha_key: this._captchaKey, captcha_value: this._captchaPopup.findBlockInside("b-form-input").val() })); return false } function _onCaptchaRefreshSuccess(data) { this._captchaKey = data.captcha.key; this._captchaPopup.elem("image")[0].src = data.captcha.url; $input.focus() } function _onCaptchaRefresh() { $.ajax({ type: "GET", url: "/stat/refresh_captcha", dataType: "json" }).success(_onCaptchaRefreshSuccess.bind(this)) } function _onPopupShow() { this.afterCurrentEvent(function () { $input.focus() }) } this._errorPopup.domElem.on("click", ".b-popupa__retry-button", _onPopupRetryClick.bind(this)); this._errorPopup.domElem.on("click", ".b-popupa__close-button", _onPopupCloseClick.bind(this)); this._captchaPopup.domElem.on("click", ".b-popupa__refresh-button", _onCaptchaRefresh.bind(this)); this._captchaPopup.elem("form").submit(_onFormSubmit.bind(this)); this._captchaPopup.on("show", _onPopupShow, this) }, _onLoad: function (renderParams, data) { if ("need_login" in data) { Lego.block["b-domik_type_popup"].login() } else { if ("type" in data && "captcha" == data.type) { document.location.href = data.captcha["captcha-page"] } else { if ("captcha" in data) { this._showCaptcha(data) } else { if ("blocked" in data) { document.location.href = "https://wordstat.yandex.ru/block" } else { if ("data" in data) { this.trigger("load", { words: this._params.words, type: this._url }); if (renderParams === undefined) { renderParams = {} } render(data, renderParams.$container || this._$content, renderParams.selector); this.trigger("render") } else { this._showError() } } } } } }, _showCaptcha: function (data) { this._captchaKey = data.captcha.key; this._captchaPopup.elem("image")[0].src = data.captcha.url; this._captchaInput.val(""); this._captchaPopup.show() } }, { getInstance: function () { if (iContentLoader === null) { iContentLoader = BEM.create("i-content-loader") } return iContentLoader } }) })(); (function (a) { a = a || {}; a.oframebustMatchDomain = function (g, h) { g = Object.prototype.toString.call(g) === "[object Array]" ? g : (function () { var d = []; for (var e in g) { g.hasOwnProperty(e) && d.push(e) } return d }()); for (var c = 0, b = g.length; c < b; c++) { var m = g[c]; if (typeof (m) == "string") { if (/(\?|\*)/.test(m)) { var f = m.replace(/\./g, "\\.").replace(/\*/g, ".*").replace(/\?/g, ".{1}"); if ((new RegExp("^" + f + "$")).test(h)) { return true } } else { if (h == m) { return true } } } else { try { if (m.test(h)) { return true } } catch (j) { } } } } })(window.Lego); (function (a) { a = a || {}; a.oframebust = function (c) { if (window.top.location != window.location) { var b = document.referrer.match(/^https?:\/\/([^:\/\s]+)\/?.*/); if (!b) { return } !a.oframebustMatchDomain(c, b[1]) && (window.top.location = window.location) } } })(window.Lego); (function () { BEM.DOM.decl("l-content", { _data: null, onSetMod: { js: function () { this._initBlock(); this._addEvents(); this._onResize() } }, destruct: function () { BEM.channel("window").un("resize", this._onResize, this) }, _initBlock: function () { this._data = { $bHeadSearch: $(".b-head-search") }; this._iRoute = BEM.blocks["i-route"].getInstance(); this._iRoute.triggerError(this.hasMod("error", "yes")) }, _addEvents: function () { BEM.channel("window").on("resize", this._onResize, this) }, _onResize: function () { this.elem("content").css("width", this._data.$bHeadSearch.width()) } }) })(); (function () { function b(e) { var d = e && e.indexOf(".") ? "." : ","; var c = e.split(d)[1]; if (c) { c = c.length; if (c % 3) { c = c + (3 - c % 3) } } else { c = -1 } return c } function a(c) { return function (d, e) { return BEMHTML.apply({ tag: "", block: "b-formatter", mods: { type: "float" }, content: d, formatter: { precision: b(e), decimalSeparator: c.decimalSeparator, fractionalSeparator: c.fractionalSeparator, thousandsSeparatorarator: c.thousandsSeparator } }) } } BEM.DOM.decl("b-chart", { onSetMod: { js: function () { AmCharts.useUTC = true; AmCharts.shortMonthNames = [BEM.I18N("b-chart", "Jan"), BEM.I18N("b-chart", "Feb"), BEM.I18N("b-chart", "Mar"), BEM.I18N("b-chart", "Apr"), BEM.I18N("b-chart", "May"), BEM.I18N("b-chart", "Jun"), BEM.I18N("b-chart", "Jul"), BEM.I18N("b-chart", "Aug"), BEM.I18N("b-chart", "Sep"), BEM.I18N("b-chart", "Oct"), BEM.I18N("b-chart", "Nov"), BEM.I18N("b-chart", "Dec")]; this._renderChart() } }, destruct: function () { if (this.chart) { this.chart.clear() } this.__base.apply(this, arguments) }, invalidateSize: function () { var d = this; try { this._chart.invalidateSize() } catch (c) { d.domElem.hide() } }, _renderChart: function () { var d = this.params.graphs.map(function (j, h) { return { id: "v" + h, axisColor: j.color, position: j.axisPos, gridAlpha: 0, labelFunction: a(this.params) } }, this); var c = this.params.graphs.map(function (j, h) { return { valueAxis: "v" + h, title: j.title, valueField: j.key, descriptionField: j.descriptionField, lineColor: j.color, balloonText: "[[title]]: [[description]]" } }, this); var f = this.params.data.map(function (g) { return g }); var e = this.params.events || []; this._chart = AmCharts.makeChart(this.params.name, { type: "serial", theme: "none", pathToImages: "/js/amcharts/images/", categoryField: "date", categoryAxis: { parseDates: true, minPeriod: this.params.minPeriod, guides: e.map(function (g) { return { date: new Date(g.date), lineColor: "#4572A7", lineAlpha: 1, lineThickness: 1 } }).filter(Boolean) }, chartCursor: { cursorPosition: "mouse", categoryBalloonDateFormat: this.params.minPeriod }, chartScrollbar: {}, dataDateFormat: "YYYY-MM-DD", dataProvider: f, graphs: c, legend: { valueText: "" }, valueAxes: d, }) } }) })(); (function (a, b) { a.DOM.decl("b-form-radio", { onSetMod: { js: function () { var f = this; try { var d = f.__self.doc[0].activeElement } catch (c) { } f._val = this.findElem(this.elem("button", "checked", "yes"), "radio").val(); f.elem("radio").each(function () { var g = []; d === this && (g.push("focused")); this.checked && (g.push("checked")); if (g[0]) { var e = f.__self._getButtonByElem($(this)); $.each(g, function (h, j) { f.setMod(e, j, "yes") }) } }) } }, onElemSetMod: { button: { focused: { yes: function (c) { this.delMod(this.elem("button", "focused", "yes"), "focused").findElem(c, "radio").focus() } }, checked: { yes: function (d) { this.setMod(d.next(), "next-for-checked", "yes"); this._val = this.findElem(d, "radio").attr("checked", true).val(); var c = this.elem("button", "checked", "yes"); this.delMod(c, "checked"); this.trigger("change", { current: d, prev: c }) }, "": function (c) { this.delMod(c.next(), "next-for-checked") } }, "next-for-checked": { yes: function () { this.delMod(this.elem("button", "next-for-checked", "yes"), "next-for-checked") } }, disabled: function (d, e, c) { d.find(this.buildSelector("radio")).attr("disabled", c == "yes") } } }, val: function (c) { if (typeof c == "undefined") { return this._val } else { var d = this; this.elem("radio").each(function () { if (this.value == c) { d.setMod(d.__self._getButtonByElem($(this)), "checked", "yes"); return false } }); return d } }, uncheckAll: function () { var c = this.elem("button", "checked", "yes"); this.delMod(c, "checked").findElem(c, "radio").attr("checked", false); this._val = b; return this }, _onChange: function (d) { var c = this.__self._getButtonByElem(d.data.domElem); d.target.checked ? this.setMod(c, "checked", "yes") : this.delMod(c, "checked") } }, { live: function () { this.liveBindTo("radio", "leftclick", function (d) { if (!d.target.disabled) { var c = this.__self._getButtonByElem(d.data.domElem); this.setMod(c, "focused", "yes").setMod(c, "checked", "yes") } }).liveBindTo("radio", "change", function (c) { this._onChange(c) }).liveBindTo("radio", "focusin focusout", function (c) { this.setMod(this.__self._getButtonByElem(c.data.domElem), "focused", c.type == "focusin" ? "yes" : "") }); return false }, _getButtonByElem: function (c) { return c.closest(this.buildSelector("button")) } }) })(BEM); (function () { BEM.DOM.decl("b-tooltip", { _data: null, onSetMod: { js: function () { this._init_block(); this._get_popup(); this._add_events() } }, _init_block: function () { var a = this._data = { b_popup: null } }, _get_popup: function () { this._data.b_popup = this.findBlockOn("popup", "b-popupa") }, _add_events: function () { this.bindTo("switcher", "click", this._show_popup) }, _show_popup: function (a) { this._data.b_popup.show($(a.target)) } }) })(); (function () { BEM.DOM.decl("b-history", { onSetMod: { js: function () { this._initBlock(); if (this._periodRadio) { this._refresh(); this._addListeners(); this._loaded[this._periodRadio.val()] = true } } }, destruct: function () { this._iRoute.un("refresh", this._refresh, this); this._iRoute.un("render", this._onRender, this); if (this._periodRadio) { this._periodRadio.un("change", this._onPeriodChange, this) } this.__base.apply(this, arguments) }, _initBlock: function () { this._loaded = { weekly: false, monthly: false }; this._iRoute = BEM.blocks["i-route"].getInstance(); this._periodRadio = this.findBlockOn("period-type-radio", "b-form-radio"); this._charts = this.findBlocksInside("chart", "b-chart") }, _refresh: function () { this._show(this._refreshDOM().period) }, _refreshDOM: function () { var a = this._iRoute.get(); if (this._periodRadio) { this._periodRadio.val(a.period) } return a }, _addListeners: function () { this._periodRadio.on("change", this._onPeriodChange, this); this._iRoute.on("refresh", this._refresh, this); this._iRoute.on("render", this._onRender, this) }, _onPeriodChange: function () { var b = this._periodRadio.val(), a = this.elem("data", "group-by", b); if (!this._loaded[b]) { this._iRoute.load({ period: b }, { $container: a, selector: this.buildSelector("data", "group-by", b) }); this._loaded[b] = true; this._show(b) } else { this._iRoute.set({ period: b }); BEM.channel("window").trigger("resize"); this._show(b) } }, _onRender: function () { this._charts = this.findBlocksInside("chart", "b-chart") }, _show: function (b) { if (b === "weekly") { this.elem("data", "group-by", "monthly").hide(); this.elem("data", "group-by", "weekly").show() } else { this.elem("data", "group-by", "weekly").hide(); this.elem("data", "group-by", "monthly").show() } function a(c) { c.invalidateSize() } this._charts.forEach(a) } }) })(); (function () { BEM.DOM.decl("b-db-switcher", { onSetMod: { js: function () { this._initBlock(); this._addListeners(); this._refreshDOM() } }, destruct: function () { this._bFormRadio.un("change", this._onRadioChange, this) }, _initBlock: function () { this._iRoute = BEM.blocks["i-route"].getInstance(); this._bFormRadio = this.findBlockInside("b-form-radio") }, _refreshDOM: function () { var a = this._iRoute.get(); this.val(a.db) }, _addListeners: function () { this._bFormRadio.on("change", this._onRadioChange, this) }, _onRadioChange: function () { if (this._val !== this.val()) { this._iRoute.load({ db: this.val() }) } }, val: function (a) { if (a !== undefined) { this._val = a; this._bFormRadio.val(a) } else { return this._bFormRadio.val() } } }) })(); (function () { BEM.DOM.decl("b-word-statistics", { onSetMod: { js: function () { this._initBlock(); this._refreshCurrentPage(); this._addListeners(); this._onResize() } }, destruct: function () { this._iRoute.un("refresh", this._refreshCurrentPage, this); if (this._$next !== null) { this._$next.off("click", this._onNextClick.bind(this)) } if (this._$prev !== null) { this._$prev.off("click", this._onPrevClick.bind(this)) } if (this._bPager !== null) { this._bPager.destruct() } BEM.channel("window").un("resize", this._onResize, this); this.__base.apply(this, arguments) }, _initBlock: function () { this._iRoute = BEM.blocks["i-route"].getInstance(); this._bPager = this.findBlockInside("pager", "b-pager"); this._currentPage = 1; this._$next = null; this._$prev = null; if (this._bPager !== null) { var a = parseInt(this._bPager.elem("current").text(), 10); if (isNaN(a)) { a = 1 } this._currentPage = a; this._$next = this._bPager.elem("next"); this._$prev = this._bPager.elem("prev") } this._onPrevClick = this._onPrevClick.bind(this); this._onNextClick = this._onNextClick.bind(this) }, _addListeners: function () { if (this._$next !== null && this._$next.is("a")) { this._$next.on("click", this._onNextClick.bind(this)) } if (this._$prev !== null && this._$prev.is("a")) { this._$prev.on("click", this._onPrevClick.bind(this)) } this._iRoute.on("refresh", this._refreshCurrentPage, this); BEM.channel("window").on("resize", this._onResize, this) }, _refreshCurrentPage: function () { var a = parseInt(this._iRoute.get("page"), 10); if (isNaN(a)) { a = 1 } if (a !== this._currentPage) { this._currentPage = a } }, _onNextClick: function (a) { a.preventDefault(); this._iRoute.load({ page: this._currentPage + 1 }) }, _onPrevClick: function (a) { a.preventDefault(); this._iRoute.load({ page: this._currentPage - 1 }) }, _onResize: function () { var a = this.elem("info"); var c = this.elem("info-wrapper"); var b = 0; a.each(function (f, e) { var d = $(e).height(); b = d > b ? d : b }); c.height(b) } }) })(); BEM.DOM.decl("b-pager", { onSetMod: { js: function () { if (!this.params.keydownReaction) { return } var b = navigator.userAgent.match(/mac os x (\d+)[._](\d+)/i); if (b) { var c = parseInt(b.pop(), 10), a = parseInt(b.pop(), 10); if (a > 10 || (a === 10 && c > 6)) { this.__self.MODIFIER_KEY = "altKey"; this.elem("key").html(function (e, d) { return d.replace("Ctrl", "Alt") }) } this.isMac = true } this.bindToDoc("keydown", this.onKeyDown) } }, navigate: function (a) { a && (window.location.href = a) }, onKeyDown: function (b) { if (this.isMac && (b.ctrlKey && (b.metaKey || b.altKey))) { return } if (!b.ctrlKey && !b.altKey || $(b.target).is("input, textarea") || (b.ctrlKey && b.shiftKey)) { return } if (b[this.__self.MODIFIER_KEY]) { var a = b.keyCode === 37 ? this.elem("prev") : b.keyCode === 39 ? this.elem("next") : null; a && a.attr("href") && this.navigate(a.attr("href")) } } }, { MODIFIER_KEY: "ctrlKey" }); (function (c) { var g = Object.prototype.hasOwnProperty, f = Object.prototype.toString, j = function (q) { return f.call(q) === "[object Array]" }; var n = { decode: function (s) { var q; try { q = decodeURIComponent(s.replace(/\+/g, "%20")) } catch (r) { q = s } return q }, parse: function (t, z, x) { var q = {}, w, s, u, v, r, y; arguments.length || (t = location.search.substr(1)); if (!t) { return q } z || (z = "&"); x || (x = "="); w = t.split(z); for (r = 0, y = w.length; r < y; ++r) { s = w[r].split(x); u = typeof s[1] !== "undefined" ? n.decode(s[1]) : ""; v = n.decode(s[0]); if (q.hasOwnProperty(v)) { if (!j(q[v])) { q[v] = [q[v], u] } else { q[v].push(u) } } else { q[v] = u } } return q }, stringify: function (q, z, w) { var s = "", t, v, y, r, x, u; if (!q) { return s } z || (z = "&"); w || (w = "="); for (u in q) { if (g.call(q, u)) { y = [].concat(q[u]); for (r = 0, x = y.length; r < x; ++r) { v = typeof y[r]; if (v === "object" || v === "undefined") { t = "" } else { t = encodeURIComponent(y[r]) } s += z + encodeURIComponent(u) + w + t } } } return s.substr(z.length) }, stringifyDefaults: function (q, A, x, r) { var t = "", u, w, z, s, y, v; if (!q) { return t } A || (A = "&"); x || (x = "="); for (v in q) { if (g.call(q, v)) { z = [].concat(q[v]); for (s = 0, y = z.length; s < y; ++s) { w = typeof z[s]; if (w === "object" || w === "undefined") { u = "" } else { u = encodeURIComponent(z[s]) } if (u !== r[v]) { t += A + encodeURIComponent(v) + x + u } } } } return t.substr(A.length) } }; var o = (function () { var r = ["/", ".", "*", "+", "?", "|", "(", ")", "[", "]", "{", "}", "\\"], q = new RegExp("(\\" + r.join("|\\") + ")", "g"); return function (s) { return s.replace(q, "\\$1") } })(); var i = "<"; var h = ">"; var e = "("; var a = ")"; var p = "[a-zA-Z_][\\w\\-]*"; var m = "[\\w\\-]+"; var b = new RegExp("(" + o(i) + p + o(h) + "|[^" + o(i) + o(h) + "]+|" + o(i) + "|" + o(h) + ")", "g"); function l(r, q) { if (!(this instanceof l)) { return new l(r, q) } if (q) { this._defaults = q[0]; this._paramsMap = q[1]; this._parseRegExpSource = q[2]; this._buildFnSource = q[3]; this._data = q[4]; this._buildFn = new Function("p", this._buildFnSource); this._parseRegExp = new RegExp(this._parseRegExpSource); return } typeof r === "string" && (r = { pattern: r }); if (!r || typeof r !== "object") { throw new Error("You must specify options") } if (typeof r.pattern !== "string") { throw new Error("You must specify the pattern of the route") } this._pattern = r.pattern; this._conditions = r.conditions && typeof r.conditions === "object" ? r.conditions : {}; this._defaults = r.defaults && typeof r.defaults === "object" ? r.defaults : {}; this._data = r.data && typeof r.data === "object" ? r.data : {}; typeof r.name === "string" && (this._data.name = r.name); this._pattern += e + "?" + i + "query_string" + h + a; this._conditions.query_string = ".*"; this._parts = this._parsePattern(this._pattern); this._buildParseRegExp()._buildBuildFn() } l.prototype._parsePattern = function (w) { var s = [], r = "", v, u = 0, t, z, y = 0, x = false, q = w.length; while (u < q) { v = w.charAt(u++); if (v === e) { if (x) { ++y; r += v } else { this._parseParams(r, s); r = ""; y = 0; x = true } } else { if (v === a) { if (x) { if (y === 0) { r = { what: "optional", dependOnParams: [], parts: this._parsePattern(r) }; s.push(r); for (t = 0, z = r.parts.length; t < z; ++t) { if (r.parts[t] && r.parts[t].what === "param") { r.dependOnParams.push(r.parts[t].name) } } r = ""; x = false } else { --y; r += v } } else { r += v } } else { r += v } } } this._parseParams(r, s); return s }; l.prototype._parseParams = function (u, v) { var t = u.match(b), s, r, q; if (t) { for (s = 0, r = t.length; s < r; ++s) { q = t[s]; if (q.charAt(0) === i && q.charAt(q.length - 1) === h) { v.push({ what: "param", name: q.substr(1, q.length - 2) }) } else { v.push(q) } } } }; l.prototype._buildParseRegExp = function () { this._paramsMap = []; this._parseRegExpSource = "^" + this._buildParseRegExpParts(this._parts) + "$"; this._parseRegExp = new RegExp(this._parseRegExpSource); return this }; l.prototype._buildParseRegExpParts = function (u) { var r = "", t, s, q; for (t = 0, s = u.length; t < s; ++t) { q = u[t]; if (typeof q === "string") { r += o(q) } else { if (q && q.what === "param") { this._paramsMap.push(q.name); r += "(" + this._buildParamValueRegExpSource(q.name) + ")" } else { if (q && q.what === "optional") { r += "(?:" + this._buildParseRegExpParts(q.parts) + ")?" } } } } return r }; l.prototype._buildParamValueRegExpSource = function (r) { var q, s = this._conditions[r]; if (s) { if (j(s)) { q = "(?:" + s.join("|") + ")" } else { q = s + "" } } else { q = m } return q }; l.prototype._buildBuildFn = function () { this._buildFnSource = "var h=({}).hasOwnProperty;return " + this._buildBuildFnParts(this._parts) + ";"; this._buildFn = new Function("p", this._buildFnSource); return this }; l.prototype._buildBuildFnParts = function (x) { var u = '""', w, v, t, s, r, q; for (w = 0, v = x.length; w < v; ++w) { r = x[w]; if (typeof r === "string") { u += '+"' + o(r) + '"' } else { if (r && r.what === "param") { u += '+(h.call(p,"' + o(r.name) + '")?p["' + o(r.name) + '"]:' + (this._defaults && g.call(this._defaults, r.name) ? '"' + o(this._defaults[r.name]) + '"' : '""') + ")" } else { if (r && r.what === "optional") { u += "+((false"; for (t = 0, s = r.dependOnParams.length; t < s; ++t) { q = r.dependOnParams[t]; u += '||(h.call(p,"' + o(q) + '")' + (this._defaults && g.call(this._defaults, q) ? '&&p["' + o(q) + '"]!=="' + o(this._defaults[q]) + '"' : "") + ")" } u += ")?(" + this._buildBuildFnParts(r.parts) + '):"")' } } } } return u }; l.prototype.match = function (u) { var q = null, w, t, s, r, v; if (typeof u === "string") { u = { path: u } } else { if (!u) { u = {} } } for (r in u) { if (g.call(u, r) && r !== "path") { if (this._data[r] !== u[r]) { return q } } } if (typeof u.path === "string") { w = u.path.match(this._parseRegExp); if (w) { q = {}; for (t = 1, s = w.length; t < s; ++t) { if (typeof w[t] !== "undefined") { if (w[t] !== "") { q[this._paramsMap[t - 1]] = w[t] } } } v = n.parse(q.query_string); for (r in v) { if (g.call(v, r) && !g.call(q, r)) { q[r] = v[r] } } delete q.query_string; for (r in this._defaults) { if (g.call(this._defaults, r) && !g.call(q, r)) { q[r] = this._defaults[r] } } } } else { q = {} } return q }; l.prototype.build = function (v) { var x = {}, t = {}, w, s, u, r, q; for (s in v) { if (g.call(v, s) && v[s] !== null && typeof v[s] !== "undefined") { u = false; for (r = 0, q = this._paramsMap.length; r < q; ++r) { if (this._paramsMap[r] === s) { u = true; break } } if (u) { x[s] = v[s] } else { t[s] = v[s] } } } w = n.stringifyDefaults(t, null, null, this._defaults); w && (x.query_string = w); return this._buildFn(x) }; l.prototype.getData = function () { return this._data }; l.prototype.getName = function () { return this._data.name }; l.prototype.bundle = function () { return [this._defaults, this._paramsMap, this._parseRegExpSource, this._buildFnSource, this._data] }; function d(q) { if (!(this instanceof d)) { return new d(q) } this._routes = []; this._routesByName = {}; q && this.addRoutesFromBundle(q) } d.prototype.addRoute = function (t, q) { var r, s; r = new l(t, q); this._routes.push(r); s = r.getName(); s && (this._routesByName[s] = r); return r }; d.prototype.find = function (v) { var s = [], r, u, t, q = this._routes; for (u = 0, t = q.length; u < t; ++u) { r = q[u].match(v); if (r !== null) { s.push([q[u], r]) } } return s }; d.prototype.findFirst = function (u) { var r, t, s, q = this._routes; for (t = 0, s = q.length; t < s; ++t) { r = q[t].match(u); if (r !== null) { return [q[t], r] } } return null }; d.prototype.getRouteByName = function (q) { return this._routesByName[q] || null }; d.prototype.bundle = function () { var r = [], t, s, q = this._routes; for (t = 0, s = q.length; t < s; ++t) { r.push(q[t].bundle()) } return r }; d.prototype.addRoutesFromBundle = function (q) { var s, r; for (s = 0, r = q.length; s < r; ++s) { this.addRoute(null, q[s]) } return this }; d.Route = l; if (typeof module !== "undefined" && typeof module.exports === "object") { module.exports = d } else { c.Susanin = d } })(this); (function (window) { if (!window.history) { return } var document = window.document; var documentElement = document.documentElement; var sessionStorage = null; var Object = window.Object; var JSON = window.JSON; var windowLocation = window.location; var windowHistory = window.history; var historyObject = windowHistory; var historyPushState = windowHistory.pushState; var historyReplaceState = windowHistory.replaceState; var isSupportHistoryAPI = !!historyPushState; var isSupportStateObjectInHistory = "state" in windowHistory; var defineProperty = Object.defineProperty; var locationObject = redefineProperty({}, "t") ? {} : document.createElement("a"); var eventNamePrefix = ""; var addEventListenerName = window.addEventListener ? "addEventListener" : (eventNamePrefix = "on") && "attachEvent"; var removeEventListenerName = window.removeEventListener ? "removeEventListener" : "detachEvent"; var dispatchEventName = window.dispatchEvent ? "dispatchEvent" : "fireEvent"; var addEvent = window[addEventListenerName]; var removeEvent = window[removeEventListenerName]; var dispatch = window[dispatchEventName]; var settings = { basepath: "/", redirect: 0, type: "/" }; var sessionStorageKey = "__historyAPI__"; var anchorElement = document.createElement("a"); var lastURL = windowLocation.href; var checkUrlForPopState = ""; var isFireInitialState = false; var stateStorage = {}; var eventsList = {}; var eventsDescriptors = { onhashchange: null, onpopstate: null }; var fastFixChrome = function (method, args) { var isNeedFix = window.history !== windowHistory; if (isNeedFix) { window.history = windowHistory } method.apply(windowHistory, args); if (isNeedFix) { window.history = historyObject } }; var historyDescriptors = { redirect: function (type, basepath) { settings.basepath = basepath = basepath == null ? settings.basepath : basepath; settings.type = type = type == null ? settings.type : type; if (window.top == window.self) { var relative = parseURL(null, false, true)._relative; var path = windowLocation.pathname + windowLocation.search; if (isSupportHistoryAPI) { path = path.replace(/([^\/])$/, "$1/"); if (relative != basepath && (new RegExp("^" + basepath + "$", "i")).test(path)) { windowLocation.replace(relative) } } else { if (path != basepath) { path = path.replace(/([^\/])\?/, "$1/?"); if ((new RegExp("^" + basepath, "i")).test(path)) { windowLocation.replace(basepath + "#" + path.replace(new RegExp("^" + basepath, "i"), type) + windowLocation.hash) } } } } }, pushState: function (state, title, url) { historyPushState && fastFixChrome(historyPushState, arguments); changeState(state, url) }, replaceState: function (state, title, url) { delete stateStorage[windowLocation.href]; historyReplaceState && fastFixChrome(historyReplaceState, arguments); changeState(state, url, true) }, location: { set: function (value) { window.location = value }, get: function () { return isSupportHistoryAPI ? windowLocation : locationObject } }, state: { get: function () { return stateStorage[windowLocation.href] || null } } }; var locationDescriptors = { assign: function (url) { if (("" + url).indexOf("#") === 0) { changeState(null, url) } else { windowLocation.assign(url) } }, reload: function () { windowLocation.reload() }, replace: function (url) { if (("" + url).indexOf("#") === 0) { changeState(null, url, true) } else { windowLocation.replace(url) } }, toString: function () { return this.href }, href: { get: function () { return parseURL()._href } }, protocol: null, host: null, hostname: null, port: null, pathname: { get: function () { return parseURL()._pathname } }, search: { get: function () { return parseURL()._search } }, hash: { set: function (value) { changeState(null, ("" + value).replace(/^(#|)/, "#"), false, lastURL) }, get: function () { return parseURL()._hash } } }; function emptyFunction() { } function parseURL(href, isWindowLocation, isNotAPI) { var re = /(?:([\w0-9]+:))?(?:\/\/(?:[^@]*@)?([^\/:\?#]+)(?::([0-9]+))?)?([^\?#]*)(?:(\?[^#]+)|\?)?(?:(#.*))?/; if (href && !isWindowLocation) { var current = parseURL(), _pathname = current._pathname, _protocol = current._protocol; href = /^(?:[\w0-9]+\:)?\/\//.test(href) ? href.indexOf("/") === 0 ? _protocol + href : href : _protocol + "//" + current._host + (href.indexOf("/") === 0 ? href : href.indexOf("?") === 0 ? _pathname + href : href.indexOf("#") === 0 ? _pathname + current._search + href : _pathname.replace(/[^\/]+$/g, "") + href) } else { href = isWindowLocation ? href : windowLocation.href; if (!isSupportHistoryAPI || isNotAPI) { href = href.replace(/^[^#]*/, "") || "#"; href = windowLocation.protocol + "//" + windowLocation.host + settings.basepath + href.replace(new RegExp("^#[/]?(?:" + settings.type + ")?"), "") } } anchorElement.href = href; var result = re.exec(anchorElement.href); var host = result[2] + (result[3] ? ":" + result[3] : ""); var pathname = result[4] || "/"; var search = result[5] || ""; var hash = result[6] === "#" ? "" : (result[6] || ""); var relative = pathname + search + hash; var nohash = pathname.replace(new RegExp("^" + settings.basepath, "i"), settings.type) + search; return { _href: result[1] + "//" + host + relative, _protocol: result[1], _host: host, _hostname: result[2], _port: result[3] || "", _pathname: pathname, _search: search, _hash: hash, _relative: relative, _nohash: nohash, _special: nohash + hash } } function storageInitialize() { var storage = ""; if (sessionStorage) { storage += sessionStorage.getItem(sessionStorageKey) } else { var cookie = document.cookie.split(sessionStorageKey + "="); if (cookie.length > 1) { storage += (cookie.pop().split(";").shift() || "null") } } try { stateStorage = JSON.parse(storage) || {} } catch (_e_) { stateStorage = {} } addEvent(eventNamePrefix + "unload", function () { if (sessionStorage) { sessionStorage.setItem(sessionStorageKey, JSON.stringify(stateStorage)) } else { var state = {}; if (state[windowLocation.href] = historyObject.state) { document.cookie = sessionStorageKey + "=" + JSON.stringify(state) } } }, false) } function redefineProperty(object, prop, descriptor, onWrapped) { descriptor = descriptor || { set: emptyFunction }; var isDefinedSetter = !descriptor.set; var isDefinedGetter = !descriptor.get; var test = { configurable: true, set: function () { isDefinedSetter = 1 }, get: function () { isDefinedGetter = 1 } }; try { defineProperty(object, prop, test); object[prop] = object[prop]; defineProperty(object, prop, descriptor) } catch (_e_) { } if (!isDefinedSetter || !isDefinedGetter) { if (object.__defineGetter__) { object.__defineGetter__(prop, test.get); object.__defineSetter__(prop, test.set); object[prop] = object[prop]; descriptor.get && object.__defineGetter__(prop, descriptor.get); descriptor.set && object.__defineSetter__(prop, descriptor.set) } if ((!isDefinedSetter || !isDefinedGetter) && object === window) { try { var originalValue = object[prop]; object[prop] = null } catch (_e_) { } if ("execScript" in window) { window.execScript("Public " + prop, "VBScript") } else { try { defineProperty(object, prop, { value: emptyFunction }) } catch (_e_) { } } object[prop] = originalValue } else { if (!isDefinedSetter || !isDefinedGetter) { try { try { var temp = Object.create(object); defineProperty(Object.getPrototypeOf(temp) === object ? temp : object, prop, descriptor); for (var key in object) { if (typeof object[key] === "function") { temp[key] = object[key].bind(object) } } try { onWrapped.call(temp, temp, object) } catch (_e_) { } object = temp } catch (_e_) { defineProperty(object.constructor.prototype, prop, descriptor) } } catch (_e_) { return false } } } } return object } function prepareDescriptorsForObject(object, prop, descriptor) { descriptor = descriptor || {}; object = object === locationDescriptors ? windowLocation : object; descriptor.set = (descriptor.set || function (value) { object[prop] = value }); descriptor.get = (descriptor.get || function () { return object[prop] }); return descriptor } function addEventListener(event, listener, capture) { if (event in eventsList) { eventsList[event].push(listener) } else { if (arguments.length > 3) { addEvent(event, listener, capture, arguments[3]) } else { addEvent(event, listener, capture) } } } function removeEventListener(event, listener, capture) { var list = eventsList[event]; if (list) { for (var i = list.length; --i;) { if (list[i] === listener) { list.splice(i, 1); break } } } else { removeEvent(event, listener, capture) } } function dispatchEvent(event, eventObject) { var eventType = ("" + (typeof event === "string" ? event : event.type)).replace(/^on/, ""); var list = eventsList[eventType]; if (list) { eventObject = typeof event === "string" ? eventObject : event; if (eventObject.target == null) { for (var props = ["target", "currentTarget", "srcElement", "type"]; event = props.pop();) { eventObject = redefineProperty(eventObject, event, { get: event === "type" ? function () { return eventType } : function () { return window } }) } } ((eventType === "popstate" ? window.onpopstate : window.onhashchange) || emptyFunction).call(window, eventObject); for (var i = 0, len = list.length; i < len; i++) { list[i].call(window, eventObject) } return true } else { return dispatch(event, eventObject) } } function firePopState() { var o = document.createEvent ? document.createEvent("Event") : document.createEventObject(); if (o.initEvent) { o.initEvent("popstate", false, false) } else { o.type = "popstate" } o.state = historyObject.state; dispatchEvent(o) } function fireInitialState() { if (isFireInitialState) { isFireInitialState = false; firePopState() } } function changeState(state, url, replace, lastURLValue) { if (!isSupportHistoryAPI) { var urlObject = parseURL(url); if (urlObject._relative !== parseURL()._relative) { lastURL = lastURLValue; if (replace) { windowLocation.replace("#" + urlObject._special) } else { windowLocation.hash = urlObject._special } } } if (!isSupportStateObjectInHistory && state) { stateStorage[windowLocation.href] = state } isFireInitialState = false } function onHashChange(event) { if (lastURL) { if (checkUrlForPopState !== windowLocation.href) { firePopState() } event = event || window.event; var oldURLObject = parseURL(lastURL, true); var newURLObject = parseURL(); if (!event.oldURL) { event.oldURL = oldURLObject._href; event.newURL = newURLObject._href } if (oldURLObject._hash !== newURLObject._hash) { dispatchEvent(event) } } lastURL = windowLocation.href } function onLoad(noScroll) { setTimeout(function () { addEvent("popstate", function (e) { checkUrlForPopState = windowLocation.href; if (!isSupportStateObjectInHistory) { e = redefineProperty(e, "state", { get: function () { return historyObject.state } }) } dispatchEvent(e) }, false) }, 0); if (!isSupportHistoryAPI && noScroll !== true && historyObject.location) { scrollToAnchorId(historyObject.location.hash); fireInitialState() } } function onAnchorClick(e) { var event = e || window.event; var target = event.target || event.srcElement; var defaultPrevented = "defaultPrevented" in event ? event.defaultPrevented : event.returnValue === false; if (target && target.nodeName === "A" && !defaultPrevented) { var current = parseURL(); var expect = parseURL(target.getAttribute("href", 2)); var isEqualBaseURL = current._href.split("#").shift() === expect._href.split("#").shift(); if (isEqualBaseURL && expect._hash) { if (current._hash !== expect._hash) { historyObject.location.hash = expect._hash } scrollToAnchorId(expect._hash); if (event.preventDefault) { event.preventDefault() } else { event.returnValue = false } } } } function scrollToAnchorId(hash) { var target = document.getElementById(hash = (hash || "").replace(/^#/, "")); if (target && target.id === hash && target.nodeName === "A") { var rect = target.getBoundingClientRect(); window.scrollTo((documentElement.scrollLeft || 0), rect.top + (documentElement.scrollTop || 0) - (documentElement.clientTop || 0)) } } function initialize() { var scripts = document.getElementsByTagName("script"); var src = (scripts[scripts.length - 1] || {}).src || ""; var arg = src.indexOf("?") !== -1 ? src.split("?").pop() : ""; arg.replace(/(\w+)(?:=([^&]*))?/g, function (a, key, value) { settings[key] = (value || (key === "basepath" ? "/" : "")).replace(/^(0|false)$/, "") }); try { sessionStorage = window.sessionStorage } catch (_e_) { } ie6DriverStart(); addEvent(eventNamePrefix + "hashchange", onHashChange, false); var data = [locationDescriptors, locationObject, eventsDescriptors, window, historyDescriptors, historyObject]; if (isSupportStateObjectInHistory) { delete historyDescriptors.state } for (var i = 0; i < data.length; i += 2) { for (var prop in data[i]) { if (data[i].hasOwnProperty(prop)) { if (typeof data[i][prop] === "function") { data[i + 1][prop] = data[i][prop] } else { var descriptor = prepareDescriptorsForObject(data[i], prop, data[i][prop]); if (!redefineProperty(data[i + 1], prop, descriptor, function (n, o) { if (o === historyObject) { window.history = historyObject = data[i + 1] = n } })) { removeEvent(eventNamePrefix + "hashchange", onHashChange, false); return false } if (data[i + 1] === window) { eventsList[prop] = eventsList[prop.substr(2)] = [] } } } } } if (settings.redirect) { historyObject.redirect() } if (!isSupportStateObjectInHistory && JSON) { storageInitialize() } if (!isSupportHistoryAPI) { document[addEventListenerName](eventNamePrefix + "click", onAnchorClick, false) } if (document.readyState === "complete") { onLoad(true) } else { if (!isSupportHistoryAPI && parseURL()._relative !== settings.basepath) { isFireInitialState = true } addEvent(eventNamePrefix + "load", onLoad, false) } return true } if (!initialize()) { return } historyObject.emulate = !isSupportHistoryAPI; window[addEventListenerName] = addEventListener; window[removeEventListenerName] = removeEventListener; window[dispatchEventName] = dispatchEvent; function ie6DriverStart() { function createVBObjects(object) { var properties = []; var className = "VBHistoryClass" + (new Date()).getTime() + msie++; var staticClassParts = ["Class " + className]; for (var prop in object) { if (object.hasOwnProperty(prop)) { var value = object[prop]; if (value && (value.get || value.set)) { if (value.get) { staticClassParts.push("Public " + (prop === "_" ? "Default " : "") + "Property Get [" + prop + "]", "Call VBCVal([(accessors)].[" + prop + "].get.call(me),[" + prop + "])", "End Property") } if (value.set) { staticClassParts.push("Public Property Let [" + prop + "](val)", (value = "Call [(accessors)].[" + prop + "].set.call(me,val)\nEnd Property"), "Public Property Set [" + prop + "](val)", value) } } else { properties.push(prop); staticClassParts.push("Public [" + prop + "]") } } } staticClassParts.push("Private [(accessors)]", "Private Sub Class_Initialize()", "Set [(accessors)]=" + className + "FactoryJS()", "End Sub", "End Class", "Function " + className + "Factory()", "Set " + className + "Factory=New " + className, "End Function"); window.execScript(staticClassParts.join("\n"), "VBScript"); window[className + "FactoryJS"] = function () { return object }; var result = window[className + "Factory"](); for (var i = 0; i < properties.length; i++) { result[properties[i]] = object[properties[i]] } return result } function quote(string) { var escapable = /[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g; var meta = { "\b": "\\b", "\t": "\\t", "\n": "\\n", "\f": "\\f", "\r": "\\r", '"': '\\"', "\\": "\\\\" }; return escapable.test(string) ? '"' + string.replace(escapable, function (a) { return a in meta ? meta[a] : "\\u" + ("0000" + a.charCodeAt(0).toString(16)).slice(-4) }) + '"' : '"' + string + '"' } var msie = window["eval"] && eval("/*@cc_on 1;@*/"); if (!msie || +((/msie (\d+)/i.exec(navigator.userAgent) || [, 8])[1]) > 7) { return } var originalChangeState = changeState; var originalRedefineProperty = redefineProperty; var currentHref = parseURL()._href; var iFrame = document.createElement("iframe"); iFrame.src = "javascript:true;"; iFrame = documentElement.firstChild.appendChild(iFrame).contentWindow; window.execScript("Public history\nFunction VBCVal(o,r) If IsObject(o) Then Set r=o Else r=o End If End Function", "VBScript"); locationObject = { _: { get: locationDescriptors.toString } }; historyObject = { back: windowHistory.back, forward: windowHistory.forward, go: windowHistory.go, emulate: null, _: { get: function () { return "[object History]" } } }; JSON = { parse: function (value) { try { return new Function("", "return " + value)() } catch (_e_) { return null } }, stringify: function (value) { var n = (typeof value).charCodeAt(2); return n === 114 ? quote(value) : n === 109 ? isFinite(value) ? String(value) : "null" : n === 111 || n === 108 ? String(value) : n === 106 ? !value ? "null" : (function (isArray) { var out = isArray ? "[" : "{"; if (isArray) { for (var i = 0; i < value.length; i++) { out += (i == 0 ? "" : ",") + JSON.stringify(value[i]) } } else { for (var k in value) { if (value.hasOwnProperty(k)) { out += (out.length == 1 ? "" : ",") + quote(k) + ":" + JSON.stringify(value[k]) } } } return out + (isArray ? "]" : "}") })(Object.prototype.toString.call(value) === "[object Array]") : "void 0" } }; changeState = function (state, url, replace, lastURLValue, lfirst) { var iFrameDocument = iFrame.document; var urlObject = parseURL(url); isFireInitialState = false; if (urlObject._relative === parseURL()._relative && !lfirst) { if (state) { stateStorage[windowLocation.href] = state } return } lastURL = lastURLValue; if (replace) { if (iFrame.lfirst) { history.back(); changeState(state, urlObject._href, 0, lastURLValue, 1) } else { windowLocation.replace("#" + urlObject._special) } } else { if (urlObject._href != currentHref || lfirst) { if (!iFrame.lfirst) { iFrame.lfirst = 1; changeState(state, currentHref, 0, lastURLValue, 1) } iFrameDocument.open(); iFrameDocument.write('\x3Cscript\x3Elfirst=1;parent.location.hash="' + urlObject._special.replace(/"/g, '\\"') + '";\x3C/script\x3E'); iFrameDocument.close() } } if (!lfirst && state) { stateStorage[windowLocation.href] = state } }; redefineProperty = function (object, prop, descriptor, onWrapped) { if (!originalRedefineProperty.apply(this, arguments)) { if (object === locationObject) { locationObject[prop] = descriptor } else { if (object === historyObject) { historyObject[prop] = descriptor; if (prop === "state") { locationObject = createVBObjects(locationObject); window.history = historyObject = createVBObjects(historyObject) } } else { object[prop] = descriptor.get && descriptor.get() } } } return object }; var interval = setInterval(function () { var href = parseURL()._href; if (href != currentHref) { var e = document.createEventObject(); e.oldURL = currentHref; e.newURL = currentHref = href; e.type = "hashchange"; onHashChange(e) } }, 100); window.JSON = JSON } })(window); (function () { var c, b, d = function () { var e, f = 0; while (e = c[f++]) { e.val(e.elem("input").val()) } }, a = function (g) { try { return g.activeElement } catch (f) { } }; BEM.DOM.decl("b-form-input", { onSetMod: { js: function () { var h = this, f = h.elem("input"), g = a(h.__self.doc[0]), e = h.params.autoFocus && !(g && $(g).is("input, textarea")); h._val = f.val(); h._input0 = f[0]; if (g === h._input0 || e) { h._autoFocus = true; h.setMod("focused", "yes")._focused = true; delete h._autoFocus } if (!b) { c = []; b = h.channel("sys").on({ tick: d, idle: function () { b.un("tick", d) }, wakeup: function () { b.on("tick", d) } }) } h._instanceIndex = c.push(h.bindTo(f, { focus: h._onFocus, blur: h._onBlur })) - 1; h.params.shortcut && h.bindToDoc("keydown", function (i) { if (i.ctrlKey && i.keyCode == 38 && !$(i.target).is("input, textarea")) { h.setMod("focused", "yes") } }) }, disabled: function (f, e) { this.elem("input").attr("disabled", e == "yes") }, focused: function (f, e) { if (this.hasMod("disabled", "yes")) { return false } var g = e == "yes"; g ? this._focused || this._focus() : this._focused && this._blur(); this.afterCurrentEvent(function () { this.trigger(g ? "focus" : "blur") }) } }, onElemSetMod: { message: { visibility: function (h, i, e) { var j = this, g = j.getMod(h, "type"); if (g) { var f = true; e || j.elem("message", "type", g).each(function () { this != h[0] && j.hasMod($(this), "visibility", "visible") && (f = false) }); f && j.toggleMod("message-" + g, "yes", "", e === "visible") } } } }, val: function (g, f) { if (typeof g == "undefined") { return this._val } if (this._val != g) { var e = this.elem("input"); e.val() != g && e.val(g); this._val = g; this.trigger("change", f) } return this }, getSelectionEnd: function () { var i = this.elem("input")[0], g = 0; if (typeof (i.selectionEnd) == "number") { g = i.selectionEnd } else { var h = document.selection.createRange(); if (h && h.parentElement() == i) { var f = i.value.length, e = i.createTextRange(); e.moveToBookmark(h.getBookmark()); var j = i.createTextRange(); j.collapse(false); g = e.compareEndPoints("EndToEnd", j) > -1 ? f : -e.moveEnd("character", -f) } } return g }, name: function (e) { return this.elem("input").attr("name") }, _onFocus: function () { this._focused = true; return this.setMod("focused", "yes") }, _onBlur: function (f) { var g = this; if (a(document) === g._input0) { return } if (g._preventBlur) { setTimeout(function () { g._focus() }, 0); return g } g._focused = false; return g.delMod("focused") }, _focus: function () { var f = this.elem("input")[0]; if (f.createTextRange && !f.selectionStart) { var e = f.createTextRange(); e.move("character", f.value.length); e.select() } else { f.focus() } }, _blur: function () { this.elem("input").blur() }, destruct: function () { this.__base.apply(this, arguments); this.params.shortcut && this.unbindFromDoc("keydown"); c.splice(this._instanceIndex, 1); var f = this._instanceIndex, e; while (e = c[f++]) { --e._instanceIndex } } }); BEM.HTML.decl("b-form-input", { onBlock: function (e) { var f = e.param("id") || e.generateId(); e.tag("span").tParam("id", f).tParam("has-clear", e.mod("has-clear") === "yes").tParam("type", e.mod("type") || "input").afterContent({ elem: "box", tag: "span", content: { elem: "input", attrs: { value: e.param("value"), name: e.param("name"), id: f } } }).js(true) }, onElem: { input: function (e) { e.tag(e.tParam("type")) }, label: function (e) { e.tag("label").attr("for", e.tParam("id")) }, box: function (e) { if (e.tParam("has-clear")) { e.afterContent({ elem: "clear", tag: "span" }) } }, hint: function (e) { e.tag("label").attr("for", e.tParam("id")) } } }) })(); BEM.DOM.decl("b-form-input", { onSetMod: { js: function () { this.__base.apply(this, arguments); (this._hasHint = !!this.elem("hint")[0]) && this.on("change", this._updateHint)._updateHint() }, focused: function () { this.__base.apply(this, arguments); this._hasHint && this._updateHint() } }, _updateHint: function () { this.toggleMod(this.elem("hint-wrap"), "visibility", "visible", !(this._focused || this.val())) } }); (function (d, a, b) { var c = b.blocks["i-global"]; a.block["b-domik"] = function (v) { var f = this, s = f.find(".b-domik__social"), u = s.length && b.DOM.extractParams(s[0])["b-domik__social"].size, l = arguments.callee, n = d('<input type="hidden" name="timestamp"/>'), t = this.attr("class").match(/\bb-domik_type_(\w+)\b/)[1], e = f.find(".b-domik__button .b-form-button:first").bem("b-form-button"), i = { host: c.param("social-host"), providers: c.param("social-providers"), sprites: c.param("social-sprites") }; if (s.length && i.host) { if (i.providers && i.sprites) { w(i.providers, i.sprites[u]) } else { d.getJSON(i.host + "/providers2.jsonp?callback=?", function (y) { w(y.providers, y.icon_sprites[u]) }) } var x = new a.block["i-social"]; d(".b-domik__social-link").live("click", function (y) { j(); d(".b-domik__social-popup").each(function () { d(this).bem("b-popupa").hide() }); x.start(function () { var z = c.param("retpath"); (!z || top.location.href == z) ? top.location.reload() : (top.location.href = z) }, function () { s.removeClass("b-domik__social_loading_yes").css("height", "").find(".b-spin").bem("b-spin").delMod("progress") }, { provider: b.DOM.extractParams(this)["b-domik__social-link"].provider }); y.preventDefault() }) } function w(A, z) { if (!A.length) { s.remove(); return } s.html(m(A, z)); var B = s.find(".b-dropdowna"); if (!B.length) { return } b.DOM.init(B); b.DOM.init(s.find(".b-spin")); var C = B.bem("b-dropdowna").getPopup(); function y() { C.pos() } C.on("show", function () { d(window).scroll(y) }).on("hide", function () { d(window).unbind("scroll", y) }) } function m(B, A) { var C = [{ block: "b-domik", elem: "social-title", content: b.I18N("b-domik", "enter-with") }]; B = d.grep(B, function (D) { return D.enabled }); var z = d.grep(B, function (D) { return D.primary }); z = d.map(z, function (D) { return { block: "b-domik", tag: "a", elem: "social-link", content: { tag: "i", elem: "social-icon", attrs: { style: 'background-image:url("' + A + '");background-position: 0px -' + (D.id - 1) * 32 + "px;" } }, js: { provider: D.code }, attrs: { tabIndex: 103 } } });[].push.apply(C, z); function y(G) { var F = d.map(G, function (I) { return { block: "b-domik", tag: "a", elem: "social-link", mods: {}, attrs: { tabIndex: 103 }, js: { provider: I.code }, content: [{ tag: "i", elem: "social-icon", attrs: { style: 'background-image:url("' + A + '");background-position: 0px -' + (I.id - 1) * 32 + "px;" } }, I.display_name] } }); F.length % 2 && (F[F.length] = ""); var E = [], H; for (var D = 0; D < F.length; D++) { D % 2 || E.push(H = { tag: "tr", content: [] }); H.content.push({ tag: "td", elem: "provider", content: F[D] }) } return E } if (z.length < B.length) { C.push({ tag: "div", block: "b-dropdowna", js: true, content: [{ elem: "switcher", tag: "span", content: { tag: "a", block: "b-link", mods: { pseudo: "yes", "is-bem": "yes" }, js: true, attrs: { href: b.I18N("b-domik", "passport-link"), tabIndex: 103 } } }, { block: "b-popupa", js: { zIndex: "1" }, tag: "div", mix: [{ block: "b-dropdowna", elem: "popup" }, { block: "b-domik", elem: "social-popup", mods: { type: t } }], content: [{ elem: "tail", tag: "i" }, { elem: "content", content: [{ elem: "providers", tag: "table", content: y(B) }] }] }] }) } C.push({ block: "b-spin", js: true, mods: { size: t == "bigform" ? "45" : "27", theme: t == "bigform" ? "white-45" : "white-27", "is-bem": "yes" }, content: { block: "b-icon", tag: "img", attrs: { src: "//yandex.st/lego/_/La6qi18Z8LwgnZdsAr1qy1GwCwo.gif" } } }); return b.HTML.build(C) } function j() { s.css("height", s.height()).addClass("b-domik__social_loading_yes").find(".b-spin").bem("b-spin").setMod("progress", "yes") } f.append(n).submit(function () { var y = f.attr("action"); e.setMod("disabled", "yes"); n.val(+new Date); y && /^http:/.test(y) && f.attr("action", y.replace(/^http:/, "https:")) }); var q = f.find("input[name=login]"), p = f.find("input[name=passwd]"), r = f.find("input[type=submit]"); q.change(function () { var y = q.val(); if (/\s/.test(y)) { return g(b.I18N("b-domik", "wrong-characters")) } if (y.indexOf("@") == -1 && !(/^[a-z0-9A-Z!@#\$%\^&\*\(\)_\-\+:;\,\.]*$/i.test(y))) { return g(v && v.err_msg || b.I18N("b-domik", "wrong-keyboard-layout")) } o() }); q.change(); p.change(function () { var y = p.val(); if (y.length) { if (/\s/.test(y)) { return g(b.I18N("b-domik", "wrong-characters")) } else { if (/[^\x21-\x7E]/.test(y)) { return g(b.I18N("b-domik", "wrong-keyboard-layout")) } } } o() }); p.change(); var h; function g(y) { !h && (h = d('<div class="b-domik__error"/>').insertAfter(f.find(".b-domik__password"))); h.text(y).show() } function o() { h && h.hide() } l.isHTTPSSupported = true; l.enableHTTPS = function () { }; l.checkForHTTPS = function () { } } })(jQuery, window.Lego, BEM); (function (a) { BEM.DOM.decl("b-domik", { onSetMod: { js: function () { this.bindTo("input", "keyup", this._onChange) } }, _onChange: function (b) { a(b.target).trigger("change") } }) }(jQuery)); (function (a) { BEM.DOM.decl("b-dropdowna", { onSetMod: { js: function () { this._getSwitcher().on("click", this._toggle, this) }, disabled: function (c, b) { this._getSwitcher().setMod(c, b); b == "yes" && this.getPopup().hide() } }, _getSwitcher: function () { return this._switcher || (this._switcher = this.findBlockInside("b-" + (this.getMod(this.elem("switcher"), "type") || "link"))) }, _toggle: function () { this.getPopup().toggle(this.elem("switcher")) }, getPopup: function () { return this._popup || (this._popup = this.findBlockInside("b-popupa")).on("outside-click", function (c, b) { this._getSwitcher().containsDomElem(a(b.domEvent.target)) && c.preventDefault() }, this) }, destruct: function () { var b = this._popup; b && b.destruct(); this.__base.apply(this, arguments) } }, { live: function () { this.liveInitOnEvent("switcher", "leftclick", function () { }) } }) })(jQuery); BEM.HTML.decl("b-dropdowna", { onBlock: function (a) { a.js(true) } }); BEM.HTML.decl("b-dropdowna", { onElem: { switcher: function (a) { a.tag("span") } } }); BEM.HTML.decl("b-link", { onBlock: function (a) { a.tag("a").attr("href", a.param("url")); var b = ["title", "target"], c; while (c = b.pop()) { a.param(c) && (a.attr(c, a.param(c))) } } }); BEM.DOM.decl({ name: "b-link", modName: "pseudo", modVal: "yes" }, { _onClick: function (a) { a.preventDefault(); this.hasMod("disabled", "yes") || this.afterCurrentEvent(function () { this.trigger("click") }) } }, { live: function () { this.__base.apply(this, arguments); this.liveBindTo({ modName: "pseudo", modVal: "yes" }, "leftclick", function (a) { this._onClick(a) }) } }); BEM.HTML.decl({ name: "b-link", modName: "pseudo", modVal: "yes" }, { onBlock: function (a) { a.tag(a.param("url") ? "a" : "span"); a.wrapContent({ elem: "inner" }); a.js(true) }, onElem: { inner: function (a) { a.tag("span") } } }); (function (b, a) { window.Lego || (window.Lego = { block: {} }); Lego.block["i-social"] = function (e) { function g(m) { var l = this, i = {}; this.url = m.startUrl + "?"; delete m.startUrl; this.popupName = m.popupName; this.yaWindow = null; this.wTimer = null; this.paramsDefault = m; function o() { var p; if (!l.yaWindow) { return true } try { p = l.yaWindow.closed } catch (q) { p = true } return p } function n() { if (o()) { l.wTimer = clearInterval(l.wTimer); l.onFailure({ status: "error" }) } } function h(y) { var B = l.popupName, t = 500, C = 280, v = Math.round(((window.opera ? window.innerWidth : screen.availWidth) - t) / 2), z = Math.round(((window.opera ? window.innerHeight : screen.availHeight) - C) / 2), r = "scrollbars=yes, resizable=1, menubar=0, toolbar=0, status=0, location=0, directories=0, left=" + v + ", top=" + z + ", width=" + t + ", height=" + C; var u = {}; for (var x in l.paramsDefault) { u[x] = l.paramsDefault[x] } for (var x in y) { u[x] = y[x] } if (u.display && u.display != "popup") { u.retpath = u.retnopopup || window.location.href } else { var A = "ddom=" + (u.ddom || (location.hostname == document.domain ? "" : document.domain)); if ("retnopopup" in u) { delete u.retnopopup } u.retpath += (u.retpath.match("#") ? "&" : "#") + A } var q = l.url; var s = []; for (var w in u) { s.push(encodeURIComponent(w) + "=" + encodeURIComponent(u[w])) } q += s.join("&"); if (u.display && u.display != "popup") { window.location.href = q; return } l.yaWindow = window.open(q, B, r); l.yaWindow.focus(); if (l.yaWindow) { l.wTimer = setInterval(n, 500) } } function j() { this.handlers = { onSuccess: null, onFailure: null }; l.wTimer = clearInterval(l.wTimer); o() || l.yaWindow.close(); l.yaWindow = false } this.start = function (q, p, r) { j(); l.handlers = { onSuccess: q, onFailure: p }; h(r) }; this.onSuccess = function (q) { j(); var p = l.handlers.onSuccess; p && p.call(l, q) }; this.onFailure = function (q) { j(); var p = l.handlers.onFailure; p && p.call(l, q) } } arguments.callee.Broker = g; var f = a.param("id"), d = arguments.callee.defaultParams = { startUrl: a.param("social-startUrl") || a.param("social-host") + "/broker/start", retpath: a.param("social-retpath") || location.protocol + "//" + location.host + a.param("lego-path") + "/blocks-common/i-social/closer/i-social__closer.html", retnopopup: a.param("social-retnopopup") || false, consumer: f || "morda", popupName: "social_" + (f || "morda"), application: "", action_if_anonymous: "authorize", result_location: "fragment" }, c = arguments.callee.broker = new g(b.extend(d, e)); return c } })(jQuery, BEM.blocks["i-global"]); BEM.DOM.decl("b-form-button", { onSetMod: { js: function () { var a = this.isDisabled(); (this._href = this.domElem.attr("href")) && a && this.domElem.removeAttr("href"); this.elem("input").attr("disabled", a) }, focused: { yes: function () { var a = this; if (a.isDisabled()) { return false } a.bindTo("keydown", this._onKeyDown).elem("input").is(":focus") || a.elem("input").focus(); a._unloadInited || (a._unloadInited = $(window).bind("unload", function () { a.delMod("focused") })) }, "": function () { this.unbindFrom("keydown").elem("input").blur() } }, disabled: function (c, a) { var b = a == "yes"; this._href && (b ? this.domElem.removeAttr("href") : this.domElem.attr("href", this._href)); b && this.domElem.keyup(); this.afterCurrentEvent(function () { this.domElem && this.elem("input").attr("disabled", b) }) }, pressed: function (b, a) { this.isDisabled() || this.trigger(a == "yes" ? "press" : "release") }, hovered: { "": function () { this.delMod("pressed") } }, "*": function (a) { if (this.isDisabled() && "hovered pressed".indexOf(a) > -1) { return false } } }, isDisabled: function () { return this.hasMod("disabled", "yes") }, url: function (a) { if (typeof a == "undefined") { return this._href } else { this._href = a; this.isDisabled() || this.domElem.attr("href", a); return this } }, _onKeyDown: function (b) { var a = b.keyCode; if ((a == 13 || a == 32) && !this._keyDowned) { this._keyDowned = true; this.setMod("pressed", "yes").bindTo("keyup", function () { this.delMod("pressed").unbindFrom("keyup"); delete this._keyDowned; if (a == 32 && this.domElem.attr("href")) { document.location = this.domElem.attr("href") } }) } }, _onClick: function (a) { this.isDisabled() ? a.preventDefault() : this.afterCurrentEvent(function () { this.trigger("click") }) }, destruct: function () { this.delMod("focused"); this.__base.apply(this, arguments) } }, { live: function () { var a = { mouseover: { name: "hovered", val: "yes" }, mouseout: { name: "hovered" }, mousedown: { name: "pressed", val: "yes" }, mouseup: { name: "pressed" }, focusin: { name: "focused", val: "yes" }, focusout: { name: "focused" } }; this.liveBindTo("leftclick", function (b) { this._onClick(b) }).liveBindTo("mouseover mouseout mouseup focusin focusout", function (c) { var b = a[c.type]; this.setMod(b.name, b.val || "") }).liveBindTo("mousedown", function (c) { var b = a[c.type]; c.which == 1 && this.setMod(b.name, b.val || "") }) } }); BEM.HTML.decl("b-form-button", { onBlock: function (a) { a.tag(a.param("url") ? "a" : "span").attrs({ href: a.param("url"), target: a.param("target") }).mods({ size: a.mod("size"), theme: a.mod("theme") }).content([{ elem: "left", tag: "i" }, { elem: "content", tag: "span", content: { elem: "text", tag: "span", content: a.content() } }], true).afterContent(a.param("type") ? { elem: "input", attrs: { value: a.param("value") || "", type: a.param("type"), name: a.param("name"), disabled: a.mod("disabled") && "disabled" } } : { elem: "click" }).js(true) }, onElem: { input: function (a) { a.tag("input") }, click: function (a) { a.tag("i") } } }); BEM.DOM.decl({ name: "b-domik", modName: "type", modVal: "popup" }, { onSetMod: { js: function () { this.__base.apply(this, arguments); Lego.block["b-domik_type_popup"].call(this.domElem, this.params) } } }); (function (c, a, b) { a.block["b-domik_type_popup"] = function (j) { var f = c(this), h = b.param("passport-host"), e; c(".b-head-userinfo__entry .b-link_pseudo_yes").click(function (l) { l.preventDefault(); setTimeout(function () { d() }, 0) }); function d(m) { if (!e) { i() } m || (m = b.param("retpath")); var l = "&from=" + b.param("passport-msg") + "&retpath=" + encodeURIComponent(m) + "&twoweeks=yes"; f.attr("action", h + "/passport?mode=auth" + l); e.find(".b-domik__register .b-domik__link").attr("href", h + "/passport?mode=" + (j.regMode || "register") + l); c(document).bind("keyup.b-domik", function (n) { if (n.keyCode == 27) { g() } }).bind("click.b-domik", function (p) { var o = c(p.target), n = o.parents().andSelf(); if (o.is("input[type=button]") || n.index(e) == -1 && !n.is(".b-popupa")) { g() } }); e.show().find("input[name=login]").focus(); c(document).trigger("show.b-domik_type_popup") } function g() { c(document).unbind(".b-domik"); e.hide() } function i() { e = c(BEM.HTML.build({ block: "b-domik", mods: { type: "popup" }, js: { uniqId: j.uniqId }, content: [{ elem: "form", content: [{ elem: "title", content: (j.title || BEM.I18N("b-domik", "title")) }, { elem: "username", content: { block: "b-form-input", id: "b-domik_popup-username", name: "login", mods: { theme: "grey", size: "m" }, attrs: { tabindex: "11" }, mix: [{ block: "b-domik", elem: "input" }], content: [{ elem: "hint-wrap", content: { elem: "hint", content: BEM.I18N("b-domik", "login") } }] } }, { elem: "password", content: { block: "b-form-input", id: "b-domik_popup-password", name: "passwd", mods: { theme: "grey", size: "m", type: "password" }, attrs: { tabindex: "11" }, mix: [{ block: "b-domik", elem: "input" }], content: [{ elem: "hint-wrap", content: { elem: "hint", content: BEM.I18N("b-domik", "password") } }, { block: "b-domik" }] } }, { elem: "permanent", content: [{ block: "b-form-checkbox", mods: { theme: "grey-m", size: "m" }, mix: [{ block: "b-domik", elem: "check" }], checkboxAttrs: { id: "b-domik_popup-permanent", name: "twoweeks", value: "no" } }, { tag: "label", attrs: { "for": "b-domik_popup-permanent" }, content: BEM.I18N("b-domik", "temporary") }, " ", { elem: "help", tag: "span", content: ["(", { block: "b-link", url: BEM.I18N("b-domik", "help-link"), attrs: { tabindex: 12 }, content: BEM.I18N("b-domik", "help") }, ")"] }] }, { elem: "button", content: [{ block: "b-form-button", mods: { theme: "grey-m", size: "m", valign: "middle" }, type: "submit", attrs: { tabindex: 11 }, content: BEM.I18N("b-domik", "logon") }, { block: "b-form-button", mods: { theme: "grey-m", size: "m", valign: "middle" }, type: "button", attrs: { tabindex: 11 }, content: BEM.I18N("b-domik", "cancel") }] }, { elem: "social", js: { size: 16 } }, { elem: "register", content: { block: "b-link", mix: [{ block: "b-domik", elem: "link" }], url: "", attrs: { tabindex: 11 }, content: (j.register || BEM.I18N("b-domik", "register")) } }, { elem: "remember", content: { block: "b-link", mix: [{ block: "b-domik", elem: "link" }], url: h + "/passport?mode=restore", content: BEM.I18N("b-domik", "remember") } }] }] })); e.submit(function (l) { l.preventDefault(); f.find("input[name=login]").val(e.find("input[name=login]").change().val()).end().find("input[name=passwd]").val(e.find("input[name=passwd]").change().val()).end().find("input[name=twoweeks]").attr("checked", e.find("input[name=twoweeks]").attr("checked") || false).end().append('<input type="hidden" name="timestamp" value="' + +new Date + '"/>').attr("action", a.block["b-domik"].isHTTPSSupported ? f.attr("action").replace(/^(:?http:)?\/\//, "https://") : f.attr("action")).submit() }); a.block["b-domik"] && a.block["b-domik"].call(e); BEM.DOM.append(c("body"), e) } arguments.callee.login = function () { var l = arguments; setTimeout(function () { d.apply(this, l) }, 0) } } })(jQuery, window.Lego, BEM.blocks["i-global"]); BEM.HTML.decl({ block: "b-domik", modName: "type", modVal: "popup" }, { onBlock: function (a) { a.tag("form").attr("action", "post").wrapContent([{ elem: "roof" }, { elem: "shadow", content: a.content() }, { elem: "under" }]) }, onElem: { roof: function (a) { a.tag("i") }, shadow: function (a) { a.tag("table").wrapContent([{ tag: "tr", content: [{ elem: "shadow__lt", tag: "td", content: "&nbsp;" }, { elem: "shadow__t", tag: "td" }, { elem: "shadow__rt", tag: "td", content: "&nbsp;" }] }, { tag: "tr", content: [{ elem: "shadow__l", tag: "td", content: "&nbsp;" }, { elem: "shadow__m", tag: "td", content: a.content() }, { elem: "shadow__r", tag: "td", content: "&nbsp;" },] }, { tag: "tr", content: [{ elem: "shadow__lb", tag: "td", content: "&nbsp;" }, { elem: "shadow__b", tag: "td" }, { elem: "shadow__rb", tag: "td", content: "&nbsp;" }] }]) }, under: function (a) { a.tag("iframe").attr("frameborder", 0) } } }); (function () { BEM.HTML.decl({ block: "b-form-input", modName: "type", modVal: "password" }, { onElem: { input: function (a) { a.tag("input").attr("type", "password") } } }) }()); BEM.DOM.decl("b-form-checkbox", { onSetMod: { js: function () { var d = this, a = d.elem("checkbox"); try { var c = d.__self.doc[0].activeElement } catch (b) { } d.setMod("checked", a.attr("checked") ? "yes" : ""); c === a[0] && d.setMod("focused", "yes") }, focused: { yes: function () { if (this.isDisabled()) { return false } this.elem("checkbox").focus() }, "": function () { this.elem("checkbox").blur() } }, checked: function (b, a) { this.elem("checkbox").attr("checked", a == "yes"); this.elem("tick").attr("alt", ((a == "yes") ? " v" : "")); this.afterCurrentEvent(function () { this.trigger("change") }) }, disabled: function (b, a) { this.elem("checkbox").attr("disabled", a == "yes") } }, isDisabled: function () { return this.hasMod("disabled", "yes") }, isChecked: function () { return this.hasMod("checked", "yes") }, toggle: function () { this.toggleMod("checked", "yes", "") }, val: function (b) { var a = this.elem("checkbox"); return b == undefined ? a.val() : a.val(b) }, _onClick: function (a) { if (a.button) { return } this.isDisabled() || this.setMod("focused", "yes") }, _onChange: function (a) { a.target.checked ? this.setMod("checked", "yes") : this.delMod("checked") } }, { live: function () { this.liveBindTo("checkbox", "click", function (a) { this._onClick(a) }).liveBindTo("checkbox", "change", function (a) { this._onChange(a) }).liveBindTo("checkbox", "focusin focusout", function (a) { this.setMod("focused", a.type == "focusin" ? "yes" : "") }); return false } }); BEM.HTML.decl("b-form-checkbox", { onBlock: function (b) { var a = b.param("checkboxAttrs") || {}; b.js(true).mix(!b.mod("size") ? [{ block: "b-form-checkbox", mods: { size: "m" } }] : "").tag("span").tParam("checkboxAttrs", $.extend(a || {}, { id: b.param("id") || a.id || $.identify(), checked: b.mod("checked") ? "checked" : undefined, disabled: b.mod("disabled") ? "disabled" : undefined })).beforeContent({ elem: "inner", content: [{ elem: "checkbox", attrs: b.tParam("checkboxAttrs") }, { elem: "bg" }] }) }, onElem: { label: function (a) { a.tag("label").attr("for", a.tParam("checkboxAttrs").id) }, checkbox: function (a) { a.tag("input").attrs($.extend(a.attrs(), { type: "checkbox" })) }, bg: function (a) { a.tag("i").content({ elem: "tick" }) }, tick: function (a) { a.tag("i") }, inner: function (a) { a.tag("span") } } }); BEM.HTML.decl("b-link", { onBlock: function (a) { a.tag("a").attr("href", a.param("url")) } }); (function () { var c = null, f = history, e = ["page_type", "words", "regions", "page", "db"], d = ["page_type", "words", "regions", "db"], b = { db: "", page_type: "words", regions: "", words: "", filter: "all", sort: "cnt", type: "list", period: "monthly", map: "world", page: "1" }; function a() { this._route = Susanin.Route({ pattern: "(#!)(/)(<page_type>)", defaults: b }); this._params = {}; this.refresh() } a.prototype.isDefault = function () { var g = true; for (var h in this._params) { if (b[h] !== undefined && this._params[h] !== b[h]) { g = false } } return g }; a.prototype.set = function (g, h) { var i = g; if (typeof g === "string") { i = {}; i[g] = h } if (i.words !== undefined && i.words !== this._params.words) { this._params.page = b.page } this._params = this._sort($.extend(this._params, i)); this._refreshHash(); return this._params }; a.prototype.get = function (g) { if (typeof g === "string") { return this._params[g] } return $.extend({}, this._params) }; a.prototype.remove = function (h) { if (typeof h === "string") { h = [h] } if (h === undefined || h.forEach === undefined) { return } var i = this; function g(j) { delete i._params[j] } h.forEach(g) }; a.prototype.removePrivat = function (i) { var h = d; if (i === undefined) { i = this._params } i.page = 1; for (var g in i) { if (h.indexOf(g) === -1) { i[g] = b[g] } } return i }; a.prototype.refresh = function () { var i = document.location.href; var l = document.location.hash.replace(/\+/g, "%2B"); if (i.indexOf("ncrnd") !== -1) { i = i.replace(/\??ncrnd=\d+/, ""); this._replaceState(i) } if (i.indexOf("/#%21/") !== -1) { i = i.replace(/\/#%21\//, "/#!/"); l = l.replace(/#%21\//, "#!/"); this._replaceState(i) } var g = []; var h = this._route.match(l); var m = $.extend({}, this._params); for (var j in h) { if (this._params[j] !== h[j]) { g.push(j); m[j] = h[j] } if (typeof m[j] === "string") { m[j] = decodeURIComponent(m[j]) } } this._params = this._sort(m); return g }; a.prototype.getRoute = function () { var g = this._route.build(this._params); if (g.length > 0) { g = "#!/" + g } else { g = "" } if (document.location.hash !== g) { return g } return null }; a.prototype._refreshHash = function () { var g = this.getRoute(); if (g !== null) { this._pushState("/" + g) } }; a.prototype._pushState = function (g) { if (f !== undefined && (typeof f.pushState === "function")) { f.pushState(null, null, g) } else { document.location.hash = g.substr(2) } }; a.prototype._replaceState = function (g) { if (f !== undefined && (typeof f.replaceState === "function")) { f.replaceState(null, null, g) } }; a.prototype._sort = function (j) { var h = []; for (var g in j) { h.push(g) } h.sort(); function i(m, l) { m[l] = j[l]; return m } return h.reduce(i, {}) }; BEM.decl("i-route", { onSetMod: { js: function () { if (c === null) { c = this } this._initBlock(); this._addListeners(); this._refreshRetpath() } }, triggerError: function (g) { this.trigger("error", { hasError: g }) }, set: function () { var g = this._history.set.apply(this._history, arguments); this._refreshRetpath(); this.trigger("set"); return g }, get: function () { return this._history.get.apply(this._history, arguments) }, hasParams: function () { return !this._history.isDefault() }, remove: function () { return this._history.remove.apply(this._history, arguments) }, removePrivat: function () { return this._history.removePrivat.apply(this._history, arguments) }, load: function (h, g) { if (h) { h = this.set(h) } else { h = this.get() } this.triggerError(false); this._loader.load(h.page_type, h, g) }, _initBlock: function () { this._history = new a(); this._loader = BEM.blocks["i-content-loader"].getInstance(); this._$win = $(window); this._firstLoad = true }, _addListeners: function () { if (f !== undefined && typeof f.pushState === "function") { this._$win.on("popstate", this._onPopState.bind(this)) } else { this._$win.on("hashchange", this._onPopState.bind(this)) } this._loader.on("render", this._onRender, this) }, _onRender: function () { this._$win.scrollTop(0); this.trigger("render") }, _hasLoadParamsChanges: function (h) { function g(i, j) { if (e.indexOf(j) !== -1) { i = true } return i } return h.reduce(g, false) }, _onPopState: function () { var g = this._history.refresh(); this.trigger("refresh"); if (g.length > 0 && this._hasLoadParamsChanges(g)) { this.load() } this._refreshRetpath() }, _refreshRetpath: function () { BEM.blocks["i-global"].refreshRetpath() } }, { getInstance: function () { if (c === null) { c = BEM.create("i-route") } return c } }) })(); (function () { BEM.DOM.decl("b-phrase-link", { onSetMod: { js: function () { this._initBlock(); this._addListeners() } }, _initBlock: function () { this._iRoute = BEM.blocks["i-route"].getInstance() }, _addListeners: function () { this.bindTo("link", "click", this._onClick) }, _onClick: function (a) { if (a.button !== 0 || a.ctrlKey || a.metaKey || a.shiftKey || a.altKey) { return } a.preventDefault(); var b = { words: a.target.innerHTML }; this._iRoute.set(b); this._iRoute.load(b) } }) })(); (function () { BEM.DOM.decl("b-wordstat-content", { onSetMod: { js: function () { this._onResize = $.throttle(this._onResize, 100); this._addEvents() } }, destruct: function () { $(window).off("resize", this._onResize) }, _addEvents: function () { $(window).on("resize", this._onResize) }, _onResize: function () { BEM.channel("window").trigger("resize") } }) })(); (function () { BEM.DOM.decl("b-direct-promo", { onSetMod: { js: function () { this._iRoute = BEM.blocks["i-route"].getInstance(); this._addListeners() } }, _addListeners: function () { this._iRoute.on("render", this._onContentLoad, this) }, _onContentLoad: function () { var b = false; var a = this._iRoute.get("words"); if (a !== undefined) { b = !a.length } this._toggle(!b) }, _toggle: function (a) { if (a) { this.setMod("hidden", "") } else { this.setMod("hidden", "yes") } } }) })(); (function () { BEM.DOM.decl("b-regions-statistic", { onSetMod: { js: function () { this._initBlock(); this._drawMap(); this._refresh(); this._addListeners() } }, onElemSetMod: { "sort-link": { sorted: { desc: function () { this.delMod(this.elem("sort-link", "sorted", "desc"), "sorted") } } } }, destruct: function () { if (this._bMap) { this._bMap.destruct() } if (this._$map) { this._$map.remove() } this._typeRadio.un("change", this._onTypeChange, this); this._filterRadio.un("change", this._onFilterChange, this); this._iRoute.un("refresh", this._refresh, this); this._iRoute = null; this._typeRadio = null; this._filterRadio = null; this._$list = null; this._$map = null; this.__base.apply(this, arguments) }, _initBlock: function () { this._iRoute = BEM.blocks["i-route"].getInstance(); this._typeRadio = this.findBlockOn("view-type-radio", "b-form-radio"); this._filterRadio = this.findBlockOn("filter", "b-form-radio"); this._$list = this.elem("list"); this._$map = null }, _refresh: function () { this._show(this._refreshDOM().type) }, _refreshDOM: function () { var a = this._iRoute.get(); this._setType(a.type); this._setFilter(a.filter); this._setSort(a.sort); return a }, _setType: function (a) { this._typeRadio.val(a) }, _setFilter: function (a) { this._filterRadio.val(a) }, _setSort: function (a) { if (typeof a === "string") { a = this.findElem("sort-link", "field", a) } this.setMod(a, "sorted", "desc") }, _drawMap: function () { this._$map = $(BEMHTML.apply({ block: "b-regions-statistic", elem: "map-layout", content: { block: "b-map", mix: [{ block: "b-regions-statistic", elem: "map" }], js: { name: "map", data: this._getMapData(), thousands_sep: this.params.thousands_sep } } })); BEM.DOM.after(this.domElem.parents("body > *"), this._$map); this._bMap = this.findBlockInside(this._$map, "b-map") }, _getMapData: function () { return $.merge($.merge([], this.params.regions), this.params.cities).filter(function (a) { return a.am !== undefined }) }, _addListeners: function () { this._typeRadio.on("change", this._onTypeChange, this); this._filterRadio.on("change", this._onFilterChange, this); this.bindTo("sort-link", "click", this._onSortLinkClick); this._iRoute.on("refresh", this._refresh, this) }, _onSortLinkClick: function (c) { var b = $(c.delegateTarget), a = $(c.target), d = this.buildSelector("sort-title").slice(1); if (!a.hasClass(d)) { return } this._iRoute.set("sort", this._getSortBy(b)); this.setMod(b, "sorted", "desc"); this._show() }, _onFilterChange: function () { var a = this._filterRadio.val(); this._iRoute.set("filter", a); this._show() }, _onTypeChange: function () { var a = this._typeRadio.val(); this._iRoute.set("type", a); this._show(a) }, _getSortBy: function (a) { if (a === undefined || a.length === 0) { a = this.findElem("sort-link", "sorted", "desc") } if (a && a.length) { return this.getMod(a, "field") } }, _show: function (a) { if (a === undefined) { a = this._typeRadio.val() } var b = this.findElem(this._$map, "map"); if (a === "list") { this._$list.show(); b.css({ position: "absolute", left: -2000, top: -2000 }); this._refreshTable() } else { if (a === "map") { b.css({ position: "static", left: "auto", top: "auto" }); this._$list.hide(); this._bMap.refresh() } } }, _refreshTable: function () { var c = this, b = this._genData(); function a(e, d) { return { tag: "tr", block: "b-regions-statistic", elem: "tr", elemMods: (d % 2 === 0 ? { type: "even" } : null), content: [{ tag: "td", elem: "td", elemMods: { type: e.type }, content: e.name }, { tag: "td", elem: "td", elemMods: { type: "number" }, content: AmCharts.formatNumber(e.cnt, { precision: -1, decimalSeparator: ".", thousandsSeparator: c.params.thousands_sep }) }, { tag: "td", elem: "td", elemMods: { type: "number" }, content: AmCharts.formatNumber(e.pp, { precision: -1, decimalSeparator: ".", thousandsSeparator: c.params.thousands_sep }) + "%" }] } } BEM.DOM.update(this.findElem("data"), BEMHTML.apply(b.map(a))) }, _genData: function () { var d = this, a = this._filterRadio.val(), b = []; a = a === "all" ? ["regions", "cities"] : [a]; $.each(a, function (e, f) { $.merge(b, $.map(d.params[f], function (g) { return $.extend({}, g, { type: f }) })) }); var c = this._getSortBy(); b.sort(function (f, e) { return e[c] - f[c] }); return b } }) })(); BEM.DOM.decl({ name: "i-flashcookie", modName: "type", modVal: "iframe" }, { onSetMod: { js: function () { Lego.block["i-flashcookie"].call(this.domElem, this.params) } } }); (function () { var a = Lego.block["i-flashcookie"], b = function (f) { f || (f = {}); var c = this, d = f.host || "kiks.yandex", e = arguments.callee.load = function () { location.protocol.indexOf("https") < 0 && c.replaceWith($('<iframe src="http://' + d + location.host.match(/.*([.].*?):?\d{0,}$/)[1] + '/su/" class="' + c.attr("class") + '"/>')) }; c.hasClass("i-flashcookie_autoload_no") || e() }; Lego.block["i-flashcookie"] = function (d) { var c = this.hasClass("i-flashcookie_type_iframe") ? b : a; c && c.call(this, d) } })(); (function () { var a = Lego.block["i-flashcookie"], b = function (f) { f || (f = {}); var c = this, d = f.host || "kiks.yandex", e = arguments.callee.load = function () { var h = location.host.match(/.*([.].*?):?\d{0,}$/)[1], g = (new RegExp("\\.com\\" + h)).test(location.host) ? ".com" : ""; c.replaceWith($('<iframe src="//' + d + g + h + '/su/" tabindex="-1" aria-hidden="true" class="' + c.attr("class") + '"/>')) }; c.hasClass("i-flashcookie_autoload_no") || e() }; Lego.block["i-flashcookie"] = function (d) { var c = this.hasClass("i-flashcookie_type_iframe") ? b : a; c && c.call(this, d) } })(); (function (c, a) { BEM.DOM.decl("b-head-tabs", { onSetMod: { js: function () { a.block["b-head-tabs"].call(this, this.params) } } }); var b = a.block["b-head-tabs"] = function (u) { var x = this.findBlockOutside("b-page").findBlockInside("b-head-search"), h = x && x.findBlockInside("b-search"), w = h && h.findBlockInside("b-form-input"), o = BEM.blocks["i-global"].param("id"), j = (function () { var z = q(window.location.search), y = /^#.*(\?.+)$/.exec(window.location.hash); y && c.extend(z, q(y[1])); return z }()), i = { www: 505, search: 521, images: 526 }[o] || 527, e = { market: { cvredirect: 2, clid: i } }, m = { news: { rpt: "nnews2", grhow: "clutop" }, haber: { rpt: "nnews2", grhow: "clutop" }, yaca: { rpt: "rs2" }, market: { cvredirect: 2, clid: i }, blogs: { ft: "blog" }, people: { filter: "people" }, appsearch: { filter: "mobile_apps" } }, v = (function () { var y = {}; c.each(["news", "yaca", "market", "blogs", "maps", "adresa", "video", "fotki", "slovari", "auto", "images", "music", "www", "aile", "yandex", "haber", "gorsel"], function () { y[this] = ["family"] }); return y })(), r = (function () { var y = {}; c.each(["news", "yaca", "market", "blogs", "maps", "adresa", "video", "fotki", "slovari", "auto", "images", "music", "www", "aile", "yandex", "haber", "gorsel"], function () { y[this] = ["noreask", "family"] }); return y })(), s = this.domElem.find(':not(strong)>a.b-head-tabs__link:not([href$="/all"])').map(function () { var z = this.host.split(".")[0], A = q(this.search), C = A.clid, y = decodeURIComponent(c.param(c.extend(A, f(z, C)), true)), D = this.pathname.replace(/^\/?(.*)/, "/$1"), B = b.getHostToUrlMap()[z]; B && D.indexOf((B.charAt(0) === "/" ? "" : "/") + B) > -1 && (B = ""); D = D.slice(1); if (D.length) { D = D.replace(/\/*$/, "/") } return { node: this, clid: C, toServiceId: z, path: B, pathname: D, host: this.host, searchHost: b.getHostMap()[z], noSearchParamsUrl: y ? "?" + y : "", searchParams: c.extend(A, p(z, C)) } }).filter(function () { return typeof this.path !== "undefined" }), n, t = h && h.elem("advanced")[0]; if (t && t.pathname) { var g = q(t.search), l = t.pathname.replace(/^\/?(.*)/, "$1"); g.text = ""; s.push({ node: t, clid: g.clid, toServiceId: o, path: "", pathname: l, host: t.host, noSearchParamsUrl: "?" + c.param(g, true), searchParams: g }) } (function () { var y = w && c.trim(w.val()) || u["default"]; if (n != y) { n = y; c.each(s, function () { y && (this.searchParams[b.getSearchParamName(this.toServiceId)] = y); this.node.href = [this.node.protocol + "/", y && this.searchHost ? this.searchHost : this.host, this.pathname + (y ? this.path + "?" + c.param(this.searchParams, true) : this.noSearchParamsUrl)].join("/") }) } setTimeout(arguments.callee, 200) })(); function f(y, z) { var A = e[y] || {}; !A.clid && z && (A.clid = z); c.each(v[y] || [], function () { j[this] && (A[this] = j[this]) }); return A } function p(z, A) { var C = [].concat(r[z]), y = z + o; (y == "imageswww" || y == "wwwimages") && C.push("site"); var B = m[z] || {}; c.each(C, function () { j[this] && (B[this] = j[this]) }); !B.clid && A && z !== "www" && (B.clid = A); return B } function q(y) { var z = {}; if (!y) { return z } c.each(y.substr(1).split("&"), function (D) { var E = this.split("="), A = E[0], C = E[1]; if (A) { if (z.hasOwnProperty(A)) { var B = z[A]; c.isArray(B) ? B.push(C) : z[A] = [B, C] } else { z[A] = C } } }); return c.decodeURIComponent !== undefined ? d(z) : z } function d(z) { var y = ["site"]; c.each(z, function (A, B) { if (c.inArray(A, y) > -1) { z[A] = c.isArray(B) ? B.map(function (C) { return c.decodeURIComponent(C) }) : c.decodeURIComponent(B) } }); return z } }; c.extend(b, { getHostToUrlMap: function () { var d = { www: "yandsearch", market: "search.xml", maps: "", music: "#!/search", video: "search" }; d.translate = d.ceviri = d.harita = d.maps; d.blogs = d.adresa = d.fotki = d.slovari = d.auto = d.rabota = d.market; d.appsearch = d.people = d.news = d.yaca = d.images = d.gorsel = d.haber = d.yandex = d.www; d.afisha = d.pogoda = d.hava = d.video; return d }, getHostMap: function () { return {} }, getSearchParamName: function (d) { switch (d) { case "pogoda": case "hava": return "request"; default: return "text" } } }) })(jQuery, window.Lego); BEM.decl("i-statface", { onSetMod: { js: function () { this._data = {}; this._needSend = false; this.hasMod("send", "manual") || $(window).unload(this.changeThis(this.send)) } }, set: function (a, c) { this._needSend = true; var b = this._data; if (typeof a == "object") { $.each(a, function (d, e) { b[d] = e }) } else { b[a] = c } return this }, reset: function () { var a = this; arguments[0] ? $.each(arguments, function (c, b) { delete a._data[b] }) : this._data = {}; $.isEmptyObject(this._data) && (this._needSend = false); return this }, serialize: function () { var a = this; return $.map(a.params.keys, function (b) { return a._data[b] }).join(".") + (a.params.customKeys ? $.map(a.params.customKeys, function (b) { var c = a._data[b]; return "/" + b + "=" + (c == undefined ? "" : c) }).join("") : "") }, send: function (b) { if (this._needSend) { var c = this.params, a = ["//", c.host, "/", c.path, "/dtype=stred", "/pid=", c.pid, "/cid=", c.cid, "/path=", this.serialize(), "/*data=", encodeURIComponent("url=" + encodeURIComponent(c.url))].join(""); c.path == "click" ? document.createElement("IMG").src = a : $.ajax({ type: "GET", url: a, data: null, complete: b || $.noop, dataType: "script", timeout: 500 }); this._needSend = false } return this }, getDefaultParams: function () { return { host: "clck.yandex.ru", path: "jclck", url: location.href } } }); (function () { BEM.DOM.decl("b-region-select", { onSetMod: { js: function () { this._initBlock(); this._addListeners() } }, destruct: function () { if (this._bPopup) { this._bPopup.destruct() } this._bLink.un("click", this._onLinkClick, this); this.__base.apply(this, arguments) }, show: function () { this.domElem.show() }, hide: function () { this.domElem.hide() }, val: function (a, b) { if (a !== undefined) { if (this._setIds(a, b)) { this._refreshNames(a) } } else { return this._regionsIds || "" } }, getNames: function () { return this._regionsNames }, _initBlock: function () { this._bPopup = this.findBlockOn("popup", "b-popupa"); this._bLink = this.findBlockInside("link", "b-link"); this._frameSrc = null; this._iframeLayout = this.elem("iframe-layout"); this._iframe = this.elem("iframe")[0]; this._regionsIds = ""; this._regionsNames = ""; this._$link = this._bLink.elem("inner"); var a = this; window.setRegions = function () { a._setRegions.apply(a, arguments) } }, _addListeners: function () { this._bLink.on("click", this._onLinkClick, this) }, _onLinkClick: function () { if (this._frameSrc === null) { this._loadIFrame() } var a = this; this.afterCurrentEvent(function () { a._bPopup.show(a._$link) }) }, _loadIFrame: function (a) { var b = this._getIFrameSrc(a); if (this._frameSrc !== b) { this._iframe.src = this._frameSrc = b } }, _setRegions: function (a, b) { this._setIds(a); if (this._regionsIds === "") { b = "" } this._regionsNames = b; this._refreshLink(b); this._bPopup.hide() }, _setIds: function (a, b) { if (a === null || a === undefined || a === "0") { a = "" } else { a = a.replace(/,$/, "") } if (this._regionsIds !== a) { this._regionsIds = a; if (b !== true) { this.trigger("change") } return true } return false }, _refreshLink: function (a) { if (a === undefined || a === "") { a = BEM.I18N("b-region-select", "All regions") } this._$link.html(a).attr("title", a) }, _getIFrameSrc: function (a) { var b = "/stat/regions_tree"; if (a === undefined) { a = this._regionsIds } if (a !== null && a !== undefined && a !== "") { b += "?geo=" + a } return b }, _refreshNames: function (a) { this._loadIFrame(a); $(this._iframe).one("load", this._onIFrameLoad.bind(this)) }, _onIFrameLoad: function () { var a = $(this._iframe.contentDocument).find("form"); a.trigger("click"); a.find('input[type="button"]').trigger("click") } }) })(); (function () { BEM.DOM.decl("b-search", { onSetMod: { js: function () { this._initBlock(); this._addListeners(); this._refreshDOM(); this.afterCurrentEvent(function () { var a = this._iRoute.get(); if (!this._iRoute.hasParams() && this.params.defaults) { this._iRoute.set(this.params.defaults) } else { if (a.page_type === "words" && a.words || a.page_type !== "words") { this._iRoute.load() } } }, this) } }, _initBlock: function () { this._iRoute = BEM.blocks["i-route"].getInstance(); this._wordsInput = this.findBlockInside("search", "b-form-input"); this._bRegionSelect = this.findBlockOn("region-select", "b-region-select"); this._typeRadio = this.elem("type"); this._iRoute.on("error", this._onError, this) }, _refreshDOM: function () { var a = this._iRoute.get(); this._setPageType(a.page_type); this._setWords(a.words); if (this._showRegions(a.page_type)) { this._bRegionSelect.val(a.regions, true) } }, _setPageType: function (a) { this._typeRadio.filter('[value="' + a + '"]').prop("checked", true) }, _getPageType: function () { return this._typeRadio.filter(":checked").val() }, _setWords: function (a) { this._wordsInput.val(a) }, _showRegions: function (b) { var a = false; if (this._hasRegions(b) === true) { this._bRegionSelect.show(); a = true } else { this._bRegionSelect.hide(); a = false } return a }, _hasRegions: function (a) { var b = this._typeRadio.filter('[value="' + a + '"]'); return this.hasMod(b, "with-regions", "yes") }, _addListeners: function () { this.domElem.on("submit", this._onSubmit.bind(this)); this.bindTo("type", "change", this._onChange); this._iRoute.on("refresh", this._refreshDOM, this); this._iRoute.on("set", this._refreshDOM, this); this._iRoute.on("load", this._onLoad, this); this._bRegionSelect.on("change", this._onChange, this) }, _onSubmit: function (a) { a.preventDefault(); this._iRoute.load(this._getParamsFromDOM()) }, _onChange: function () { this._iRoute.removePrivat(); this._iRoute.load(this._getParamsFromDOM()) }, _getParamsFromDOM: function () { var a = {}; a.page_type = this._getPageType(); if (this._showRegions(a.page_type)) { a.regions = this._bRegionSelect.val() } else { a.regions = "" } a.words = this._wordsInput.val(); return a }, _onLoad: function () { this._wordsInput.setMod("focused", "yes") }, _onError: function (b, a) { this.toggleMod("error", "yes", "", a.hasError) } }) })(); BEM.DOM.decl("b-search__input", { onSetMod: { js: function () { Lego.block["b-search__input"].call(this.domElem, this.params) } } }); (function (b, a) { a.block["b-search__input"] = function (e) { var f = this; var c = b.extend({ focus: false, shortcut: false }, e); if (c.focus || f.data("lego:focused")) { if (!f.data("lego:focused")) { var d = document.activeElement; (d && "input textarea".indexOf(d.tagName.toLowerCase()) > -1) || setTimeout(function () { f.focus(); if (f[0].createTextRange) { var h = f[0].createTextRange(), g = f.val().length; h.collapse(); h.moveStart("character", g); h.moveEnd("character", g); h.select() } f.data("lego:focused", true) }, 0) } if (!!window.history.length && !b.trim(f.val())) { f.bind("keydown", function (g) { if (g.keyCode == 8) { if (!b.trim(f.val())) { return window.history.back() } } f.unbind("keydown", arguments.callee) }) } f.blur(function () { f.data("lego:focused", false) }).focus(function () { f.data("lego:focused", true) }) } if (c.shortcut) { b(document).keydown(function (g) { if (!g.ctrlKey || b(g.target).is("input, textarea")) { return } if (g.keyCode == 38) { f.focus().select() } }) } } })(jQuery, window.Lego); BEM.DOM.decl({ name: "b-form-input", modName: "has-clear", modVal: "yes" }, { onSetMod: { js: function () { this.__base.apply(this, arguments); this.on("change", this._updateClear)._updateClear() } }, _onClearClick: function () { this.trigger("clear"); this.removeInsets && this.removeInsets(); this.val("").setMod("focused", "yes") }, _updateClear: function () { return this.toggleMod(this.elem("clear"), "visibility", "visible", "", !!this._val) } }, { live: function () { this.__base(); this.liveBindTo("clear", "leftclick", function () { this._onClearClick() }); return false } }); (function () { var a = {}; BEM.decl("i-request", { onSetMod: { js: function () { this._preventCache = false } }, get: function (c, e, b, d) { if (!$.isFunction(b)) { d = b; b = this.params.onError } this._get(c, e, b, $.extend({}, this.params, d)) }, _get: function (e, g, d, f) { var c = this._buildCacheKey(e, f), b = a[f.cacheGroup]; f.cache && b && c in b.data ? this.afterCurrentEvent(function () { g.call(this.params.callbackCtx, b.data[c]) }, this) : this._do(e, g, d, f) }, _do: function (c, e, b, d) { }, _onSuccess: function (c, b, d, e) { e.cache && !this._preventCache && this.putToCache(e, c, d); this._preventCache = false }, _buildCacheKey: function (b, c) { return typeof b == "string" ? b : $.param(b) }, putToCache: function (f, d, e) { var b = a[f.cacheGroup] || (a[f.cacheGroup] = { keys: [], data: {} }); if (b.keys.length >= f.cacheSize) { delete b.data[b.keys.shift()] } var c = this._buildCacheKey(d, f); b.data[c] = e; b.keys.push(c) }, dropCache: function () { delete a[this.params.cacheGroup] }, getDefaultParams: function () { return { cache: false, cacheGroup: "default", cacheSize: 100, callbackCtx: this } } }) })(); BEM.decl({ block: "i-request_type_ajax", baseBlock: "i-request" }, { onSetMod: { js: function () { this.__base(); this._requestNumber = this._number = this._preventNumber = this._retryCount = 0 } }, _get: function (b, d, a, c) { this._number++; this._requestNumber++; this._retryCount = c.retryCount; this.__base.apply(this, arguments) }, _do: function (d, h, f, c) { var g = this; if (g._number > g._preventNumber) { var i = arguments, b = { data: c.data ? $.extend({}, c.data, d) : d }, e = g._wrapCallback(function (m, j, l) { g._onSuccess(g._buildCacheKey(d, c), d, m[0], c); g._allowCallback(j, l) && h.apply(c.callbackCtx, m) }), a = g._wrapCallback(function (m, j, l) { g._allowCallback(j, l) && (g._retryCount-- > 0 ? setTimeout(function () { g._do.apply(g, i) }, c.retryInterval) : f && f.apply(c.callbackCtx, m)) }); $.each(["url", "dataType", "timeout", "type", "jsonp", "jsonpCallback"].concat(c.paramsToSettings || []), function (l, j) { b[j] = c[j] }); $.ajax(b).done(e).fail(a) } }, _wrapCallback: function (c) { var a = this._requestNumber, b = this._number; return function (d) { d !== null && c(arguments, a, b) } }, _allowCallback: function (a, b) { return b > this._preventNumber && this._requestNumber == a }, _buildCacheKey: function (a, b) { return typeof a == "string" ? a : this.__base(a) + b.url }, abort: function () { this._preventNumber = ++this._number }, preventCallbacks: function () { this.abort() }, getDefaultParams: function () { return $.extend(this.__base(), { cache: true, type: "GET", dataType: "jsonp", timeout: 20000, retryCount: 0, retryInterval: 2000 }) } }); (function () { var c = false, a = false, b = []; BEM.decl("i-https", {}, { isHTTPSSupported: function () { return a }, enableHTTPS: function () { a = true; var d; while (d = b.shift()) { d() } }, getHTTPSHost: function () { var d = BEM.blocks["i-global"].param("lego-static-host"); if (d) { if (d.indexOf("https:") == 0) { return d } if (d.indexOf("http:") == 0) { return "https" + d.substr(4) } if (d.indexOf("//") == 0) { return "https:" + d } else { return "https://" + location.host + d } } else { return "https://" + location.host } }, checkForHTTPS: function (d) { if (a) { return d() } b.push(d); if (c) { return } c = true; BEM.create("i-request_type_ajax", { url: this.getHTTPSHost() + "/blocks-common/i-https/check-https.js", dataType: "script", cache: true, paramsToSettings: ["cache"] }).get({}, function () { }, false, this) } }) })(); (function () { var a = BEM.blocks["i-https"]; BEM.DOM.decl("b-head-userinfo", { onSetMod: { js: function () { var b = this; a.checkForHTTPS(function () { b._onHttps() }) } }, _onHttps: function () { var b = this.findBlockInside(this.elem("exit"), "b-link"), c = b && (b = b.domElem, b.attr("href")); if (c && a.isHTTPSSupported()) { b.attr("href", c.replace(/^(https?:)?/, "https:")) } } }) }()); (function () { BEM.HTML.decl({ block: "b-domik", modName: "position", modType: "top" }, { onBlock: function (a) { a.mod("position", "top") } }) })(); BEM.decl("i-common__string", {}, { cleverSubstring: (function () { var a = "…"; return function (d, b, c) { return (d.length > b + c) ? d.substring(0, b - 1) + a : d } })(), escapeHTML: (function () { var b = { "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#39;" }, a = function (c) { return b[c] || c }; return function (c) { return String(c).replace(/&(?!\w+;)|[<>"']/g, function (d) { return b[d] || d }) } })(), escapeRegExp: function (a) { return a.replace(/([.?*+^$[\]\\(){}|-])/g, "\\$1") }, highlight: function (j, b) { if (!$.isArray(b)) { return j } var c = [], l = 0, f, e = b.sort(function (n, m) { return n[0] - m[0] }), d = [], i = "?", g = ~j.indexOf(i), a = function () { var n, m = /\&#\d+;/gi; while ((n = m.exec(j))) { d.push(n[0]); j = j.replace(n[0], i) } }, h = function (m) { if (g) { return m } while (~m.indexOf(i) && d.length) { m = m.replace(i, d[0]); d.shift() } return m }; !g && a(); e.forEach(function (m) { f = (l > m[0]) ? l : m[0]; c.push({ tag: "span", elem: "span", content: h(j.slice(l, f)) }); c.push({ tag: "em", elem: "em", content: h(j.slice(f, l = m[1])) }) }, this); c.push({ tag: "span", elem: "span", content: h(j.slice(l)) }); return c } }); BEM.decl("i-user-services", {}, { get: function (a) { this._data ? a(this._data) : this._get(a) }, getApiUrl: function () { return BEM.blocks["i-global"].param("pass-host") + "/services?callback=?" }, _callbacks: [], _get: function (a) { var b = this; b._callbacks.push(a); b._callbacks.length == 1 && $.getJSON(b.getApiUrl(), { locale: BEM.blocks["i-global"].param("lang"), login: "yes", "current-login": BEM.blocks["i-global"].param("login"), yu: $.cookie("yandexuid") }, function (c) { b._data = c; $.each(b._callbacks, function () { this(c) }); b._callbacks.length = 0 }) } }); (function () { BEM.decl("i-user-services", {}, { get: function (a) { a({}) } }) })(); (function (d, a, b, c) { b.DOM.decl("b-head-user", { onSetMod: { js: function () { var e = this; this._maxLength = parseInt(this.params.maxlength, 10); this._maxLengthRel = parseInt(this.params["maxlength-relative"], 10); if (c.param("login") !== "" || c.param("displayName")) { b.blocks["i-user-services"].get(function (f) { e.buildHtml(f) }) } } }, getDefaultParams: function () { return { maxlength: 20, "maxlength-relative": 3 } }, getUserItems: function (g) { var f = g.displayName && g.displayName.social ? [{ name: b.I18N("b-head-user", "profiles"), url: c.param("social-host") }] : [{ name: b.I18N("b-head-user", "passport"), url: c.param("passport-host") + "/passport?mode=passport" }, { name: b.I18N("b-head-user", "change-password"), url: c.param("passport-host") + "/passport?mode=changepass&retpath=" + encodeURIComponent(c.param("retpath")) + "/" }]; var e = ""; d.each(f, function (j, h) { e += '<li class="b-menu__layout-vert-cell' + (j == f.length - 1 ? " b-menu__layout-vert-cell_position_last" : "") + '"><div class="b-menu__item"><a class="b-link b-head-user__link" href="' + h.url + '">' + h.name + "</a></div></li>" }); return e }, buildHtml: function (i) { if (!i || !i.services) { return } var l = this, f = i.displayName && i.displayName.social, n = b.blocks["i-common__string"].cleverSubstring(d("<div/>").text(l.getUserLogin(i)).html(), l._maxLength, l._maxLengthRel), h = this.findBlocksOn("i-ctr") && c.param("show-counters"), g, m, e = "", j; g = f ? '<b class="b-user b-user_social_yes"><span class="b-user__provider-ico" style="background:url(//static.yandex.st/social/current/icons/16/' + f.provider + '.png)"></span>' + n + "</b>" : '<b class="b-user"><b class="b-user__first-letter">' + n.substring(0, 1) + "</b>" + n.substring(1) + "</b>"; if (l.params.href) { e = l.params.href } else { if (f) { e = c.param("social-host") } else { if (/\.com(.tr)?$/.test(location.hostname)) { e = c.param("passport-host") } else { e = c.param("i-host") || "https://i.yandex.ru" } } } m = '<a class="b-link b-link_pseudo_yes ' + (h ? "i-ctr i-ctr_click_b-link " : "") + "i-bem\" onclick=\"return {'b-link':{}" + (h ? ",'i-ctr':{stat:'head-login'}" : "") + '}"' + (!f && l.hasMod("type", "com") ? "" : ' href="' + e + '"') + '><span class="b-link__inner">' + g + "</span></a>"; j = '<div class="b-dropdowna b-dropdowna i-bem" onclick="return {\'b-dropdowna\':{}}"><span class="b-dropdowna__switcher">' + m + '</span><div class="i-popup i-popup_autoclosable_yes i-popup i-bem" onclick="return {\'i-popup\':{}}"><div class="i-popup__content"><div class="i-popup__under b-popupa__under"></div><div class="b-popupa b-popupa_theme_ffffff b-popupa_direction_down i-bem b-dropdowna__popup" onclick="return {\'b-popupa\':{}}"><i class="b-popupa__shadow"></i><i class="b-popupa__tail"><i class="b-popupa__tail-i"></i></i><table cellpadding="0" cellspasing="0" class="b-popupa__wrap"><tr><td class="b-popupa__wrap-cell"><div class="b-popupa__content"><div class="b-menu b-menu_layout_vert b-dropdowna__menu"><ul class="b-menu__layout-vert">'; f && l.setMod("social", "yes"); d.each(i.services, function (o) { j += '<li class="b-menu__layout-vert-cell' + (o === 0 ? " b-menu__layout-vert-cell_position_first" : "") + '"><div class="b-menu__item">'; if (c.param("id") == this.id && c.param("index")) { j += "<strong>" + this.title + "</strong>" } else { j += '<a class="b-link b-head-user__link" href="' + this.url + '" onmousedown="Lego.ch(\'' + c.param("id") + ".login.myservices." + this.id + "',this)\">" + this.title + "</a>" } j += "</div></li>" }); if (i.services.length) { j += '<li class="b-menu__layout-vert-separator"><i class="b-menu__separator"></i></li>' } j += l.getUserItems(i); j += "</ul></div></div></td></tr></table></div></div></div></div>"; b.DOM.update(l.findBlockInside("b-user").domElem, j) }, getUserLogin: function (f) { var e = c.param("displayName"); return e && e.social && e.name || f.displayName && f.displayName.name || c.param("login") || f.login } }) })(jQuery, window.Lego, BEM, BEM.blocks["i-global"]); (function () { var a = []; function b() { Lego.c("lego-ctr/p=show(" + d(f()) + ")"); a = [] } function e(h) { var g = h.split("-"); return g.join("(") + new Array(g.length).join(")") } function f() { var g = []; for (var n = 0, o = a.length; n < o; n++) { var q = a[n].split("-"), m = g; for (var l = 0, p = q.length - 1; l < p; l++) { var h = q[l]; if (!m[h]) { m[h] = []; m.push(h) } m = m[h] } m.push(q[q.length - 1]) } return g } function d(h) { var g = "", n = [], j = []; for (var m = 0; m < h.length; m++) { var l = h[m]; h[l] ? n.push(l + "(" + d(h[l]) + ")") : j.push(l) } n.length && j.push(n.join("")); return j.join(",") } function c(g) { var h = "-" + BEM.blocks["i-global"].param("id"); return g.indexOf(h, g.length - h.length) === -1 ? g += h : g } BEM.DOM.decl("i-ctr", { onSetMod: { js: function () { this.setupShow(); this.setupClick() } }, setupShow: function () { var g = c(this.params.stat); a.push(g); a.length == 1 && this.afterCurrentEvent(function () { b() }) }, setupClick: function () { var g = this.getMod("click"); g ? this.findBlockOn(g).on("click", function () { this.sendClick() }, this) : this.bindTo("mousedown", this.sendClick) }, sendClick: function (g) { Lego.c("lego-ctr/p=click(" + e(c(this.params.stat)) + ")", g && g.target && g.target.tagName.toUpperCase() === "A" && g.target) } }) })(); BEM.DOM.decl("b-lang-switcher", { onSetMod: { js: function () { this.elem("flag").each(function (a, b) { new Image().src = $(b).css("backgroundImage").match(/url\(["']?([^'")]+)["']?\)/)[1] }) } } }); BEM.DOM.decl("b-menu", { onElemSetMod: { trigger: { state: function (b, c, a) { this.toggleMod(this.findElem(b.closest(this.buildSelector("layout-vert-cell")), "item-content").eq(0), "visibility", "visible", a == "opened").trigger("trigger", { domElem: b, state: a }) } }, item: { state: { current: function (c) { var d = this, a = d.__self.getName(), b = d.elem("item", "state", "current").filter(function () { return $(this).closest(d.buildSelector()).bem(a) === d }); d.findElem(c.parents(d.buildSelector("item-content")).prev(d.buildSelector("item")), "trigger").each(function () { d.setMod($(this), "state", "opened") }); d.delMod(b, "state").trigger("current", { prev: b, current: c }) } } } }, onTriggerClick: function (a) { a.preventDefault(); this.toggleMod(a.data.domElem, "state", "opened") }, onItemSelectorClick: function (b) { var a = this._getItemByEvent(b); this.hasMod(a, "state", "disabled") || this.setMod(a, "state", "current") }, _getItemByEvent: function (a) { return a.data.domElem.closest(this.buildSelector("item")) } }, { live: function () { this.liveBindTo("trigger", "leftclick", function (a) { this.onTriggerClick(a) }).liveBindTo("item-selector", "leftclick", function (a) { this.onItemSelectorClick(a) }) } }); (function () { var a = 10; BEM.DOM.decl({ name: "b-popupa", modName: "direction", modVal: "fixed" }, { _pos: function () { var c = this._getUnder(), e = -c.domElem.outerWidth() / 2, d = -c.domElem.outerHeight() / 2, b = this.__self.getWindowSize(); c.show({ left: "50%", top: "50%", marginLeft: b.width / 2 - a + e < 0 ? -b.width / 2 + a : e, marginTop: b.height / 2 - a + d < 0 ? -b.height / 2 + a : d }); return this } }) })(); (function () { BEM.DOM.decl("b-map", { onSetMod: { js: function () { this._initBlock(); this._setParams(); this._addListeners(); this._show() } }, destruct: function () { if (this._map) { this._map.removeListener(this._map, "dataUpdated", this._onDataUpdated); this._map.clearMap(); this._map = null } this._iRoute.un("refresh", this.refresh, this); this.__base.apply(this, arguments) }, refresh: function () { var a = this._getDataProvider(); if (a !== null) { this._map.dataProvider = a; this._map.validateData() } }, _initBlock: function () { this._iRoute = BEM.blocks["i-route"].getInstance(); this._map = new AmCharts.AmMap(); this._countryDataProviders = { RU: { mapVar: AmCharts.maps.russiaLow, WSID: "ru" }, UA: { mapVar: AmCharts.maps.ukraineLow, WSID: "ua" }, TR: { mapVar: AmCharts.maps.turkeyLow, WSID: "tr" } }; this._WSID = null; this._worldDataProvider = { mapVar: AmCharts.maps.worldLow, WSID: "world" }; var a = ["M16", "30.534c8.027", "0", "14.534-6.507", "14.534-14.534c0-8.027-6.507-14.534-14.534-14.534C7.973", "1.466", "1.466", "7.973", "1.466", "16C1.466", "24.027", "7.973", "30.534", "16", "30.534zM18.335", "6.276l3.536", "3.538l-6.187", "6.187l6.187", "6.187l-3.536", "3.537l-9.723-9.724L18.335", "6.276z"]; this._backButton = { svgPath: a.join(","), label: BEM.I18N("b-map", "Back to countries map"), rollOverColor: "#cc0000", labelRollOverColor: "#cc0000", linkToObject: this._worldDataProvider, left: 30, bottom: 30, labelFontSize: 15 }; this._numberFormatter = { precision: -1, decimalSeparator: ".", thousandsSeparator: this.params.thousands_sep } }, _setParams: function () { this._setMapParams(); this._setProvidersParams(); this._map.dataProvider = this._getDataProvider(); this._onDataUpdated = this._onDataUpdated.bind(this) }, _setProvidersParams: function () { for (var a in this._countryDataProviders) { this._countryDataProviders[a].images = [this._backButton]; this._countryDataProviders[a].areas = this._genAreas("^" + a + "_[A-Z]+$") } this._worldDataProvider.images = []; this._worldDataProvider.areas = this._genAreas("^[A-Z]+$", true) }, _setMapParams: function () { var a = this._map; a.pathToImages = "/js/ammap/images/"; a.colorSteps = 100; a.zoomOnDoubleClick = false; a.numberFormatter = this._numberFormatter; a.mouseWheelZoomEnabled = true; a.balloon.adjustBorderColor = true; a.balloon.fontSize = 15; a.balloon.maxWidth = 600; a.areasSettings = { color: "#f5f500", colorSolid: "#f50000", balloonText: "[[title]]: [[customData]];<br />" + BEM.I18N("b-map", "popularity") + ": [[value]]%" } }, _getDataProvider: function () { var b = this._iRoute.get("map"), a = this._worldDataProvider; if (b !== undefined && b !== "world") { a = this._countryDataProviders[b.toUpperCase()] } if (this._WSID !== b) { this._WSID = b; return a } return null }, _addListeners: function () { this._map.addListener("dataUpdated", this._onDataUpdated); this._iRoute.on("refresh", this.refresh, this) }, _onDataUpdated: function (a) { this._WSID = a.chart.dataProvider.WSID; this._iRoute.set("map", this._WSID) }, _show: function () { this._map.write(this.params.name) }, _genAreas: function (a, b) { var e = this, c = $.grep(this.params.data, function (f) { return f.cnt > 10 && f.am.match(a) }); function d(g) { var f = null; if (b) { f = e._countryDataProviders[g.am] || null } return { id: g.am, title: g.name, value: g.pp, customData: AmCharts.formatNumber(g.cnt, e._numberFormatter), linkToObject: f, url: null } } return c.map(d) } }, { live: true }) })(); BEM.HTML.decl({ name: "b-form-button", modName: "type", modVal: "simple" }, { onBlock: function (a) { a.tag(a.param("url") ? "a" : "span").attrs({ href: a.param("url"), target: a.param("target") }).mods({ size: a.mod("size") || "s", theme: a.mod("theme") || (a.mod("type") + "-grey") }).content({ tag: "span", elem: "simple", content: a.content() }, true).afterContent(a.param("type") ? { elem: "input", attrs: { value: a.param("value") || "", type: a.param("type"), name: a.param("name"), disabled: a.mod("disabled") && "disabled" } } : { elem: "click" }).js(true).stop() } }); BEM.DOM.decl("b-form-switch", { onSetMod: { js: function () { var d = this, a = this.elem("input").filter(":checked"); try { var c = d.__self.doc[0].activeElement } catch (b) { } this[a.is(this.buildSelector("input-right")) ? "right" : "left"](); c && this.elem("input").each(function () { c === this && d.setMod("focused", "yes"); return false }); this.bindTo("button", "click", function () { return false }); this.afterCurrentEvent(function () { this.setMod("animation", "yes") }) }, focused: { yes: function () { this._focusChecked() } } }, onElemSetMod: { body: { position: function (d, c, e) { var b = this.elem("input-" + e), a = this.hasMod("focused", "yes"); b.attr("checked", true); a && b.focus(); this.delMod(this.elem("label", "active", "yes"), "active").setMod(this.elem("label", "position", e), "active", "yes"); e && this.trigger("change", { state: e }); a && this.setMod("focused", "yes") } } }, val: function (b) { if (typeof b == "undefined") { return this.elem("input").filter(":checked").val() } else { var a = this.elem("input").filter(function () { return this.value === b }); a.length && this[a.is(this.buildSelector("input-right")) ? "right" : "left"](); return this } }, position: function (a) { if (typeof a == "undefined") { return this.getMod(this.elem("body"), "position") } else { this.setMod(this.elem("body"), "position", a) } return this }, left: function () { this.setMod(this.elem("body"), "position", "left"); return this }, right: function () { this.setMod(this.elem("body"), "position", "right"); return this }, toggle: function () { this.toggleMod(this.elem("body"), "position", "right", "left"); return this }, isDisabled: function () { return this.hasMod("disabled", "yes") }, _getXFromEvent: function (a) { return typeof a.clientX == "number" ? a.clientX : a.originalEvent.touches[0].clientX }, _focusChecked: function () { this.elem("input").filter(":checked").focus() }, _onLeftInputClick: function () { if (this.isDisabled()) { return } this.left() }, _onRightInputClick: function () { if (this.isDisabled()) { return } this.right() } }, { live: function () { var a = this._root = $("onmousedown" in window ? window : document); this.liveBindTo("input", "keydown", function (b) { if (b.which == 32 && (!this._lastSpacePress || new Date - this._lastSpacePress > 300)) { this._lastSpacePress = +new Date; this.toggle() } }).liveBindTo("input", "keyup", function (b) { if (b.which == 32) { this._lastSpacePress = false } }).liveBindTo("input", "focusin", function () { this.hasMod("disabled", "yes") || this.setMod("focused", "yes") }).liveBindTo("input", "focusout", function () { this._isMouseDown || this.hasMod("disabled", "yes") || this.delMod("focused") }).liveBindTo("input-left", "change", function () { this._onLeftInputClick() }).liveBindTo("input-right", "change", function () { this._onRightInputClick() }).liveBindTo("body", "click", function () { this._onBodyClick() }).liveBindTo("button", "mousedown touchstart", function (b) { if (this.isDisabled() || b.which != 1) { return } this.setMod("pressed", "yes")._onTouchStart(b) }).liveBindTo("mousedown", function () { if (this.hasMod("disabled", "yes")) { return } this.setMod("focused", "yes"); this._isMouseDown = true; this.bindTo(a, "mouseup", function () { this.unbindFrom(a, "mouseup"); this._focusChecked(); this._isMouseDown = false }) }); return false }, BORDER: 1 }); BEM.DOM.decl({ name: "b-form-switch", modName: "type", modVal: "toggle" }, { onSetMod: { js: function (a, c) { this.__base(a, c); this._updateDimmensions(); var d = this.elem("label"), b = d.eq(0).attr("for"); d.eq(0).attr("for", d.eq(1).attr("for")); d.eq(1).attr("for", b); this.elem("label", "position", "left").before(this.elem("input-left")); this.elem("label", "position", "right").before(this.elem("input-right")); this.__self.transitionEnd && this.bindTo(this.elem("label", "position", "left"), this.__self.transitionEnd, function () { this.delMod("transition") }) } }, onElemSetMod: { body: { position: function (b, a, c) { this.__base(b, a, c); this._setLabelsWidth(c); this.__self.transitionEnd && this.setMod("transition", "progress") } } }, getLabelWidth: function () { var a = []; this.elem("label-inner").css("width", "").width(function (b, c) { a[b] = c }); return Math.max.apply(null, a) + this.__self.PADDING }, _updateDimmensions: function () { this._maxWidth = this.getLabelWidth(); this.elem("body").css("width", this._maxWidth + this.getButtonWidth() + this.__self.BORDER); this.elem("label-inner").css("width", this._maxWidth); this._setLabelsWidth(); return this }, updateDimmensions: function () { var a = this.getMod("animation"); this.delMod("animation")._updateDimmensions(); this.afterCurrentEvent(function () { this.setMod("animation", a) }); return this }, _setLabelsWidth: function (a) { a || (a = this.position()); this.elem("label", "position", (a == "left" ? "right" : "left")).css("width", ""); this.elem("label", "position", a).css("width", this._maxWidth) }, _onTouchStart: function (f) { var c, a = this._getXFromEvent(f), d = this.position() == "left" ? this._maxWidth : this.__self.BORDER; function b(h) { this.unbindFromDomElem(this.__self._root, "mouseup touchend mousemove touchmove").unbindFromDoc("mouseleave").delMod("pressed"); if (c) { var g = parseInt(this.elem("label", "position", "left").css("width")); var i = g > this._maxWidth / 2 ? "left" : "right"; if (this.position() == i) { this._setLabelsWidth() } else { this.position(i); if (g < 3 || g > this._maxWidth - 2) { this.delMod("transition") } } } else { this.toggle() } this.afterCurrentEvent(function () { this.setMod("focused", "yes") }) } this.bindToDoc("mouseleave", b); this.bindToDomElem(this.__self._root, { "mousemove touchmove": function (i) { c || this.position(""); c = true; var j = this._getXFromEvent(i), g = j - a, h = Math.min(Math.max(this.__self.BORDER, d + g), this._maxWidth); this.elem("label", "position", "left").css("width", this._getWidthLabel(h)); this.elem("label", "position", "right").css("width", this._maxWidth - h + this.__self.BORDER) }, "mouseup touchend": b }); f.preventDefault() }, _getWidthLabel: function (a) { return a }, _onBodyClick: function () { } }, { PADDING: 10, live: function () { this.transitionEnd = "TransitionEvent" in window ? "transitionend" : "onwebkittransitionend" in window ? "webkitTransitionEnd" : "OTransition" in document.documentElement.style ? jQuery.browser.version < 12 ? "oTransitionEnd" : "otransitionend" : ""; this.__base(); return false } }); BEM.DOM.decl({ name: "b-form-switch", modName: "theme", modVal: "toggle-s-grey" }, { getButtonWidth: function () { return 11 } }); (function (b) { var d = BEM.HTML, a = BEM.DOM, c; b(function () { b(window).bind("focus", function () { c = document.activeElement }) }); a.decl({ name: "b-form-input", modName: "autocomplete", modVal: "yes" }, { onSetMod: { js: function () { var g = this; g.params.foot && (g.foot = g.params.foot); g._preventRequest = true; g._preventPopupShow = false; g._isPopupShown = false; g.__base.apply(g, arguments); g._userVal = g.val(); var f = g._focused, e = g._autoFocus; f && g.delMod("focused"); g.elem("input").attr("autocomplete", "off"); g._preventRequest = false; g._autoFocus = true; f && g.setMod("focused", "yes"); e || (delete g._autoFocus); g._items = []; g._curItemIndex = -1; g._doRequest = b.debounce(g._doRequest, g.params.debounceDelay) }, focused: { yes: function () { this.__base(); var e = this.params.showListOnFocus && !this._autoFocus ? this._onChange() : this._onChange; this.on("change", e) }, "": function () { this.__base(); this.un("change", this._onChange)._preventHide || this._getPopup().hide() } } }, onElemSetMod: { popup: { fixed: { yes: function () { this._isPopupShown && this.afterCurrentEvent(function () { this._updatePopupPos() }) }, "": function () { this._isPopupShown && this.afterCurrentEvent(function () { this._updatePopupPos() }) } } } }, getDataprovider: function () { var e = this.params.dataprovider.url; return this._dataprovider || (this._dataprovider = BEM.create(this.params.dataprovider.name || this.__self.getName() + "__dataprovider", b.extend(this.params.dataprovider, { url: e, callbackCtx: this }))) }, _onChange: function () { c === this.elem("input")[0] ? c = null : this._preventRequest || this._doRequest(); return this._onChange }, _onKeyDown: function (n) { var g = this, o = n.keyCode == 38 || n.keyCode == 40; if (o && !n.shiftKey) { n.preventDefault(); if (!g._isPopupShown) { g._getHiddenPopup() } else { var f = g._items.length, j = false; if (f) { var m = n.keyCode - 39, h = g._curItemIndex, l = 0; do { j = ((h == 0 && m == -1) || (h + m >= f)) && g._onLeaveItem(g._items[h], true); h += m; h = h < 0 ? f - 1 : h >= f ? 0 : h } while (!j && g._onEnterItem(g._items[h], true) === false && ++l < f) } } } }, _onKeyPress: function (f) { if (f.keyCode == 13) { if (this._curItemIndex > -1 && this._isCurItemEnteredByKeyboard) { f.preventDefault(); this._onSelectItem(this._items[this._curItemIndex], true) } this._getPopup().hide() } }, _getHiddenPopup: function () { this._preventRequest || this._focused && !this._isPopupShown && this._doRequest() }, _getPopup: function () { var h = this; if (!h._popup) { var e = (b.browser.opera && b.browser.version < 12.1) ? "keypress" : "keydown", g = h.__self.getName(), f = [{ elem: "items", tag: "ul", mix: [{ block: g, elem: "popup-items" }] }, { block: "b-form-input", elem: "shadow", tag: "i" }]; h._hasPopupFade() && f.push({ block: g, elem: "fade" }); h._popup = b(d.build({ block: "i-popup", mix: [{ block: g, elem: "popup", mods: h.params.popupMods, js: { uniqId: h._uniqId } }], content: f })).bem("i-popup").on({ show: function () { h.trigger("popup-shown").bindTo("keypress", h._onKeyPress).bindToWin("resize", h._updatePopupPos).unbindFrom("input", "click")._isPopupShown = true }, "outside-click": function (j, i) { h.containsDomElem(b(i.domEvent.target)) && j.preventDefault() }, hide: function () { h.trigger("popup-hidden").unbindFrom("keypress").unbindFromWin("resize").bindTo("input", "click", h._getHiddenPopup)._curItemIndex = -1; h._isPopupShown = false } }); h.bindTo(e, h._onKeyDown); b.each({ mouseover: h._onEnterItem, mouseout: h._onLeaveItem, mousedown: h._onSelectItem, mouseup: h._onItemMouseUp }, function (j, i) { BEM.blocks["b-autocomplete-item"].on(h._popup.domElem, j, function (l) { i.call(h, l.block) }) }); a.init(h._popup.domElem) } return h._popup }, getPopup: function () { return this._getPopup() }, _hasPopupFade: function () { return (this.params.popupMods || {}).fade == "yes" }, _updatePopupPos: function () { var f = this.elem("box"), e = f.offset(); e.top += f.outerHeight(); this.hasMod(this.elem("popup"), "fixed") && (e.top -= a.win.scrollTop()); this._hasPopupFade() && (e.width = f.outerWidth()); this._preventPopupShow || this._getPopup().show(e) }, _onEnterItem: function (g, h) { if (g.hasMod("enterable", "no")) { return false } var e = this._items, f = this._curItemIndex; f > -1 && e[f].delMod("hovered"); f = this._getItemIndex(g); f > -1 && e[f].setMod("hovered", "yes"); this._curItemIndex = f; this._isCurItemEnteredByKeyboard = !!h; if (h && this.params.updateOnEnter) { this._preventRequest = true; this.val(g.enter() !== false ? g.val() : this._userVal, { source: "autocomplete", itemIndex: this._curItemIndex }).del("_preventRequest") } }, _onLeaveItem: function (f, g) { var e = this._curItemIndex; if (e > -1 && e == this._getItemIndex(f)) { this._items[e].delMod("hovered"); this._curItemIndex = -1 } g && this.val(this._userVal); return true }, _onSelectItem: function (f, h) { var e = f.select(h || false), i = (typeof e == "object") ? e.needUpdate : e !== false, g = (typeof e == "object") && e.needEvent; this._preventRequest = true; this._preventBlur = !h; i && this.val(this._userVal = f.val(), { source: "autocomplete", itemIndex: this._curItemIndex }); if (h) { this.del("_preventRequest") } else { i || (this._preventHide = true); this.afterCurrentEvent(function () { this.setMod("focused", "yes").del("_preventRequest", "_preventHide") }) } (i || g) && this.trigger("select", { item: f, byKeyboard: h }) }, _onItemMouseUp: function () { this.del("_preventBlur")._getPopup().hide() }, _getItemIndex: function (e) { return b.inArray(e, this._items) }, _doRequest: function () { var e = this; e.enablePopup(); e._userVal = e.val(); e.trigger("data-requested").getDataprovider().get(e.val(), function (h) { e.trigger("data-received", h); var f = e._getPopup(), g = h.items || h; e.foot && g.length && (b.inArray(e.foot, g) == -1) && g.push(e.foot); if (g.length) { e._curItemIndex = -1; a.update(f.elem("items"), e._buildItemsHtml(g), function () { e._updatePopupPos(); e._items = f.findBlocksInside("b-autocomplete-item"); e.trigger("update-items") }) } else { f.hide() } }) }, _buildItemsHtml: function (e) { var f = this; return d.build(b.map(e, function (j, h) { var l = { block: "b-autocomplete-item", data: j, mods: { type: b.isArray(j) ? j[0] : "text" }, suggestVersion: f.params.dataprovider.version }, g; (b.isArray(j)) && b.isPlainObject(g = j.concat().pop()) && b.extend(l, g); return l })) }, setFoot: function (e) { return this.foot = e }, getDefaultParams: function () { return b.extend(this.__base(), { updateOnEnter: true, debounceDelay: 50, showListOnFocus: true }) }, enablePopup: function () { this._preventPopupShow = false }, disablePopup: function () { this._preventPopupShow = true } }) })(jQuery); BEM.decl({ name: "b-form-input__dataprovider", baseBlock: "i-request_type_ajax" }, { get: function (a, b) { return this.__base({ part: a }, function (c) { b.call(this, { items: c[1], metainfo: c[2] }) }) } }); BEM.DOM.decl("b-autocomplete-item", { val: function () { return this.params.val || this.elem("text").text() || this.domElem.text() }, enter: function () { }, select: function (a) { } }, { live: function () { this.liveBindTo("mouseover mouseout mousedown mouseup", function (a) { this.trigger(a.type) }) } }); BEM.HTML.decl("b-autocomplete-item", { onBlock: function (a) { var b = a.param("data"), c = BEM.blocks["i-common__string"].escapeHTML($.isArray(b) ? b[1] : b); $.isArray(a.param("search_cgi")) && a.js({ cgi: a.param("search_cgi") }); a.tag("li").mod("pers", a.param("pers") ? "yes" : false).content(BEM.blocks["i-common__string"].highlight(c, a.param("hl"))).js(true) } }); BEM.HTML.decl({ block: "b-autocomplete-item", modName: "type", modVal: "hl" }, { onBlock: function (a) { a.content($.map(a.param("data").slice(1), function (b) { return $.isArray(b) ? { tag: "span", elem: "highlight", content: b[0] } : b })) } }); BEM.HTML.decl({ block: "b-autocomplete-item", modName: "type", modVal: "fact" }, { onBlock: function (a) { var b = a.param("data").slice(1); a.content([{ tag: "span", elem: "text", content: BEM.blocks["i-common__string"].highlight(b[0], a.param("hl")) }, { tag: "span", elem: "fact", content: [" — ", BEM.blocks["i-common__string"].escapeHTML(b[1])] }]) } }); BEM.DOM.decl({ block: "b-autocomplete-item", modName: "type", modVal: "nav" }, { enter: function () { return false }, select: function (a) { a && $('<form style="display:none" action="' + this.val() + '" target="_blank"/>').appendTo("body").submit().remove(); return { needEvent: true } } }); BEM.HTML.decl({ block: "b-autocomplete-item", modName: "type", modVal: "nav" }, { onBlock: function (b) { var e = b.param("data"), d = b.param("suggestVersion") == 4, a = e[4] || e[3], c = (a.match(/^\w[\w-]*:\/\//g) ? "" : "http://") + a; b.js({ val: c }).content({ elem: "link", url: c, title: BEM.blocks["i-common__string"].escapeHTML(d ? e[3] : e[2]), description: BEM.blocks["i-common__string"].highlight(d ? e[2] : e[1], b.param("hl")) }) }, onElem: { link: function (a) { a.tag("a").attrs({ href: a.param("url"), target: "_blank" }).content([{ elem: "link-url", tag: "span", content: a.param("title") }, { elem: "link-info", tag: "span", content: ["&nbsp;&mdash; "].concat(a.param("description")) }]) } } }); BEM.HTML.decl({ block: "b-autocomplete-item", modName: "type", modVal: "nah" }, { onBlock: function (a) { a.content(a.param("data")[1]) } }); BEM.DOM.decl({ block: "b-autocomplete-item", modName: "type", modVal: "href" }, { url: function () { return this.findBlockInside("b-link").domElem.attr("href") }, enter: function () { return false }, select: function (a) { a && (location.href = this.url()); return false } }); BEM.HTML.decl({ block: "b-autocomplete-item", modName: "type", modVal: "href" }, { onBlock: function (a) { var b = a.param("data").slice(1); a.content({ block: "b-link", content: b[0], url: b[1] }) } }); BEM.HTML.decl({ block: "b-autocomplete-item", modName: "type", modVal: "weather" }, { onBlock: function (a) { var b = a.param("data").slice(1), c = BEM.blocks["i-common__string"].escapeHTML; a.content([{ tag: "span", elem: "text", content: c(b[0]) }, { tag: "i", elem: "icon", mods: { weather: b[2].replace("-", "minus-").replace("+", "plus-").replace(/_/g, "-") } }, { tag: "span", elem: "value", content: c(b[1].replace("-", "&ndash;")) }]) } }); BEM.HTML.decl({ block: "b-autocomplete-item", modName: "type", modVal: "traffic" }, { onBlock: function (a) { var b = a.param("data").slice(1), c = BEM.blocks["i-common__string"].escapeHTML; a.content([{ tag: "span", elem: "text", content: c(b[0]) }, { tag: "i", elem: "icon", mods: { traffic: b[2] } }, { tag: "span", elem: "value", content: c(b[1]) }]) } }); BEM.DOM.decl({ block: "b-autocomplete-item", modName: "type", modVal: "foot" }, { select: function () { return false } }); BEM.HTML.decl({ block: "b-autocomplete-item", modName: "type", modVal: "foot" }, { onBlock: function (a) { a.mod("enterable", "no").content($.map(a.param("data").slice(1), function (b) { return $.isArray(b) ? { tag: "span", elem: "foot", content: b[0] } : b })) } }); BEM.DOM.decl("b-form-attach", { onSetMod: { js: function () { this._noFileText = this.elem("text").text(); this._update(); this.bindTo("reset", "click", this.resetFile) } }, getPath: function () { return this.findBlockInside("b-form-button").findElem("input").val() }, resetFile: function () { var a = this.findBlockInside("b-form-button").findElem("input"); a.replaceWith(BEM.HTML.build({ block: "b-form-button", elem: "input", tag: "input", attrs: { name: a.attr("name") || "attachment", type: "file" } })); this._update(); this.delMod(this.elem("reset"), "visibility"); return this }, _update: function () { var a = this._getFileByPath(this.getPath()); this._setFile(a); this._setExtension(this._getExtension(a)); this.setMod(this.elem("reset"), "visibility", "visible") }, _getFileByPath: function (a) { return a.split("\\").pop() }, _setFile: function (a) { this.setMod(this.elem("holder"), "state", a ? "" : "hidden"); this.elem("text").text(a || this._noFileText) }, _extensionsToMods: { zip: "archive", rar: "archive", tar: "archive", gz: "archive", "7z": "archive", gif: "gif", jpg: "jpg", jpeg: "jpg", png: "png", eml: "eml", exe: "exe", m4a: "audio", ogg: "audio", mp3: "mp3", wav: "wav", wma: "wma", flv: "video", mov: "mov", wmv: "wmv", mp4: "mp4", avi: "avi", xls: "xls", doc: "doc", docx: "doc", txt: "txt", pdf: "pdf", ppt: "ppt" }, _getExtension: function (a) { return this._extensionsToMods[a.split(".").pop().toLowerCase()] || "" }, _setExtension: function (a) { this.setMod(this.elem("holder"), "file", a || "unknown") } }, { live: function () { this.liveBindTo("change", function () { this._update() }); if ($.browser.msie && parseInt($.browser.version) <= 8) { var b, a; this.liveBindTo("click", function () { if (typeof a == "undefined") { a = this.getPath() } var c = this; b = setInterval(function () { var d = c.getPath(); if (a != d) { clearInterval(b); a = d; c._update() } }, 300) }) } return false } }); (function (e, l, b) { var i = l.DOM, d = l.HTML, f = (e.browser.opera && e.browser.version < 12.1) ? "keypress" : "keydown", c = e.browser.msie && e.browser.version <= 10, h = "b-form-select"; function a(o, m, r) { var n = {}; if (o.item === "option") { n = { block: h, elem: "option", tag: "option", attrs: { value: o.value }, content: o.content }; o.disabled && (n.attrs.disabled = "disabled"); o.selected && (n.attrs.selected = "selected") } else { if (o.item === "optgroup") { n = { elem: "option-group", tag: "optgroup", attrs: { label: o.label } }; o.disabled && (n.attrs.disabled = "disabled"); n.content = Array.isArray(o.content) ? o.content.map(function (s, p) { return a(s, p) }) : o.content } } n.block = h; if (r) { for (var q in r) { if (r.hasOwnProperty(q)) { n[k] = val } } } return n } function g(p, o, m) { var n = { block: h, elem: "item", content: { elem: "text", tag: "span", content: o || " &nbsp; " }, mods: {} }; m && (n.mods = m); return n } function j(q) { var r = h, o = { block: r, elem: "separator", tag: "i" }, n = [{ block: r, elem: "fade", tag: "i" }], p = false; function m(x, w) { var s = x.length; if (s) { var u = 0; do { var v = e(x[u]), t = v.attr("disabled") && { disabled: "yes" }; if (v.is("optgroup")) { p = true; !v.prev().is("optgroup") && n.push(o); n.push(g(v, v.attr("label"), e.extend({ label: "yes" }, t, w))); m(v.children(), e.extend({ inner: "yes" }, t, w)) } else { n.push(g(v, v.text(), e.extend(t, v.is(":selected") && { selected: "yes" }, w))) } } while (++u < s || (p && (n.push(o), p = false))) } } m(q); return d.build(n) } i.decl("b-form-select", { onSetMod: { js: function () { this._items = []; this._curItemIndex = -1; this._rowHeight = 22; this._getSelectedText() !== this._buttonText() && this.elem("select").trigger("change"); this._onChangeTimerId = 0 }, disabled: function (o, m) { var n = m === "yes"; this.elem("select").attr("disabled", n); this._getButton().setMod(o, m); n && this.delMod("opened").delMod("focused") }, focused: { yes: function (n, m) { if (this.hasMod("disabled", "yes")) { return false } this._getButton().setMod(n, m); this.bindTo("keypress", function (o) { this._onKeyPress(o) }).bindTo(f, function (o) { this._onKeyDown(o) }).trigger("focusin") }, "": function (m) { this.delMod("opened")._getButton().delMod(m); this.unbindFrom("keypress " + f).trigger("focusout") } }, opened: { yes: function () { if (this.hasMod("disabled", "yes")) { return false } this._focus()._drawPopup(); this.bindToWin("scroll resize", this._updatePopupPos) }, "": function () { this._getPopup().hide(); this.unbindFromWin("scroll resize") } } }, open: function () { return this.setMod("opened", "yes") }, close: function () { return this.delMod("opened") }, isOpened: function () { return this.hasMod("opened", "yes") }, val: function (o) { if (typeof o === "undefined") { return this.elem("select").val() } var m = -1, n; this.findElem("option").each(function (p) { this.value === o && !this.disabled && (n = e(this).parent("optgroup")[0], !(n && n.disabled)) && (m = p) }); m > -1 && this._selectedIndex(m); return this }, _selectedIndex: function (n) { var m = this._getSelectedIndex(); if (typeof n === "undefined" || n === m) { return m } this.elem("select")[0].selectedIndex = n; this._buttonText(this._getSelectedText()); if (this._items[0]) { var o = this._items.eq(n); this.delMod(this._items, "selected").setMod(o, "selected", "yes") } this.trigger("change", { index: n, prev: m }); return n }, setOptions: function (m) { if (!m) { return } i.update(this.elem("select"), d.build(e.map(m, a))); return this.updateItems() }, updateItems: function () { this._popup && this._redrawList(); this.elem("select").trigger("change"); return this }, _focus: function () { return this.setMod("focused", "yes") }, _blur: function () { return this.delMod("focused") }, _buttonText: function (m) { if (typeof m === "undefined") { return this._getButton().elem("text").text() } return this._getButton().elem("text").html(m || " &nbsp; ") }, _onClick: function (m) { this.toggleMod("opened", "yes", "") }, _onFocus: function (m) { this.toggleMod("focused", "yes", "", m.type === "focusin") }, _onSelectChange: function (m) { var n = this; n._buttonText(n._getSelectedText()); clearTimeout(n._onChangeTimerId); n._onChangeTimerId = setTimeout(function () { n.trigger("change", { index: n._getSelectedIndex(), prev: -1 }) }, 1) }, _onKeyPress: function (m) { if (m.keyCode === 13) { m.preventDefault(); if (this.isOpened()) { this._curItemIndex > -1 ? this._onSelectItem(this._items.eq(this._curItemIndex)) : this.close() } else { return this._getButton().delMod("pressed") } } }, _onKeyDown: function (r) { var q = r.keyCode; if (q === 38 || q === 40) { r.preventDefault(); if (!this.isOpened()) { return this.open(r) } var n = this._items.length; if (n) { var p = q - 39, m = this._curItemIndex, o = 0; do { m += p } while (m >= 0 && m < n && this._onEnterItem(this._items.eq(m), true) === false && ++o < n) } } else { if (q === 32 && !this._keyPressed) { this._keyPressed = true; this._onClick(); this.bindTo("keyup", function () { this.unbindFrom("keyup"); this._keyPressed = false }) } } }, _onEnterItem: function (o, p) { if (!this._isSelectableItem(o)) { return false } var n = this._items, m = this._curItemIndex; m > -1 && this.delMod(n.eq(m), "hovered"); m = this._getItemIndex(o); m > -1 && this.setMod(n.eq(this._curItemIndex = m), "hovered", "yes"); if (p) { this._selectedIndex(this._curItemIndex); this._scrollToCurrent() } }, _onLeaveItem: function (n) { var m = this._curItemIndex; if (m > -1 && m === this._getItemIndex(n)) { this.delMod(this._items.eq(m), "hovered")._curItemIndex = -1 } }, _onSelectItem: function (m) { if (this._isSelectableItem(m)) { this._selectedIndex(this._curItemIndex) } this.afterCurrentEvent(function () { this._getButton().setMod("focused", "yes") }); return this.close() }, _isOutsideClicked: function (n, m) { return this.containsDomElem(e(m.domEvent.target)) }, _getItemIndex: function (m) { return e.inArray(m.get(0), this._items) }, _getSelectedText: function () { return this.elem("select").find(":selected").text() }, _getSelectedIndex: function () { return this.elem("select")[0].selectedIndex }, _isSelectableItem: function (m) { return !(this.hasMod(m, "disabled", "yes") || this.hasMod(m, "label", "yes")) }, _getButton: function () { return this._button || (this._button = this.findBlockInside("b-form-button")) }, _getPopup: function () { if (this._popup) { return this._popup } var q = this, o = q.__self.getName(), p = { block: o, elem: "list" }, n = { block: o, elem: "popup", mods: {} };["size", "layout", "theme", "width"].forEach(function (s, r) { q.hasMod(s) && (n.mods[s] = q.getMod(s)) }); var m = e(d.build({ block: "i-popup", underMix: [{ block: "b-popupa", elem: "under" }], content: { block: "b-popupa", mods: q.params.popupMods, mix: [{ block: o }, n], content: { elem: "content", content: p } } })); (q._popup = q.findBlockOn(m, "i-popup")).on({ show: function () { q._curItemIndex = q._getSelectedIndex(); var r = q._items.eq(q._curItemIndex); q.delMod(q._items, "selected").setMod(r, "hovered", "yes").setMod(r, "selected", "yes").bindToDoc("keydown", function (s) { if (s.keyCode === 9 && q.isOpened()) { q._blur() } }) }, "outside-click": function (s, r) { q._isOutsideClicked(s, r) ? s.preventDefault() : q._blur() }, hide: function () { q._curItemIndex = -1; q.delMod("opened").delMod(q._items, "hovered").delMod(q.findElem(q._popup.domElem, "popup"), "scrollable").unbindFromDoc("keydown") } }).bindTo("mousedown", function (r) { r.preventDefault() }); l.DOM.append("body", q._popup.domElem); q._redrawList(); q._outPopup = q.findBlockOutside("button", "b-popupa"); q._outPopup && q._outPopup.on("outside-click", function (s, r) { q._popup.containsDomElem(e(r.domEvent.target)) && s.preventDefault() }); return this._popup }, _redrawList: function () { var o = this, m = o._getPopup().domElem, n; i.update(this.findElem(m, "list"), j(this.elem("select").children())); n = this.findElem(m, "item"); this._curItemIndex = -1; this._items = n.filter(function () { return !o.hasMod(e(this), "label", "yes") }); this.bindTo(n, { mouseup: function (p) { p.which === 1 && (p.preventDefault(), o._onSelectItem(p.data.domElem)) }, mouseover: function (p) { o._onEnterItem(p.data.domElem) }, mouseout: function (p) { o._onLeaveItem(p.data.domElem) } }); return this }, _popupPos: function () { var n = this._getButton().domElem, m = n.offset(); m.top += n.outerHeight(); return m }, _updatePopupPos: function () { var m = this._popupPos(); m && this._getPopup().domElem.css(m) }, _drawPopup: function () { var n = this._popupPos(), m = this._getPopup(); m.show(n); this._calcPopupDimensions(); this._scrollToCurrent() }, _getRowHeight: function () { return this.findElem(this._getPopup().domElem, "item").outerHeight() }, _calcPopupDimensions: function () { if (!this._popupContent) { this._popupContent = this._getPopup().findBlockInside("b-popupa").elem("content") } var m = parseInt(this.params.rows, 10) || false; if (m && this.findElem(this._popupContent, "item").size() > m) { this._rowHeight = this._getRowHeight(); this._popupContent.css("height", m * this._rowHeight); this.setMod(this.findElem(this._getPopup().domElem, "popup"), "scrollable", "yes") } }, _scrollToCurrent: function () { if (!this._popupContent || this._curItemIndex < 0) { return } var p = this.findElem(this._getPopup().domElem, "item", "selected", "yes").get(0).offsetTop, r = this._popupContent, q = r.scrollTop(), m = p - q, o = this._rowHeight * 2, n; if (m > r.height() - o) { n = p - o } else { if (q && m < o) { n = p - r.height() + o } } n && r.scrollTop(n) }, destruct: function () { clearTimeout(this._onChangeTimerId); this._outPopup && this._outPopup.un("outside-click"); var m = this._popup; m && m.destruct(); this.__base.apply(this, arguments) }, getDefaultParams: function () { return { rows: 13, popupMods: { direction: "down" } } } }, { live: function () { this.liveBindTo("button", "focusin focusout", function (m) { if (c && m.type == "focusout") { return } this._onFocus(m) }).liveBindTo("button", "mousedown", function (m) { m.which === 1 && (m.preventDefault(), this._onClick(m)) }).liveBindTo("select", "change", function (m) { this._onSelectChange() }); return false } }) }(jQuery, BEM)); var i18n = i18n || {}; (function (e, f, d) { if (typeof f.I18N === "function" && f.I18N._proto) { return f.I18N } var a = {}, l = [], m = "_", h = "__", g = "ru"; function n(o) { typeof o === "string" && (o = { block: o }); return o.block + (o.elem ? (h + o.elem) : "") + (o.modName ? m + o.modName + m + o.modVal : "") } function i(p) { var o = {}; p.split(h).forEach(function (s, q) { var r = [q ? "elem" : "block", "mod", "val"]; s.split(m).forEach(function (u, t) { o[r[t]] = u }) }); return o } function c(o) { if (!o) { return false } return l.push(o) } function b() { return l.length && l.pop() } function j() { this._lang = ""; this._prj = "lego"; this._keyset = ""; this._key = "" } j.prototype = { lang: function (o) { this._lang = o; return this }, project: function (o) { this._prj = o; return this }, keyset: function (o, p) { p && c(this._keyset); this._keyset = n(o); return this }, key: function (o) { this._key = o; return this }, decl: function (r) { var p = i(this._keyset), s = p.block === "i-tanker" ? "tanker" : this._prj, u = p.elem || this._keyset, t = this._key; s = i18n[s] || (i18n[s] = {}); u = s[u] || (s[u] = {}); u[t] = typeof r === "function" ? r : (function (v) { return (r) }); var o = a[this._lang] || (a[this._lang] = {}), q = o[this._keyset] || (o[this._keyset] = {}); q[t] = r }, val: function (r, o) { var p = a[this._lang] && a[this._lang][this._keyset]; if (!p) { console && console.log && console.log("[Error] keyset: " + this._keyset + " key: " + this._key + " (lang: " + this._lang + ")"); return "" } p = p[this._key]; if (!p) { return "" } try { return typeof p === "string" ? p : o ? p.call(o, r) : p.call(this, r) } catch (q) { throw "[Error] keyset: " + this._keyset + " key: " + this._key + " (lang: " + this._lang + ")" } }, _c: function () { return a } }; f.I18N = (function (p) { var o = function (r, q, s) { return o.keyset(r).key(q, s) }; o._proto = p; o.project = function (q) { this._proto.project(q); return this }; o.keyset = function (q) { this._proto.keyset(q, true); return this }; o.key = function (r, u) { var s = this._proto, q, t; s.lang(this._lang).key(r); q = s.val.call(s, u, o); t = b(); t && s.keyset(t, false); return q }; o.decl = function (q, u, s) { var t = this._proto, r; s || (s = {}); s.lang && t.lang(s.lang); t.keyset(q); for (r in u) { u.hasOwnProperty(r) && t.key(r).decl(u[r]) } return this }; o.lang = function (q) { typeof q !== "undefined" && (this._lang = q); return this._lang }; o.lang(g); return o }(new j())); BEM = f })(this, typeof BEM === "undefined" ? {} : BEM); BEM.I18N.decl("b-chart", { Sep: "Сен", May: "Май", Jun: "Июн", Jul: "Июл", Jan: "Янв", Nov: "Ноя", Aug: "Авг", Feb: "Фев", Mar: "Мар", Oct: "Окт", Apr: "Апр", Dec: "Дек" }, { lang: "ru" }); BEM.I18N.decl("b-copyright", { link: function (a) { return "ООО «" + a.content + "»" }, yandex: "Яндекс" }, { lang: "ru" }); BEM.I18N.decl("b-db-switcher", { "Phones only": "Только телефоны", "Tablets only": "Только планшеты", Desktop: "Десктопы", All: "Все", Mobile: "Мобильные" }, { lang: "ru" }); BEM.I18N.decl("b-domik", { "bigform-logo-alt": "Яндекс", "bigform-logo-link": "http://www.yandex.ru", "bigform-logo-url": "/blocks-desktop/b-domik/_type/b-domik_type_bigform__logo.png", cancel: "Отмена", "enter-with": "Войти при помощи", help: "что это", "help-link": "http://help.yandex.ru/passport/?id=922493", login: "логин", logon: "Войти", "passport-link": "https://passport.yandex.ru/", password: "пароль", permanent: "запомнить меня", register: "Зарегистрироваться", remember: "Напомнить пароль", temporary: "чужой компьютер", title: "Вход", "wrong-characters": "недопустимый ввод", "wrong-keyboard-layout": "смените раскладку" }, { lang: "ru" }); BEM.I18N.decl("b-foot", { about: "О компании", advert: "Реклама", agreement: "Пользовательское соглашение", beta: "β-версия", "copyright-notice": function (a) { return }, design: "Дизайн", "design-artlebedev": "Студия Артемия Лебедева", "design-artlebedev-url": "http://www.artlebedev.ru", mobile: "Мобильная версия", "privacy-policy": function (a) { return }, "services-button-value": "Перейти", stat: "Статистика", "terms-of-service": function (a) { return }, termsofuse: "Лицензия на поиск", vacancies: "Вакансии", "yandex-is-local": "Яндекс локален", "yandex-is-not-local": "Как сделать Яндекс локальным" }, { lang: "ru" }); BEM.I18N.decl("b-form-input", { search: "Поиск", "search-label": "поиск", vid: "Видео" }, { lang: "ru" }); BEM.I18N.decl("b-head-logo", { yandex: "Яндекс" }, { lang: "ru" }); BEM.I18N.decl("b-head-name", { beta: "бета" }, { lang: "ru" }); BEM.I18N.decl("b-head-search", { "my-searches-off": "Мои запросы ((выключены))", "my-searches-on": "Мои запросы ((включены))" }, { lang: "ru" }); BEM.I18N.decl("b-head-tabs", { more: "ещё", or: "или" }, { lang: "ru" }); BEM.I18N.decl("b-head-user", { "change-password": "Сменить пароль", passport: "Паспорт", profiles: "Мои профили" }, { lang: "ru" }); BEM.I18N.decl("b-head-userinfo", { enter: "Войти", exit: "Выход", help: "Помощь", "my-services": "Мои сервисы", region: "Регион", "search-label": "поиск", "search-value": "Найти", setup: "Настройка" }, { lang: "ru" }); BEM.I18N.decl("b-history", { "The 'All' option includes queries on desktops (computers and laptops), tablets, and smartphones. Choose 'Mobile' to see data for queries for both tablets and smartphones. To see data for tablets and smartphones separately, please click 'Tablets only' and 'Phones only'.": "Срез «Десктопы» включает запросы на настольных компьютерах и ноутбуках, срез «Мобильные» — на телефонах и планшетах. Посмотреть данные о запросах на телефонах или планшетах отдельно можно с помощью срезов «Только телефоны» и «Только планшеты» соответственно.", "Group by:": "Группировать по:", week: "неделя", month: "месяц" }, { lang: "ru" }); BEM.I18N.decl("b-lang-switcher", { all: "ещё" }, { lang: "ru" }); BEM.I18N.decl("b-map", { popularity: "популярность", "Back to countries map": "Вернуться к карте стран" }, { lang: "ru" }); BEM.I18N.decl("b-pager", { date: "по дате", next: "следующая", pages: "Страницы", prev: "предыдущая", rel: "по релевантности", sorted: "Отсортировано", Previous: "назад", Next: "далее", Pages: "Страницы" }, { lang: "ru" }); BEM.I18N.decl("b-region-select", { "All regions": "Все регионы" }, { lang: "ru" }); BEM.I18N.decl("b-regions-statistic", { List: "Список", Regions: "Регионы", "Regional popularity": "Региональная популярность", All: "Все", Cities: "Города", Map: "Карта", "Displays per month": "Показов в месяц" }, { lang: "ru" }); BEM.I18N.decl("b-search", { "advanced-search": "расширенный поиск", "button-value": "Найти", "for-example": "Например", label: "поиск" }, { lang: "ru" }); BEM.I18N.decl("i-content-loader", { "Internal server error.": "Internal server error.", "Request entity too large.": "Превышена допустимая длина запроса.", "Try again": "Try again", OK: "OK" }, { lang: "ru" }); BEM.I18N.decl("i-services", { "404": "404", adresa: "Адреса", advertising: "Реклама", afisha: "Афиша", all: "Все сервисы", api: "API", appsearch: "Приложения", auto: "Авто", aziada: "Азиада", ba: "Баян", backapv: "Партнер Я.Карт", balance: "Баланс", bar: "Бар", "bar-ie": "Бар для ИЕ", "bar-ie9": "Бар для ИЕ9", bayan: "Баннеры Яндекса", blogs: "Блоги", books: "Книги", browser: "Браузер", calendar: "Календарь", captcha: "ой...", catalogwdgt: "Каталог виджетов", chrome: "Хром с поиском Яндекса", city: "Города", cityday: "День города", collection: "Коллекция", company: "Компания", contest: "Contest", desktop: "Персональный поиск", direct: "Директ", "direct.market": "Маркет", disk: "Диск", ege: "ЕГЭ", expert: "Эксперт", feedback: "Обратная связь", ff: "ФФ с поиском Яндекса", fotki: "Фотки", fresh: "Свежее", games: "Игрушки", geocontext: "Геоконтекст", goroda: "Города", help: "Помощь", i: "Мои сервисы", ie: "ИЕ с поиском Яндекса", images: "Картинки", "images-com": "Картинки", interests: "Интересы", internet: "Интернет", keyboard: "Клавиатура", kraski: "Краски", kuda: "Куда все идут", large: "Яндекс для слабовидящих", legal: "Правовые документы", lenta: "Лента", libra: "Библиотека", literacy: "Неделя борьбы за грамотность", local: "Локальная сеть", lost: "Незабудки", love: "День взаимного тяготения — 13 августа", mail: "Почта", maps: "Карты", "maps-wiki": "Народная карта", market: "Маркет", "market.advertising": "Маркет", metrika: "Метрика", metro: "Метро", mobile: "Мобильный", moikrug: "Мой Круг", money: "Деньги", museums: "Дни исторического и культурного наследия", music: "Музыка", "music-partner": "Музыка: статистика", nahodki: "Мои находки", nano: "Нано", newhire: "Наниматор", news: "Новости", oauth: "Авторизация", online: "Онлайн", openid: "OpenID", opera: "Opera Software", opinion: "Цитаты", partners: "Рекламная сеть", partnersearch: "Поиск для партнеров", passport: "Паспорт", pdd: "Почта для домена", peoplesearch: "Люди", perevod: "перевод", probki: "Пробки", pulse: "блоги: пульс", punto: "Punto switcher", pvo: "Ответы", rabota: "Работа", ramazan: function (a) { return }, rasp: "Расписания", realty: "Недвижимость", referats: "Рефераты", rk: "Есть вопросы?", root: "Яндекс.Олимпиада для Unix администраторов", school: "Школа", search: "Поиск", server: "Сервер", site: "Поиск для сайта", slovari: "Словари", so: "Самооборона", social: "Социализм", soft: "Программы", sport: "Спорт", sprav: "Справочник", start: "Стартовая страница", stat: "Статистика", subs: "Подписки", taxi: "Такси", terms: "Разговорник", tests: "Тесты и опросы", time: "Яндекс.Время", toster: "Тосты", translate: "Перевод", tune: "Настройки", tv: "Телепрограмма", uslugi: "Услуги", video: "Видео", "video-com": "Видео", wdgt: "Виджеты", weather: "Погода", webmaster: "Вебмастер", widgets: "Виджеты", wordstat: "Статистика", wow: "Я.ру", www: "Поиск", xmlsearch: "XML", yaca: "Каталог", yamb: "Медийные баннеры", zakladki: "Закладки" }, { lang: "ru" }); BEM.I18N.lang("ru") };